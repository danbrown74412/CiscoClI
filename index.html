<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CISCO CLI ACADEMY</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap');
:root{--bg:#0a0e14;--bg2:#111922;--bg3:#151f2b;--bg4:#1a2636;--cy:#00e5ff;--cy2:#00a5b8;--gn:#00ff88;--gn2:#00b85c;--or:#ff9100;--rd:#ff3d3d;--pu:#b388ff;--yl:#ffd740;--gd:#ffc107;--tx:#e0e6ed;--txd:#7a8a9e;--br:#1e2d3d}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;overflow-x:hidden}
body::after{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,229,255,0.015) 2px,rgba(0,229,255,0.015) 4px);pointer-events:none;z-index:9999}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--cy2);border-radius:3px}
@keyframes glowPulse{0%,100%{box-shadow:0 0 5px rgba(0,229,255,0.3)}50%{box-shadow:0 0 20px rgba(0,229,255,0.6)}}
@keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes blink{50%{opacity:0}}
@keyframes floatUp{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-80px) scale(1.5)}}
@keyframes streakFire{0%,100%{text-shadow:0 0 10px #ff9100}50%{text-shadow:0 0 25px #ff3d3d,0 0 50px #ff9100}}
@keyframes correctFlash{0%{background:rgba(0,255,136,0.3)}100%{background:transparent}}
@keyframes wrongFlash{0%{background:rgba(255,61,61,0.3)}100%{background:transparent}}
.asu{animation:slideUp .4s ease-out}.afi{animation:fadeIn .3s ease-out}
.top-bar{display:flex;align-items:center;justify-content:space-between;padding:12px 24px;background:var(--bg2);border-bottom:1px solid var(--br);position:sticky;top:0;z-index:100}
.app-logo{font-family:'Orbitron';font-size:18px;font-weight:800;background:linear-gradient(135deg,var(--cy),var(--gn));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:2px}
.rank-badge{background:var(--bg3);border:1px solid var(--cy2);padding:4px 12px;border-radius:4px;font-family:'JetBrains Mono';font-size:11px;color:var(--cy);text-transform:uppercase;letter-spacing:1px}
.sc{display:flex;align-items:center;gap:6px;font-family:'JetBrains Mono';font-size:13px}
.sc .l{color:var(--txd);font-size:10px;text-transform:uppercase;letter-spacing:1px}.sc .v{font-weight:600}
.xbw{width:200px;height:8px;background:var(--bg);border-radius:4px;overflow:hidden;border:1px solid var(--br)}
.xbf{height:100%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:4px;transition:width .6s}
.nav-tabs{display:flex;gap:4px;padding:8px 24px;background:var(--bg2);border-bottom:1px solid var(--br);flex-wrap:wrap}
.nav-tab{padding:10px 20px;background:0;border:none;color:var(--txd);font-family:'Inter';font-size:13px;font-weight:500;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;gap:8px}
.nav-tab:hover{background:var(--bg4);color:var(--tx)}.nav-tab.active{background:var(--bg3);color:var(--cy);border:1px solid var(--br)}
.main-content{padding:24px;max-width:1400px;margin:0 auto}
.screen{display:none}.screen.active{display:block;animation:fadeIn .3s ease}
.dg{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin-bottom:24px}
.dc{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;transition:all .3s}
.dc:hover{border-color:var(--cy2)}
.dc h3{font-family:'Orbitron';font-size:12px;color:var(--txd);text-transform:uppercase;letter-spacing:2px;margin-bottom:12px}
.dc .bn{font-family:'Orbitron';font-size:36px;font-weight:700}.dc .st{font-size:13px;color:var(--txd);margin-top:4px}
.dc.fw{grid-column:1/-1}
.mc{display:flex;align-items:center;gap:20px;background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:20px 24px;cursor:pointer;transition:all .3s;margin-bottom:12px}
.mc:hover{border-color:var(--cy2);transform:translateX(4px)}
.mc.locked{opacity:.5;cursor:not-allowed}.mc.locked:hover{transform:none;border-color:var(--br)}
.mc.completed{border-left:3px solid var(--gn)}.mc.current{border-left:3px solid var(--cy);animation:glowPulse 3s infinite}
.mn{width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-family:'Orbitron';font-size:18px;font-weight:700;flex-shrink:0}
.mc.completed .mn{background:var(--gn);color:var(--bg)}.mc.current .mn{background:var(--cy);color:var(--bg)}
.mc.locked .mn{background:var(--bg);color:var(--txd);border:2px solid var(--br)}
.mc:not(.locked):not(.completed):not(.current) .mn{background:var(--bg);color:var(--tx);border:2px solid var(--txd)}
.lh{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:20px}
.lh h2{font-family:'Orbitron';font-size:20px;margin-bottom:8px}
.lpb{flex:1;height:8px;background:var(--bg);border-radius:4px;overflow:hidden}.lpf{height:100%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:4px;transition:width .5s}
.lcnt{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:32px;margin-bottom:20px;animation:slideUp .4s ease}
.lcnt h3{font-family:'Orbitron';font-size:16px;color:var(--cy);margin-bottom:16px}.lcnt p{line-height:1.7;margin-bottom:12px;font-size:15px}
.cli{background:#000;border:1px solid #333;border-radius:8px;padding:16px 20px;font-family:'JetBrains Mono';font-size:14px;color:var(--gn);margin:16px 0;overflow-x:auto;white-space:pre-wrap}
.cli .p{color:var(--cy)}.cli .c{color:#666;font-style:italic}.cli .k{color:var(--or)}.cli .o{color:#999}
.kp{background:rgba(0,229,255,0.05);border-left:3px solid var(--cy);padding:12px 16px;margin:16px 0;border-radius:0 6px 6px 0;font-size:14px;line-height:1.6}
.wb{background:rgba(255,61,61,0.05);border-left:3px solid var(--rd);padding:12px 16px;margin:16px 0;border-radius:0 6px 6px 0;font-size:14px;line-height:1.6}
.pt{background:rgba(255,215,64,0.05);border-left:3px solid var(--gd);padding:12px 16px;margin:16px 0;border-radius:0 6px 6px 0;font-size:14px;line-height:1.6}
.qo{display:flex;flex-direction:column;gap:10px}
.qopt{display:flex;align-items:center;gap:12px;background:var(--bg3);border:2px solid var(--br);border-radius:10px;padding:16px 20px;cursor:pointer;transition:all .2s;font-size:15px}
.qopt:hover{border-color:var(--cy2);background:var(--bg4)}
.qopt .ok{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg);border-radius:6px;font-family:'JetBrains Mono';font-size:13px;font-weight:600;color:var(--txd);flex-shrink:0}
.qopt.correct{border-color:var(--gn);background:rgba(0,255,136,.1);animation:correctFlash .5s}.qopt.correct .ok{background:var(--gn);color:var(--bg)}
.qopt.wrong{border-color:var(--rd);background:rgba(255,61,61,.1);animation:wrongFlash .5s}.qopt.wrong .ok{background:var(--rd);color:#fff}
.qopt.disabled{pointer-events:none;opacity:.6}
.tiw{display:flex;align-items:center;background:#000;border:2px solid var(--br);border-radius:8px;padding:4px;margin-top:12px;transition:border-color .3s}
.tiw:focus-within{border-color:var(--cy)}
.tip{font-family:'JetBrains Mono';color:var(--cy);padding:12px;font-size:14px;white-space:nowrap}
.tii{flex:1;background:0;border:none;color:var(--gn);font-family:'JetBrains Mono';font-size:14px;padding:12px 8px;outline:none}.tii::placeholder{color:#444}
.btn{padding:12px 24px;border:none;border-radius:8px;font-family:'Inter';font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:8px}
.bp{background:var(--cy);color:var(--bg)}.bp:hover{background:#33ebff;transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,229,255,.3)}
.bs{background:var(--bg3);color:var(--tx);border:1px solid var(--br)}.bs:hover{border-color:var(--cy2)}
.bd{background:rgba(255,61,61,.15);color:var(--rd);border:1px solid rgba(255,61,61,.3)}.bd:hover{background:rgba(255,61,61,.25)}
.bg{background:var(--gn);color:var(--bg)}.bg:hover{background:#33ff99}
.bsm{padding:8px 16px;font-size:12px}.blg{padding:16px 32px;font-size:16px}
.xp-float{position:fixed;font-family:'Orbitron';font-size:20px;font-weight:700;color:var(--cy);pointer-events:none;z-index:1000;animation:floatUp 1.5s ease forwards}
.mo{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:500;animation:fadeIn .3s}.mo.hidden{display:none}
.modal{background:var(--bg2);border:1px solid var(--cy2);border-radius:16px;padding:40px;text-align:center;max-width:500px;width:90%;animation:slideUp .4s}
.rsg{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:12px}
.rc{background:var(--bg3);border:1px solid var(--br);border-radius:8px;padding:16px;transition:all .2s}.rc:hover{border-color:var(--cy2)}
.rcm{font-family:'JetBrains Mono';font-size:14px;color:var(--gn);margin-bottom:6px}
.rcd{font-size:13px;color:var(--txd);line-height:1.4}
.rcat{display:inline-block;font-size:10px;text-transform:uppercase;letter-spacing:1px;padding:2px 8px;border-radius:3px;margin-top:8px}
.ag{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
.ac{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:20px;display:flex;align-items:center;gap:16px;transition:all .3s}
.ac.earned{border-color:var(--gd)}.ac.locked{opacity:.4}
.ai2{font-size:36px;width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:var(--bg);border-radius:10px;flex-shrink:0}
.ac.earned .ai2{background:rgba(255,193,7,.15)}
.sb{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:20px}
.sb h3{color:var(--rd);font-family:'Orbitron';font-size:14px;margin-bottom:12px}
.sb .to{background:#000;border:1px solid #333;padding:16px;border-radius:8px;font-family:'JetBrains Mono';font-size:13px;color:#ccc;white-space:pre-wrap;margin-top:12px}
.ss{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:16px}
.ss h3{font-family:'Orbitron';font-size:13px;color:var(--txd);text-transform:uppercase;letter-spacing:2px;margin-bottom:16px}
.rp{max-width:600px;margin:0 auto;text-align:center}
.rp .scr{width:150px;height:150px;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:24px auto;font-family:'Orbitron'}
.rp .scr .pc{font-size:36px;font-weight:700}.rp .scr .lb{font-size:11px;color:var(--txd);margin-top:4px}
.rp .sr{display:flex;justify-content:center;gap:32px;margin:20px 0}
.rp .si{text-align:center}.rp .si .va{font-family:'Orbitron';font-size:24px;font-weight:600}.rp .si .la{font-size:11px;color:var(--txd);margin-top:4px}
.md2{display:flex;gap:3px;margin-top:8px}.mdd{width:8px;height:8px;border-radius:50%;background:var(--bg);border:1px solid var(--br)}.mdd.f{background:var(--cy);border-color:var(--cy)}
.rfs{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center}
.rfi{flex:1;min-width:200px;background:var(--bg3);border:2px solid var(--br);border-radius:8px;padding:12px 16px;color:var(--tx);font-family:'JetBrains Mono';font-size:14px;outline:none}.rfi:focus{border-color:var(--cy)}
.rfb{padding:10px 16px;background:var(--bg3);border:1px solid var(--br);border-radius:8px;color:var(--txd);cursor:pointer;font-size:13px;transition:all .2s}.rfb:hover,.rfb.active{border-color:var(--cy);color:var(--cy)}
.ws{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:80vh;text-align:center}
.wl{font-family:'Orbitron';font-size:48px;font-weight:900;background:linear-gradient(135deg,var(--cy),var(--gn));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
.wt{background:#000;border:1px solid #333;border-radius:12px;padding:32px;max-width:500px;width:90%;text-align:left;font-family:'JetBrains Mono';font-size:14px;margin-bottom:32px}
.wt .ln{margin-bottom:8px}.wt .pr{color:var(--cy)}.wt .ty{color:var(--gn)}
.wt .cb{display:inline-block;width:8px;height:16px;background:var(--gn);animation:blink 1s step-end infinite;vertical-align:middle}
@media(max-width:900px){.dg{grid-template-columns:1fr}.top-bar{flex-wrap:wrap;gap:8px}.rsg{grid-template-columns:1fr}}
</style>
</head>
<body>

<div id="app">
<div id="ws" class="ws" style="display:none">
<div class="wl">CISCO CLI ACADEMY</div>
<div style="font-family:'JetBrains Mono';font-size:14px;color:var(--txd);margin-bottom:40px;letter-spacing:3px">COMMAND LINE COMBAT TRAINING</div>
<div class="wt">
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">Initializing training protocol...</span></div>
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">Loading command database... 79 commands indexed</span></div>
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">66 campaign modules loaded. 123 lessons ready.</span></div>
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">Recruit identified. Begin training?</span></div>
<div class="ln"><span class="pr">recruit&gt;</span> <span class="cb"></span></div>
</div>
<button class="btn bp blg" onclick="startNewGame()">&#x26A1; BEGIN TRAINING</button>
<p style="margin-top:16px;font-size:13px;color:var(--txd)">Progress saves automatically to your browser</p>
</div>
<div id="ma" style="display:none">
<div class="top-bar">
<div style="display:flex;align-items:center;gap:16px">
<div class="app-logo">CLI ACADEMY</div>
<div class="rank-badge" id="rb">CABLE MONKEY</div>
</div>
<div style="display:flex;align-items:center;gap:20px;flex:1;justify-content:center">
<div class="sc"><div><div class="l">Level</div><div class="v" style="color:var(--gd)" id="ld">1</div></div></div>
<div class="sc"><div><div class="l">XP</div><div class="v" style="color:var(--cy)"><span id="xd">0</span>/<span id="xn">100</span></div></div><div class="xbw"><div class="xbf" id="xb" style="width:0%"></div></div></div>
<div class="sc"><div><div class="l">Streak</div><div class="v" style="color:var(--or)" id="sd">0</div></div></div>
<div class="sc"><div><div class="l">Mastered</div><div class="v" style="color:var(--gn)" id="md">0</div></div></div>
</div>
<button class="btn bsm bs" onclick="showScreen('settings')">&#x2699;&#xFE0F;</button>
</div>
<div class="nav-tabs">
<button class="nav-tab active" data-screen="dashboard" onclick="showScreen('dashboard')">&#x1F4CA; Dashboard</button>
<button class="nav-tab" data-screen="campaign" onclick="showScreen('campaign')">&#x1F5FA;&#xFE0F; Campaign</button>
<button class="nav-tab" data-screen="reference" onclick="showScreen('reference')">&#x1F4D6; Reference</button>
<button class="nav-tab" data-screen="achievements" onclick="showScreen('achievements')">&#x1F3C6; Achievements</button>
</div>
<div class="main-content">
<div id="s-dashboard" class="screen active"></div>
<div id="s-campaign" class="screen"></div>
<div id="s-lesson" class="screen"></div>
<div id="s-troubleshoot" class="screen"></div>
<div id="s-reference" class="screen"></div>
<div id="s-achievements" class="screen"></div>
<div id="s-settings" class="screen"></div>
</div>
</div>
</div>
<div id="lm" class="mo hidden"><div class="modal"><div style="font-size:64px">&#x26A1;</div><h2 style="color:var(--gd);font-family:'Orbitron';font-size:28px">LEVEL UP!</h2><div id="lmc"></div><button class="btn bp" onclick="$('lm').classList.add('hidden')" style="margin-top:20px">Continue</button></div></div>

<script>
const MODULES=[{"id": "net101", "title": "Networking 101", "desc": "What is a network? Devices, topologies, and fundamentals.", "icon": "üåç", "tier": "Beginner", "lessons": [{"title": "What is a Network?", "content": "<h3>What is a Network?</h3>\n<p>A <strong>network</strong> is simply two or more devices connected together so they can share data. That's it. Your home WiFi? That's a network. Two computers connected by an Ethernet cable? Also a network. The entire internet? The biggest network ever built.</p>\n\n<p>Networks exist because standalone computers are limited. Imagine an office where nobody can email, share files, or use the internet ‚Äî that's a world without networks. Every modern business depends on them.</p>\n\n<h3>Types of Networks by Size</h3>\n<div class=\"cli\"><span class=\"k\">LAN</span>  - Local Area Network\n       A single building or floor. Your office, your home.\n       Fast (1-10 Gbps), cheap, you own/control it.\n       Uses Ethernet switches to connect devices.\n\n<span class=\"k\">WAN</span>  - Wide Area Network\n       Connects LANs across cities, countries, continents.\n       Slower than LAN, expensive (ISP circuits).\n       The internet is the world's largest WAN.\n\n<span class=\"k\">WLAN</span> - Wireless LAN\n       Same as LAN but uses WiFi (802.11) instead of cables.\n       Convenient but slower, less secure, shared medium.\n\n<span class=\"k\">MAN</span>  - Metropolitan Area Network\n       City-scale. Connects buildings across a campus or city.\n       Often fiber-based (Metro Ethernet).\n\n<span class=\"k\">SAN</span>  - Storage Area Network\n       Dedicated high-speed network just for storage (disk arrays).\n       Uses Fibre Channel or iSCSI. Servers access shared disks.\n\n<span class=\"k\">PAN</span>  - Personal Area Network\n       Your personal bubble: Bluetooth headphones, smartwatch.\n       Very short range (usually under 10 meters).</div>\n\n<h3>Network Devices ‚Äî What Does What?</h3>\n<p>Think of a network like a postal system. Devices play different roles:</p>\n<div class=\"cli\"><span class=\"k\">Hub</span>      Layer 1 ‚Äî A dumb repeater. Sends every packet to\n           EVERY port. Like shouting in a room. Obsolete.\n\n<span class=\"k\">Switch</span>   Layer 2 ‚Äî Smart. Learns which device is on which port\n           using MAC addresses. Sends packets ONLY to the right\n           port. This is the backbone of every modern LAN.\n\n<span class=\"k\">Router</span>   Layer 3 ‚Äî Connects DIFFERENT networks together using\n           IP addresses. Your home router connects your LAN to\n           your ISP's network. Without routers, networks are\n           isolated islands.\n\n<span class=\"k\">Firewall</span> Layer 3-7 ‚Äî Security guard. Inspects traffic and\n           blocks anything that violates the rules. Can filter\n           by IP, port, protocol, even application content.\n\n<span class=\"k\">L3 Switch</span> Combines switch + router. Routes between VLANs\n           at wire speed. Standard in enterprise networks.</div>\n\n<div class=\"kp\">üí° <strong>Key concept:</strong> Switches work with MAC addresses (Layer 2). Routers work with IP addresses (Layer 3). Understanding this distinction is fundamental to everything that follows.</div>", "questions": [{"type": "choice", "q": "Router connects?", "options": ["Devices on same network", "Different networks", "Only wireless", "Only WAN"], "answer": 1, "explain": "Routers connect different networks using IP."}, {"type": "choice", "q": "50 PCs on a switch = ?", "options": ["WAN", "LAN", "MAN", "SAN"], "answer": 1, "explain": "LAN = small local area."}, {"type": "choice", "q": "Switch forwards by?", "options": ["IP address", "MAC address", "Port number", "Hostname"], "answer": 1, "explain": "Switches use MAC tables."}, {"type": "choice", "q": "Two offices across a city connected = ?", "options": ["LAN", "WAN", "PAN", "VLAN"], "answer": 1, "explain": "WAN connects geographically distant sites."}]}, {"title": "The OSI Model", "content": "<h3>The OSI Model ‚Äî 7 Layers of Networking</h3>\n<p>The OSI model breaks networking into 7 layers. Each layer has a specific job and talks to the layers above and below it. When you send an email, your data travels DOWN through all 7 layers on your computer, across the wire, then UP through all 7 layers on the destination.</p>\n\n<p><strong>Why should you care?</strong> Because when something breaks, you troubleshoot layer by layer. \"Can't reach the server\" could be a Layer 1 problem (cable unplugged), Layer 2 (wrong VLAN), Layer 3 (bad route), or Layer 7 (service crashed). The OSI model is your troubleshooting framework.</p>\n\n<h3>The 7 Layers (memorize this!)</h3>\n<div class=\"cli\"><span class=\"k\">Mnemonic: All People Seem To Need Data Processing</span>\n(or from bottom: Please Do Not Throw Sausage Pizza Away)\n\n<span class=\"k\">Layer 7: Application</span>     What the USER sees\n   Protocols: HTTP, HTTPS, FTP, SSH, DNS, DHCP, SMTP\n   This is your web browser, email client, file transfer.\n   NOT the application itself ‚Äî the network SERVICES it uses.\n\n<span class=\"k\">Layer 6: Presentation</span>    Data FORMAT\n   Encryption (TLS/SSL), compression, character encoding.\n   Translates data between network and application format.\n\n<span class=\"k\">Layer 5: Session</span>         CONNECTION management\n   Establishes, maintains, terminates sessions.\n   Keeps your login session alive, manages dialog control.\n\n<span class=\"k\">Layer 4: Transport</span>       RELIABILITY\n   Protocols: TCP (reliable), UDP (fast)\n   Data unit: <strong>Segments</strong>\n   TCP: 3-way handshake, acknowledgments, retransmission.\n   UDP: Fire and forget. Used for voice, video, DNS queries.\n   Port numbers live here (80, 443, 22, etc.)\n\n<span class=\"k\">Layer 3: Network</span>         ROUTING between networks\n   Protocols: IP, ICMP, OSPF, EIGRP, BGP\n   Data unit: <strong>Packets</strong>\n   Devices: Routers, L3 switches\n   IP addresses, subnet masks, routing tables.\n   This is where routers make forwarding decisions.\n\n<span class=\"k\">Layer 2: Data Link</span>       LOCAL delivery\n   Protocols: Ethernet (802.3), WiFi (802.11)\n   Data unit: <strong>Frames</strong>\n   Devices: Switches, bridges\n   MAC addresses (burned into your NIC).\n   Switches build MAC tables to forward frames correctly.\n\n<span class=\"k\">Layer 1: Physical</span>        BITS on the wire\n   Cables, connectors, electrical signals, light pulses.\n   Data unit: <strong>Bits</strong> (1s and 0s)\n   Devices: Hubs, repeaters, cables\n   Cat5e/6 copper, fiber optic, wireless radio waves.</div>\n\n<div class=\"kp\">üí° <strong>Data encapsulation:</strong> As data goes DOWN the layers, each layer wraps it with a header. Layer 4 adds port numbers (segment), Layer 3 adds IP addresses (packet), Layer 2 adds MAC addresses (frame), Layer 1 converts to electrical signals (bits).</div>\n<div class=\"wb\">‚ö†Ô∏è On the exam: \"At which layer does a switch operate?\" = Layer 2. \"At which layer does a router operate?\" = Layer 3. These questions come up constantly.</div>", "questions": [{"type": "choice", "q": "Switches = Layer?", "options": ["1", "2", "3", "4"], "answer": 1, "explain": "Layer 2, MAC addresses."}, {"type": "choice", "q": "IP = Layer?", "options": ["2", "3", "4", "7"], "answer": 1, "explain": "Layer 3 Network."}, {"type": "choice", "q": "Data at Layer 2?", "options": ["Packet", "Segment", "Frame", "Bit"], "answer": 2, "explain": "L2=Frames."}, {"type": "choice", "q": "Router = Layer?", "options": ["1", "2", "3", "7"], "answer": 2, "explain": "Layer 3, IP routing."}, {"type": "choice", "q": "HTTP = Layer?", "options": ["4", "5", "6", "7"], "answer": 3, "explain": "Layer 7 Application."}, {"type": "choice", "q": "Data at Layer 4?", "options": ["Frame", "Packet", "Segment", "Bit"], "answer": 2, "explain": "L4=Segments."}]}, {"title": "Topologies & Devices", "content": "<h3>Network Topologies</h3>\n<p>A <strong>topology</strong> is the physical or logical layout of how devices connect. The topology you choose affects performance, cost, and what happens when something fails.</p>\n\n<div class=\"cli\"><span class=\"k\">Star Topology</span> ‚≠ê (Modern Standard)\n   Every device connects to a CENTRAL switch.\n   If one device fails, others are fine.\n   If the SWITCH fails, everything goes down.\n   This is what you see in every modern office.\n\n<span class=\"k\">Mesh Topology</span> üï∏Ô∏è (Redundant)\n   Every device connects to every other device.\n   Full mesh: N devices = N√ó(N-1)/2 links. Expensive!\n   Partial mesh: Key devices interconnected (common in WANs).\n   Maximum redundancy ‚Äî used between core switches/routers.\n\n<span class=\"k\">Bus Topology</span> (Legacy)\n   All devices share one cable (coaxial).\n   One break = entire network down.\n   Collisions everywhere. Obsolete since the 1990s.\n\n<span class=\"k\">Ring Topology</span> (Legacy)\n   Data travels in a circle. Each device passes to the next.\n   One break = network down (unless dual-ring).\n   Token Ring and FDDI used this. Essentially dead.</div>\n\n<p><strong>In practice:</strong> Modern networks use <strong>star topology at the access layer</strong> (devices to switches) and <strong>partial mesh at the core</strong> (switches to switches for redundancy). You'll never build a bus or ring network, but you need to know what they are for the exam.</p>\n\n<div class=\"kp\">üí° <strong>Real-world design:</strong> Enterprise networks follow a 3-tier model: Access (user switches) ‚Üí Distribution (aggregation) ‚Üí Core (high-speed backbone). Small sites collapse this to 2 tiers (Access + Core).</div>", "questions": [{"type": "choice", "q": "Modern LAN topology?", "options": ["Bus", "Ring", "Star", "Mesh"], "answer": 2, "explain": "Star with central switch."}, {"type": "choice", "q": "Hub = Layer?", "options": ["1", "2", "3", "4"], "answer": 0, "explain": "Layer 1, just repeats signals."}, {"type": "choice", "q": "Why hubs are bad?", "options": ["Expensive", "Broadcast to ALL ports", "Too fast", "No LEDs"], "answer": 1, "explain": "Hubs flood everything, wasting bandwidth and causing collisions."}, {"type": "choice", "q": "L3 switch combines?", "options": ["Firewall+VPN", "Switch+Router", "Hub+Bridge", "Server+NAS"], "answer": 1, "explain": "L3 switches do both switching and routing."}]}]}, {"id": "tcpip", "title": "TCP/IP & Ports", "desc": "TCP vs UDP, 3-way handshake, critical port numbers.", "icon": "üîó", "tier": "Beginner", "lessons": [{"title": "TCP vs UDP", "content": "<h3>TCP vs UDP ‚Äî Two Ways to Send Data</h3>\n<p>At Layer 4 (Transport), you have two choices for how data gets delivered. Understanding when to use each is fundamental to networking.</p>\n\n<h3>TCP ‚Äî Transmission Control Protocol</h3>\n<p>Think of TCP like <strong>certified mail with tracking</strong>. The sender knows exactly when the package arrives, and if it gets lost, it gets resent automatically.</p>\n<div class=\"cli\"><span class=\"k\">TCP Features:</span>\n‚úì Connection-oriented (3-way handshake BEFORE data flows)\n‚úì Reliable delivery (acknowledgments for every segment)\n‚úì Ordered (segments reassembled in correct order)\n‚úì Flow control (sender slows down if receiver overwhelmed)\n‚úì Error checking (checksums verify data integrity)\n\n<span class=\"k\">The 3-Way Handshake:</span>\n  Client ‚Üí Server:  SYN         \"I want to connect\"\n  Server ‚Üí Client:  SYN-ACK     \"OK, I acknowledge\"\n  Client ‚Üí Server:  ACK         \"Great, we're connected\"\n  ...data flows...\n\n<span class=\"k\">Connection Teardown (4-way):</span>\n  FIN ‚Üí ACK ‚Üí FIN ‚Üí ACK\n\n<span class=\"k\">TCP Services:</span> HTTP (80), HTTPS (443), SSH (22), FTP (20/21),\n              SMTP (25), Telnet (23), BGP (179)</div>\n\n<h3>UDP ‚Äî User Datagram Protocol</h3>\n<p>Think of UDP like <strong>dropping a letter in a mailbox</strong>. You have no idea if it arrives, and you don't care ‚Äî speed matters more than perfection.</p>\n<div class=\"cli\"><span class=\"k\">UDP Features:</span>\n‚úì Connectionless (no handshake ‚Äî just start sending)\n‚úì Unreliable (no acknowledgments, no retransmission)\n‚úì Unordered (packets may arrive out of order)\n‚úì Fast (no overhead from reliability mechanisms)\n‚úì Lightweight (8-byte header vs TCP's 20-byte header)\n\n<span class=\"k\">UDP Services:</span> DNS (53), DHCP (67/68), TFTP (69), SNMP (161),\n              Syslog (514), NTP (123), VoIP/RTP\n\n<span class=\"k\">Why UDP for voice/video?</span>\nA retransmitted voice packet arrives too late to be useful.\nBetter to drop it and keep going than pause and wait.</div>\n\n<div class=\"kp\">üí° <strong>DNS uses BOTH:</strong> UDP for normal queries (fast, small), TCP for zone transfers and responses over 512 bytes (reliable, large). This is a common exam question.</div>\n<div class=\"wb\">‚ö†Ô∏è Just because UDP is \"unreliable\" doesn't mean it's bad. Applications built on UDP (like VoIP) handle their own error correction at the application layer when needed.</div>", "questions": [{"type": "choice", "q": "Guaranteed delivery?", "options": ["UDP", "TCP", "ICMP", "ARP"], "answer": 1, "explain": "TCP with ACKs."}, {"type": "choice", "q": "VoIP uses?", "options": ["TCP", "UDP", "ICMP", "Both"], "answer": 1, "explain": "UDP, speed > perfection for voice."}, {"type": "choice", "q": "3-way handshake order?", "options": ["ACK,SYN,SYN-ACK", "SYN,SYN-ACK,ACK", "SYN,ACK,SYN-ACK", "FIN,ACK,RST"], "answer": 1, "explain": "SYN > SYN-ACK > ACK."}, {"type": "choice", "q": "DNS transport?", "options": ["TCP only", "UDP only", "Both TCP and UDP", "ICMP"], "answer": 2, "explain": "DNS uses UDP (queries) and TCP (zone transfers, large responses)."}, {"type": "choice", "q": "TCP teardown uses?", "options": ["RST only", "FIN/FIN-ACK", "SYN/SYN-ACK", "CLOSE"], "answer": 1, "explain": "Graceful: FIN, ACK, FIN, ACK (4-way)."}]}, {"title": "Port Numbers - Part 1", "content": "<h3>Well-Known Port Numbers (0-1023)</h3>\n<p><strong>Every network service listens on a specific port number.</strong> When your browser connects to a web server, it's really connecting to IP address + port 80 (HTTP) or 443 (HTTPS). Ports are like apartment numbers in a building ‚Äî the IP is the building address, the port is which door to knock on.</p>\n\n<p>You MUST memorize these. They show up in ACL rules, firewall configs, NAT translations, and troubleshooting every single day.</p>\n\n<div class=\"cli\"><span class=\"k\">Port  Proto  Service         What It Does</span>\n20    TCP    FTP Data        Actual file data transfers\n21    TCP    FTP Control     FTP commands (login, list, get)\n22    TCP    SSH             Encrypted remote access (ALWAYS use!)\n23    TCP    Telnet          Unencrypted remote access (NEVER use!)\n25    TCP    SMTP            Sending outbound email\n53    Both   DNS             Resolves names ‚Üí IP addresses\n                             UDP for queries, TCP for zone transfers\n67    UDP    DHCP Server     Server listens for client requests\n68    UDP    DHCP Client     Client listens for server responses\n69    UDP    TFTP            Simple file transfer (no authentication!)\n80    TCP    HTTP            Unencrypted web traffic</div>\n\n<h3>How Ports Work</h3>\n<p>A connection is identified by 4 things: <strong>Source IP + Source Port + Destination IP + Destination Port</strong>. When your PC visits google.com, it picks a random high port (like 52431) as the source and connects to Google's IP on destination port 443. This is how one server can handle thousands of connections simultaneously ‚Äî each has a unique source port.</p>\n\n<div class=\"cli\"><span class=\"k\">Port Ranges:</span>\n0-1023       Well-Known (assigned to standard services)\n1024-49151   Registered (applications can request these)\n49152-65535  Dynamic/Ephemeral (your PC picks from here)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>FTP uses TWO ports:</strong> 21 for commands, 20 for data. This causes problems with firewalls because the data connection is initiated separately. This is why SFTP (over SSH port 22) is preferred.</div>", "questions": [{"type": "choice", "q": "SSH port?", "options": ["21", "22", "23", "25"], "answer": 1, "explain": "SSH=22."}, {"type": "choice", "q": "FTP data port?", "options": ["20", "21", "22", "69"], "answer": 0, "explain": "FTP data=20, control=21."}, {"type": "choice", "q": "Telnet port?", "options": ["22", "23", "25", "80"], "answer": 1, "explain": "Telnet=23, plaintext!"}, {"type": "choice", "q": "DNS port?", "options": ["25", "53", "67", "80"], "answer": 1, "explain": "DNS=53."}, {"type": "choice", "q": "DHCP server port?", "options": ["53", "67", "68", "69"], "answer": 1, "explain": "Server=67, Client=68."}, {"type": "choice", "q": "TFTP port?", "options": ["20", "21", "22", "69"], "answer": 3, "explain": "TFTP=69, UDP, no auth."}]}, {"title": "Port Numbers - Part 2", "content": "<h3>More Critical Port Numbers</h3>\n<p>These ports are essential for email, monitoring, management, and security. Know them cold ‚Äî they appear in ACLs, firewall rules, and troubleshooting scenarios constantly.</p>\n\n<div class=\"cli\"><span class=\"k\">Port  Proto  Service         What It Does</span>\n110   TCP    POP3            Receive email (downloads to client)\n143   TCP    IMAP            Receive email (syncs, stays on server)\n161   UDP    SNMP            Monitoring: YOU poll the device\n162   UDP    SNMP Traps      Monitoring: DEVICE alerts you\n389   TCP    LDAP            Directory services (Active Directory)\n443   TCP    HTTPS           Encrypted web (TLS/SSL)\n514   UDP    Syslog          Centralized log collection\n636   TCP    LDAPS           LDAP over SSL/TLS\n993   TCP    IMAPS           IMAP over SSL/TLS\n995   TCP    POP3S           POP3 over SSL/TLS\n3389  TCP    RDP             Windows Remote Desktop</div>\n\n<h3>Monitoring Ports ‚Äî SNMP Explained</h3>\n<p><strong>SNMP 161 vs 162 confuses everyone.</strong> Here's the difference:</p>\n<div class=\"cli\"><span class=\"k\">Port 161 (SNMP polling):</span>\nYour monitoring server (Nagios, SolarWinds, PRTG) ASKS the\nrouter \"what's your CPU usage?\" every 5 minutes.\nDirection: Monitor ‚Üí Device (port 161)\n\n<span class=\"k\">Port 162 (SNMP traps):</span>\nSomething goes wrong on the router and it TELLS your\nmonitoring server \"hey, interface just went down!\"\nDirection: Device ‚Üí Monitor (port 162)\n\nOne is pull (161), the other is push (162).</div>\n\n<h3>Secure vs Insecure Protocols</h3>\n<div class=\"cli\"><span class=\"k\">Insecure          Secure Replacement</span>\nTelnet (23)    ‚Üí  SSH (22)\nHTTP (80)      ‚Üí  HTTPS (443)\nFTP (20/21)    ‚Üí  SFTP (22) or FTPS (990)\nSNMP v1/v2c    ‚Üí  SNMPv3 (auth + encryption)\nPOP3 (110)     ‚Üí  POP3S (995)\nIMAP (143)     ‚Üí  IMAPS (993)\nLDAP (389)     ‚Üí  LDAPS (636)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Telnet sends passwords in PLAINTEXT.</strong> Anyone with a packet sniffer on the network can see every keystroke, including your enable password. Always use SSH.</div>", "questions": [{"type": "choice", "q": "HTTPS port?", "options": ["80", "443", "8080", "8443"], "answer": 1, "explain": "HTTPS=443."}, {"type": "choice", "q": "SNMP polling port?", "options": ["161", "162", "514", "389"], "answer": 0, "explain": "SNMP=161, traps=162."}, {"type": "choice", "q": "Syslog port?", "options": ["161", "389", "514", "993"], "answer": 2, "explain": "Syslog=514 UDP."}, {"type": "choice", "q": "RDP port?", "options": ["443", "1433", "3306", "3389"], "answer": 3, "explain": "RDP=3389 TCP."}, {"type": "choice", "q": "LDAP port?", "options": ["143", "389", "443", "636"], "answer": 1, "explain": "LDAP=389, LDAPS=636."}, {"type": "choice", "q": "Why Telnet is dangerous?", "options": ["Slow", "Plaintext including passwords", "High bandwidth", "Deprecated syntax"], "answer": 1, "explain": "Everything visible to sniffers."}]}, {"title": "TCP/IP Model", "content": "<h3>The TCP/IP Model vs OSI</h3>\n<p>The OSI model is the <strong>teaching framework</strong> (7 layers). The TCP/IP model is what the <strong>internet actually runs on</strong> (4 layers). They map to each other, but TCP/IP combines some OSI layers.</p>\n\n<div class=\"cli\"><span class=\"k\">TCP/IP (4 layers)         OSI Equivalent (7 layers)</span>\nApplication               7 Application + 6 Presentation + 5 Session\nTransport                 4 Transport\nInternet                  3 Network\nNetwork Access            2 Data Link + 1 Physical</div>\n\n<h3>What Lives at Each TCP/IP Layer</h3>\n<div class=\"cli\"><span class=\"k\">Application Layer:</span>\n  HTTP, HTTPS, FTP, SSH, Telnet, DNS, DHCP, SMTP, SNMP\n  Anything the user or application directly interacts with.\n  This combines OSI layers 5-7 because in practice they\n  work together and aren't clearly separated.\n\n<span class=\"k\">Transport Layer:</span>\n  TCP (reliable, connection-oriented)\n  UDP (fast, connectionless)\n  Handles port numbers, segmentation, flow control.\n\n<span class=\"k\">Internet Layer:</span>\n  IP (addressing + routing)\n  ICMP (ping, traceroute, error messages)\n  ARP (IP ‚Üí MAC resolution)\n  IGMP (multicast group management)\n\n<span class=\"k\">Network Access Layer:</span>\n  Ethernet (802.3), WiFi (802.11), PPP\n  MAC addressing, frame construction, physical signaling.\n  Everything needed to get bits across a single link.</div>\n\n<p><strong>ARP is special:</strong> ARP resolves IP addresses to MAC addresses. When your PC wants to reach 192.168.1.1, it broadcasts \"Who has 192.168.1.1? Tell me your MAC address.\" The device responds with its MAC, and your PC can build the Ethernet frame.</p>\n\n<div class=\"kp\">üí° <strong>Exam tip:</strong> If asked \"how many layers in TCP/IP?\" the answer is 4. If asked to \"map TCP/IP to OSI,\" know that the Application layer covers OSI 5+6+7 and Network Access covers OSI 1+2.</div>", "questions": [{"type": "choice", "q": "TCP/IP layers?", "options": ["3", "4", "5", "7"], "answer": 1, "explain": "4: App, Transport, Internet, Network Access."}, {"type": "choice", "q": "ICMP = which TCP/IP layer?", "options": ["Application", "Transport", "Internet", "Network Access"], "answer": 2, "explain": "Internet layer with IP."}, {"type": "choice", "q": "ARP maps?", "options": ["Hostname>IP", "IP>MAC", "MAC>IP", "Port>service"], "answer": 1, "explain": "ARP resolves IP to MAC."}]}]}, {"id": "ip_addr", "title": "IP Addressing & Subnetting", "desc": "Master the math. This is the foundation of everything.", "icon": "üî¢", "tier": "Beginner", "lessons": [{"title": "IPv4 Basics", "content": "<h3>IPv4 Addressing ‚Äî The Foundation</h3>\n<p>Every device on a network needs a unique IP address, just like every house needs a unique street address. IPv4 uses 32-bit addresses written as four numbers separated by dots (called \"dotted decimal\"). Each number ranges from 0-255 because each is 8 bits (an octet).</p>\n\n<p><strong>Example:</strong> 192.168.1.100 ‚Äî this is four octets: 192 | 168 | 1 | 100</p>\n\n<h3>Public vs Private Addresses</h3>\n<p>There aren't enough IPv4 addresses for every device on Earth (only ~4.3 billion). So we use <strong>private addresses</strong> inside our networks and <strong>NAT</strong> to share a few public addresses for internet access.</p>\n\n<div class=\"cli\"><span class=\"k\">Private Ranges (RFC 1918) ‚Äî Used INSIDE your network:</span>\n10.0.0.0    to 10.255.255.255    /8   (16 million hosts)\n172.16.0.0  to 172.31.255.255    /12  (1 million hosts)\n192.168.0.0 to 192.168.255.255   /16  (65,000 hosts)\n\n<span class=\"k\">These are NOT routable on the internet.</span>\nYour home network (192.168.1.x), your office (10.x.x.x) ‚Äî\nall private. A router with NAT translates them to a public\nIP when traffic leaves for the internet.\n\n<span class=\"k\">Special Addresses You Must Know:</span>\n127.0.0.1         Loopback (always refers to THIS device)\n169.254.x.x       APIPA ‚Äî means DHCP failed! Device gave\n                   itself a random address. NOT working.\n0.0.0.0           Default route / unspecified\n255.255.255.255   Limited broadcast (stays on local network)\n224.0.0.0/4       Multicast range (224.x.x.x - 239.x.x.x)</div>\n\n<h3>How To Tell Private from Public</h3>\n<p>If an IP starts with 10, it's private. If it's 192.168.anything, it's private. The tricky one is 172 ‚Äî ONLY 172.16 through 172.31 is private. 172.32.x.x is PUBLIC. This trips people up constantly.</p>\n\n<div class=\"kp\">üí° <strong>Real-world:</strong> If a user's PC shows 169.254.x.x, don't troubleshoot routing ‚Äî the PC never got an IP from DHCP. Check the DHCP server, the switch port VLAN, and whether there's an ip helper-address on the gateway.</div>", "questions": [{"type": "choice", "q": "NOT a private range?", "options": ["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16", "172.32.0.0/12"], "answer": 3, "explain": "172.32 is public. Private B = 172.16-172.31."}, {"type": "choice", "q": "169.254.x.x means?", "options": ["VPN", "APIPA (no DHCP)", "Multicast", "DNS fail"], "answer": 1, "explain": "APIPA when DHCP server unreachable."}, {"type": "choice", "q": "127.0.0.1 is?", "options": ["Gateway", "Loopback", "Broadcast", "DNS"], "answer": 1, "explain": "Loopback, always local device."}, {"type": "choice", "q": "Multicast range?", "options": ["10.0.0.0/8", "172.16.0.0/12", "224.0.0.0/4", "192.0.0.0/8"], "answer": 2, "explain": "224.0.0.0 - 239.255.255.255 = Class D multicast."}, {"type": "choice", "q": "Is 172.20.5.1 private or public?", "options": ["Private", "Public"], "answer": 0, "explain": "172.20 is within 172.16-172.31 private range."}, {"type": "choice", "q": "Is 172.33.1.1 private or public?", "options": ["Private", "Public"], "answer": 1, "explain": "172.33 is outside the 172.16-172.31 private range."}]}, {"title": "Subnet Masks & CIDR", "content": "<h3>Subnet Masks ‚Äî Dividing Networks</h3>\n<p>A subnet mask tells a device which part of an IP address is the <strong>network portion</strong> and which part is the <strong>host portion</strong>. Think of it like a phone number: the area code identifies the region (network), and the rest identifies the specific phone (host).</p>\n\n<p><strong>CIDR notation</strong> uses a slash followed by the number of network bits: 192.168.1.0<strong>/24</strong> means the first 24 bits are the network, leaving 8 bits for hosts.</p>\n\n<h3>The Subnet Table (MEMORIZE THIS)</h3>\n<div class=\"cli\"><span class=\"k\">CIDR  Subnet Mask         Usable Hosts  Block Size</span>\n/24   255.255.255.0       254           256\n/25   255.255.255.128     126           128\n/26   255.255.255.192     62            64\n/27   255.255.255.224     30            32\n/28   255.255.255.240     14            16\n/29   255.255.255.248     6             8\n/30   255.255.255.252     2             4\n/31   255.255.255.254     2 (P2P only)  2\n/32   255.255.255.255     1 (host route) 1</div>\n\n<h3>Why Subtract 2?</h3>\n<p><strong>Usable hosts = 2^(host bits) - 2</strong></p>\n<p>Every subnet reserves two addresses: the first IP is the <strong>Network Address</strong> (identifies the subnet itself) and the last IP is the <strong>Broadcast Address</strong> (sends to all hosts in the subnet). You can't assign either to a device.</p>\n\n<div class=\"cli\"><span class=\"k\">Example: 192.168.1.0/24</span>\nNetwork:     192.168.1.0       (reserved ‚Äî identifies the subnet)\nFirst host:  192.168.1.1       (usually the gateway)\nLast host:   192.168.1.254     (last assignable)\nBroadcast:   192.168.1.255     (reserved ‚Äî reaches all hosts)\nUsable:      2^8 - 2 = 254 hosts</div>\n\n<h3>Why Subnetting Matters</h3>\n<p>Without subnetting, a company with a /16 would have 65,534 hosts in ONE broadcast domain. Every ARP request, every DHCP discover would hit every single device. Networks become unusable above ~500 hosts in one subnet. Subnetting breaks this into manageable pieces.</p>\n\n<div class=\"kp\">üí° <strong>/30 is standard for point-to-point links</strong> between routers (2 usable IPs ‚Äî one for each end). Don't waste a /24 (254 addresses) on a link that only needs 2.</div>", "questions": [{"type": "choice", "q": "Hosts in /26?", "options": ["64", "62", "30", "126"], "answer": 1, "explain": "2^6-2=62."}, {"type": "choice", "q": "Hosts in /27?", "options": ["14", "30", "32", "62"], "answer": 1, "explain": "2^5-2=30."}, {"type": "choice", "q": "Hosts in /29?", "options": ["2", "6", "8", "14"], "answer": 1, "explain": "2^3-2=6."}, {"type": "choice", "q": "P2P link mask?", "options": ["/24", "/28", "/30", "/32"], "answer": 2, "explain": "/30=2 usable IPs, standard P2P."}, {"type": "choice", "q": "Mask for /27?", "options": ["255.255.255.192", "255.255.255.224", "255.255.255.240", "255.255.255.248"], "answer": 1, "explain": "128+64+32=224."}, {"type": "choice", "q": "Mask for /26?", "options": ["255.255.255.128", "255.255.255.192", "255.255.255.224", "255.255.255.240"], "answer": 1, "explain": "128+64=192."}, {"type": "choice", "q": "Hosts in /25?", "options": ["62", "126", "128", "254"], "answer": 1, "explain": "2^7-2=126."}]}, {"title": "Subnetting Practice", "content": "<h3>Subnetting ‚Äî The Math You MUST Master</h3>\n<p>Given any IP address and mask, you need to quickly calculate: What's the network address? What's the broadcast? What's the usable range? Which subnet does a specific IP belong to? This is the most tested skill in networking.</p>\n\n<h3>The Block Size Method (Fastest)</h3>\n<div class=\"cli\"><span class=\"k\">Step 1:</span> Block size = 256 - last octet of subnet mask\n<span class=\"k\">Step 2:</span> Networks start at multiples of the block size\n<span class=\"k\">Step 3:</span> Your IP falls in the nearest block ‚â§ the IP\n<span class=\"k\">Step 4:</span> Broadcast = next network - 1\n<span class=\"k\">Step 5:</span> Usable range = network+1 to broadcast-1</div>\n\n<h3>Worked Example: 192.168.1.130/26</h3>\n<div class=\"cli\"><span class=\"k\">Step 1:</span> Mask /26 = 255.255.255.192\n         Block = 256 - 192 = <span class=\"k\">64</span>\n\n<span class=\"k\">Step 2:</span> Subnets: .0, .64, .128, .192\n\n<span class=\"k\">Step 3:</span> 130 falls between .128 and .192\n         Network = 192.168.1.<span class=\"k\">128</span>\n\n<span class=\"k\">Step 4:</span> Next subnet = .192, so\n         Broadcast = .192 - 1 = 192.168.1.<span class=\"k\">191</span>\n\n<span class=\"k\">Step 5:</span> Usable: 192.168.1.<span class=\"k\">129</span> to 192.168.1.<span class=\"k\">190</span>\n         That's 62 usable hosts (/26 = 2^6-2 = 62)</div>\n\n<h3>Another Example: 10.10.10.200/28</h3>\n<div class=\"cli\">Mask /28 = 255.255.255.240\nBlock = 256 - 240 = <span class=\"k\">16</span>\nSubnets: .0, .16, .32, .48, .64 ... .192, .208 ...\n200 falls between .192 and .208\nNetwork:   10.10.10.<span class=\"k\">192</span>\nBroadcast: 10.10.10.<span class=\"k\">207</span> (.208-1)\nUsable:    .193 to .206 (14 hosts)</div>\n\n<h3>Quick Reference: How Many Hosts Do I Need?</h3>\n<div class=\"cli\"><span class=\"k\">Hosts needed ‚Üí Minimum prefix</span>\n2 hosts       ‚Üí /30 (point-to-point link)\n6 hosts       ‚Üí /29\n14 hosts      ‚Üí /28\n30 hosts      ‚Üí /27\n62 hosts      ‚Üí /26\n126 hosts     ‚Üí /25\n254 hosts     ‚Üí /24\n510 hosts     ‚Üí /23\n1022 hosts    ‚Üí /22</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Always go one size up</strong> from exactly what you need. If you need 30 hosts, a /27 gives exactly 30 ‚Äî but you have ZERO room for growth. Use a /26 (62 hosts) instead.</div>", "questions": [{"type": "choice", "q": "Need 100 hosts. Smallest subnet?", "options": ["/24 (254)", "/25 (126)", "/26 (62)", "/27 (30)"], "answer": 1, "explain": "/25 gives 126. /26 only 62, not enough."}, {"type": "choice", "q": "192.168.10.0/28 broadcast?", "options": ["192.168.10.15", "192.168.10.16", "192.168.10.31", "192.168.10.255"], "answer": 0, "explain": "Block=16. .0+15=.15."}, {"type": "choice", "q": "First usable in 172.16.5.64/26?", "options": ["172.16.5.64", "172.16.5.65", "172.16.5.1", "172.16.5.66"], "answer": 1, "explain": "Network+1 = .65."}, {"type": "choice", "q": "10.0.0.33 and 10.0.0.46 - same /28?", "options": ["Yes (.32-.47)", "No (different subnets)"], "answer": 0, "explain": "Block=16. .32-.47 is one subnet."}, {"type": "choice", "q": "192.168.1.130/26 - what network?", "options": ["192.168.1.0", "192.168.1.64", "192.168.1.128", "192.168.1.192"], "answer": 2, "explain": "Block=64. 130 falls in .128 block."}, {"type": "choice", "q": "10.10.10.200/28 - broadcast?", "options": ["10.10.10.207", "10.10.10.208", "10.10.10.215", "10.10.10.255"], "answer": 0, "explain": "Block=16. .192+15=.207."}, {"type": "choice", "q": "Need 500 hosts. Minimum prefix?", "options": ["/22 (1022)", "/23 (510)", "/24 (254)", "/21 (2046)"], "answer": 1, "explain": "/23=510 hosts. /24 only 254."}]}, {"title": "Wildcard Masks", "content": "<h3>Wildcard Masks ‚Äî The Inverse of Subnet Masks</h3>\n<p>Wildcard masks are used in <strong>OSPF network statements</strong> and <strong>ACLs</strong>. They're the mathematical inverse of subnet masks: where a subnet mask has a 1, the wildcard has a 0, and vice versa.</p>\n\n<p><strong>Simple rule:</strong> Subtract each octet of the subnet mask from 255.</p>\n\n<div class=\"cli\"><span class=\"k\">Subnet Mask       ‚Üí  Wildcard Mask     Meaning</span>\n255.255.255.0     ‚Üí  0.0.0.255         Match first 3 octets (/24)\n255.255.255.128   ‚Üí  0.0.0.127         Match /25\n255.255.255.192   ‚Üí  0.0.0.63          Match /26\n255.255.255.224   ‚Üí  0.0.0.31          Match /27\n255.255.255.240   ‚Üí  0.0.0.15          Match /28\n255.255.255.248   ‚Üí  0.0.0.7           Match /29\n255.255.255.252   ‚Üí  0.0.0.3           Match /30\n255.255.255.255   ‚Üí  0.0.0.0           Match exactly 1 host\n255.255.0.0       ‚Üí  0.0.255.255       Match first 2 octets (/16)\n255.0.0.0         ‚Üí  0.255.255.255     Match first octet (/8)</div>\n\n<h3>How to Think About It</h3>\n<p>A <strong>0 in the wildcard</strong> means \"this bit MUST match.\" A <strong>1</strong> means \"I don't care.\" So:</p>\n<div class=\"cli\"><span class=\"k\">0.0.0.0</span>   = Every bit must match = exact single host\n<span class=\"k\">0.0.0.255</span> = First 3 octets match, last can be anything = /24\n<span class=\"k\">0.0.0.63</span>  = First 26 bits match = /26 subnet\n\n<span class=\"k\">In OSPF:</span>\nnetwork 192.168.1.0 <span class=\"k\">0.0.0.255</span> area 0\n  ‚Üí \"Enable OSPF on any interface in 192.168.1.0/24\"\n\n<span class=\"k\">In an ACL:</span>\npermit ip 10.0.0.0 <span class=\"k\">0.255.255.255</span> any\n  ‚Üí \"Allow anything from 10.x.x.x\"</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Common mistake:</strong> Using subnet masks where wildcards are needed (or vice versa). OSPF and ACLs use WILDCARDS. Interface IP assignments use SUBNET MASKS. Mixing them up is the #1 configuration error for beginners.</div>", "questions": [{"type": "choice", "q": "Wildcard for /24?", "options": ["0.0.0.0", "0.0.0.255", "255.255.255.0", "0.0.255.255"], "answer": 1, "explain": "255-255=0, 255-0=255."}, {"type": "choice", "q": "Wildcard for single host?", "options": ["0.0.0.0", "0.0.0.1", "255.255.255.255", "0.0.0.255"], "answer": 0, "explain": "0.0.0.0 matches all 32 bits exactly."}, {"type": "choice", "q": "Wildcard for /26?", "options": ["0.0.0.64", "0.0.0.63", "0.0.0.192", "0.0.0.31"], "answer": 1, "explain": "255-192=63."}, {"type": "choice", "q": "Wildcard for /28?", "options": ["0.0.0.15", "0.0.0.16", "0.0.0.240", "0.0.0.31"], "answer": 0, "explain": "255-240=15."}, {"type": "choice", "q": "Wildcard for /16?", "options": ["0.0.0.255", "0.0.255.0", "0.0.255.255", "255.255.0.0"], "answer": 2, "explain": "255-255=0,255-255=0,255-0=255,255-0=255."}]}]}, {"id": "cabling", "title": "Cables & Physical Layer", "desc": "RJ45, fiber, PoE, standards.", "icon": "üîå", "tier": "Beginner", "lessons": [{"title": "Cable Types", "content": "<h3>Network Cabling ‚Äî Layer 1 Fundamentals</h3>\n<p>Nothing works if the physical layer is wrong. A perfectly configured router with a bad cable still shows \"down/down.\" Understanding cable types, distances, and limitations saves hours of troubleshooting.</p>\n\n<h3>Copper (Twisted Pair)</h3>\n<p>Copper cables use electrical signals over twisted pairs of wires inside an RJ-45 connector. The \"twist\" reduces electromagnetic interference. Different categories support different speeds.</p>\n<div class=\"cli\"><span class=\"k\">Category  Max Speed   Max Distance  Notes</span>\nCat5e     1 Gbps     100 meters    Most common installed base\nCat6      10 Gbps    55 meters     (1 Gbps at 100m)\nCat6a     10 Gbps    100 meters    Full 10G at full distance\nCat7      10 Gbps    100 meters    Shielded, rarely used\nCat8      25/40 Gbps 30 meters     Data centers only\n\n<span class=\"k\">Key rule:</span> ALL copper Ethernet maxes out at 100 meters (328 feet).\nBeyond that, you need fiber optic or a repeater/switch.</div>\n\n<h3>Fiber Optic</h3>\n<p>Fiber uses pulses of LIGHT instead of electrical signals. It's immune to electromagnetic interference, supports much longer distances, and carries more bandwidth.</p>\n<div class=\"cli\"><span class=\"k\">Type          Jacket Color  Distance    Light Source</span>\nSingle-mode   Yellow        Up to 80 km  Laser (narrow beam)\nMulti-mode    Orange/Aqua   Up to 550m   LED (wider beam)\n\n<span class=\"k\">Connectors:</span> LC (small), SC (square), ST (twist-lock)\nLC is the modern standard for switches and routers.\n\n<span class=\"k\">When to use fiber:</span>\n‚Ä¢ Distance > 100 meters\n‚Ä¢ Between buildings (outdoor/underground runs)\n‚Ä¢ High-interference environments (near motors, generators)\n‚Ä¢ Need for > 10 Gbps speeds</div>\n\n<h3>Cable Types for Connections</h3>\n<div class=\"cli\"><span class=\"k\">Straight-through:</span> PC‚ÜíSwitch, Router‚ÜíSwitch (different devices)\n<span class=\"k\">Crossover:</span>       Switch‚ÜíSwitch, PC‚ÜíPC (same devices)\n<span class=\"k\">Rollover/Console:</span> PC‚ÜíConsole port (light blue cable, DB-9/USB)\n\n<span class=\"k\">Auto-MDIX:</span> Modern switches detect which cable type you're using\nand adjust automatically. Crossover cables are essentially obsolete\nin modern networks, but know them for the exam.</div>\n\n<div class=\"kp\">üí° <strong>Troubleshooting tip:</strong> CRC errors in <code>show interfaces</code> usually mean a bad cable or connector. Try swapping the cable before changing any configuration.</div>", "questions": [{"type": "choice", "q": "Cat6a at 10G max distance?", "options": ["55m", "100m", "300m", "1km"], "answer": 1, "explain": "Cat6a=100m at 10G."}, {"type": "choice", "q": "Long-distance fiber?", "options": ["Multi-mode", "Single-mode", "Cat6", "Coaxial"], "answer": 1, "explain": "Single-mode (yellow) for km."}, {"type": "choice", "q": "Auto-MDIX eliminates?", "options": ["PoE", "Crossover cables", "Fiber converters", "Patch panels"], "answer": 1, "explain": "Auto-detects cable type needed."}, {"type": "choice", "q": "Multi-mode fiber jacket color?", "options": ["Yellow", "Blue", "Orange/Aqua", "Green"], "answer": 2, "explain": "Multi-mode = orange or aqua."}]}, {"title": "PoE & Ethernet Standards", "content": "<h3>Power over Ethernet (PoE)</h3>\n<p>PoE delivers electrical power AND data over the same Ethernet cable. This is how IP phones, wireless access points, and security cameras get power without separate power outlets at each location.</p>\n\n<div class=\"cli\"><span class=\"k\">Standard    Power Delivered  Common Devices</span>\n802.3af     15.4 watts       IP phones, basic cameras\n802.3at     30 watts         Wireless APs, PTZ cameras\n802.3bt     60-100 watts     High-power APs, thin clients, displays\n\n<span class=\"k\">How PoE works:</span>\n1. Switch sends a low voltage to detect if device needs power\n2. Device responds with its power class\n3. Switch provides the appropriate wattage\n4. If device doesn't support PoE, no power is sent (safe!)</div>\n\n<h3>Ethernet Speed Standards</h3>\n<div class=\"cli\"><span class=\"k\">Name           Speed       Standard      Cable</span>\n10BASE-T       10 Mbps     802.3         Cat3+\n100BASE-TX     100 Mbps    802.3u        Cat5+ (FastEthernet)\n1000BASE-T     1 Gbps      802.3ab       Cat5e+ (GigabitEthernet)\n10GBASE-T      10 Gbps     802.3an       Cat6a\n1000BASE-SX    1 Gbps      802.3z        Multi-mode fiber (550m)\n1000BASE-LX    1 Gbps      802.3z        Single-mode fiber (5km)\n10GBASE-SR     10 Gbps     802.3ae       Multi-mode fiber (400m)\n10GBASE-LR     10 Gbps     802.3ae       Single-mode fiber (10km)</div>\n\n<p><strong>Interface naming on Cisco:</strong> FastEthernet (Fa) = 100 Mbps, GigabitEthernet (Gi/Gig) = 1 Gbps, TenGigabitEthernet (Te) = 10 Gbps.</p>\n\n<div class=\"kp\">üí° <strong>Real world:</strong> When ordering a switch, check the PoE budget. A 48-port switch with 370W PoE budget can only power about 12 devices at 30W each ‚Äî not all 48 ports. Always plan your power budget.</div>", "questions": [{"type": "choice", "q": "PoE+ watts?", "options": ["15.4W", "30W", "60W", "100W"], "answer": 1, "explain": "802.3at=30W."}, {"type": "choice", "q": "1000BASE-T speed?", "options": ["100 Mbps", "1 Gbps", "10 Gbps", "100 Gbps"], "answer": 1, "explain": "1000BASE-T=1 Gbps."}, {"type": "choice", "q": "Common PoE device?", "options": ["Desktop PC", "Server", "Wireless AP", "SAN storage"], "answer": 2, "explain": "APs, IP phones, cameras."}, {"type": "choice", "q": "Max copper Ethernet distance?", "options": ["55m", "100m", "300m", "1km"], "answer": 1, "explain": "100m for all copper Ethernet."}]}]}, {"id": "cli_nav", "title": "IOS CLI Navigation", "desc": "Modes, commands, shortcuts - type it until it's muscle memory.", "icon": "üíª", "tier": "Beginner", "lessons": [{"title": "Mode Navigation", "content": "<h3>IOS Mode Hierarchy ‚Äî Know Where You Are</h3>\n<p>Cisco IOS (Internetwork Operating System) organizes commands into different <strong>modes</strong>, each with its own prompt and permissions. You can't configure an interface from User mode, and you can't run <code>show running-config</code> from User mode either. Knowing which mode you're in ‚Äî and how to get to the right one ‚Äî is fundamental.</p>\n\n<h3>The Mode Hierarchy</h3>\n<div class=\"cli\"><span class=\"k\">Mode                    Prompt               What You Can Do</span>\nUser EXEC               Router>              Limited show commands, ping\nPrivileged EXEC         Router#              ALL show, debug, copy, reload\nGlobal Configuration    Router(config)#      Device-wide settings\nInterface Config        Router(config-if)#   Per-port settings (IP, shutdown)\nLine Config             Router(config-line)# Console/VTY access settings\nRouter Config           Router(config-router)# Routing protocol settings\nVLAN Config             Switch(config-vlan)# Create/name VLANs\nDHCP Config             Router(dhcp-config)# DHCP pool settings\n\n<span class=\"k\">Navigation Commands:</span>\n<span class=\"p\">Router></span> <span class=\"k\">enable</span>                    ‚Üí Privileged EXEC\n<span class=\"p\">Router#</span> <span class=\"k\">configure terminal</span>         ‚Üí Global Config\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0</span>   ‚Üí Interface Config\n<span class=\"p\">Router(config)#</span> <span class=\"k\">line vty 0 4</span>     ‚Üí Line Config\n<span class=\"p\">Router(config)#</span> <span class=\"k\">router ospf 1</span>    ‚Üí Router Config\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">exit</span>          ‚Üí Back one level\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">end</span>           ‚Üí Jump to Privileged from ANYWHERE</div>\n\n<h3>Critical Concepts</h3>\n<p><strong>The \"do\" command:</strong> If you're in config mode and need to run a show command, prefix it with <code>do</code>. Example: <code>do show ip int br</code> from config mode. This saves constantly typing <code>end</code> and <code>configure terminal</code>.</p>\n<p><strong>Tab completion:</strong> Type enough unique characters and hit Tab. <code>sh ip int br</code> + Tab works. Saves massive amounts of typing.</p>\n<p><strong>Context help:</strong> Type <code>?</code> to see available commands at any point. Type <code>sh ?</code> to see what follows \"show\".</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>\"% Invalid input detected\"</strong> means you're in the wrong mode. Check your prompt! If you see <code>Router></code> (no #), you need to <code>enable</code> first.</div>", "questions": [{"type": "type", "q": "Enter privileged mode:", "answer": ["enable", "en"], "prompt": "Router>"}, {"type": "type", "q": "Enter global config:", "answer": ["configure terminal", "conf t", "config t"], "prompt": "Router#"}, {"type": "type", "q": "Enter interface Gi0/0:", "answer": ["interface GigabitEthernet0/0", "int gi0/0", "int g0/0", "interface gi0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Back to privileged EXEC:", "answer": ["end"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Go back one level:", "answer": ["exit"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter line console config:", "answer": ["line console 0", "line con 0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enter VLAN config for VLAN 10:", "answer": ["vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Enter router OSPF config:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}]}, {"title": "Essential Show Commands", "content": "<h3>Show Commands ‚Äî Your Diagnostic Toolkit</h3>\n<p>Show commands are how you <strong>see what's happening</strong> on a device without changing anything. Before making any configuration change, always run show commands first to understand the current state. After making changes, run them again to verify.</p>\n\n<h3>The Top 10 Show Commands (In Order of Importance)</h3>\n<div class=\"cli\"><span class=\"k\">1. show ip interface brief</span> (or sh ip int br)\n   THE most used command in networking. Shows every interface,\n   its IP address, and up/down status in one compact view.\n   This is always your FIRST command when troubleshooting.\n\n<span class=\"k\">2. show running-config</span> (or sh run)\n   The ACTIVE configuration in RAM. This is what the device\n   is actually doing RIGHT NOW. If you made changes but\n   didn't save, they're only here ‚Äî not in startup-config.\n\n<span class=\"k\">3. show startup-config</span> (or sh start)\n   The SAVED configuration in NVRAM. This loads on reboot.\n   If running ‚â† startup, someone made changes but didn't save.\n\n<span class=\"k\">4. show ip route</span> (or sh ip ro)\n   The routing table. Shows every network the router knows\n   how to reach and via which next-hop or interface.\n   Codes: C=Connected, S=Static, O=OSPF, D=EIGRP\n\n<span class=\"k\">5. show interfaces</span> (or sh int [name])\n   Deep statistics: errors, CRC, collisions, input/output\n   rates, drops, queue sizes. Essential for troubleshooting\n   physical and data-link issues.\n\n<span class=\"k\">6. show version</span> (or sh ver)\n   IOS version, uptime, hardware model, RAM/Flash,\n   config-register value, license info.\n\n<span class=\"k\">7. show ip arp</span>\n   ARP cache: IP-to-MAC mappings. Useful for finding\n   which MAC address belongs to which IP.\n\n<span class=\"k\">8. show access-lists</span>\n   All ACLs with match counters. See which rules are\n   actually hitting and which are never matched.\n\n<span class=\"k\">9. show clock</span>\n   Current time. Important because if NTP is wrong, your\n   log timestamps are useless for incident investigation.\n\n<span class=\"k\">10. show history</span>\n    Recent commands typed. Useful for seeing what someone\n    else did (or what you did 5 minutes ago and forgot).</div>\n\n<div class=\"kp\">üí° <strong>Pipeline filters</strong> make show commands powerful: <code>show run | include interface</code> shows only lines with \"interface\". <code>show run | section router ospf</code> shows the full OSPF section. <code>| begin</code>, <code>| exclude</code> also available.</div>", "questions": [{"type": "type", "q": "All interfaces overview:", "answer": ["show ip interface brief", "sh ip int br", "sh ip int brief"], "prompt": "Router#"}, {"type": "type", "q": "Active config:", "answer": ["show running-config", "sh run", "show run"], "prompt": "Router#"}, {"type": "type", "q": "IOS version/uptime:", "answer": ["show version", "sh ver", "sh version"], "prompt": "Router#"}, {"type": "type", "q": "Routing table:", "answer": ["show ip route", "sh ip route", "sh ip ro"], "prompt": "Router#"}, {"type": "type", "q": "Saved config:", "answer": ["show startup-config", "sh start", "show start"], "prompt": "Router#"}, {"type": "type", "q": "Interface errors/stats:", "answer": ["show interfaces", "sh int", "sh interfaces"], "prompt": "Router#"}, {"type": "type", "q": "Current time:", "answer": ["show clock", "sh clock"], "prompt": "Router#"}, {"type": "type", "q": "Command history:", "answer": ["show history", "sh history"], "prompt": "Router#"}]}, {"title": "Filters & Shortcuts", "content": "<h3>Pipeline Filters & Keyboard Shortcuts</h3>\n<p>Cisco IOS has powerful filtering built in. Instead of scrolling through 200 lines of <code>show running-config</code>, you can filter to just what you need. These filters save enormous amounts of time.</p>\n\n<h3>Pipeline Filters ( | )</h3>\n<div class=\"cli\"><span class=\"k\">show run | include [text]</span>\n   Show ONLY lines containing that text.\n   Example: sh run | include interface\n   Shows: \"interface GigabitEthernet0/0\", \"interface Vlan10\"...\n\n<span class=\"k\">show run | section [text]</span>\n   Show the ENTIRE section starting with that text.\n   Example: sh run | section router ospf\n   Shows the complete OSPF config block with all sub-commands.\n\n<span class=\"k\">show run | begin [text]</span>\n   Start displaying from the first line matching that text.\n   Example: sh run | begin line vty\n   Shows everything from \"line vty 0 4\" to end of config.\n\n<span class=\"k\">show run | exclude [text]</span>\n   Show everything EXCEPT lines with that text.\n   Example: sh run | exclude !\n   Hides all comment lines for a cleaner view.</div>\n\n<h3>Keyboard Shortcuts</h3>\n<div class=\"cli\"><span class=\"k\">Navigation:</span>\nTab              Auto-complete command\n?                Show available commands/options\nCtrl+A           Jump to beginning of line\nCtrl+E           Jump to end of line\nUp Arrow         Previous command (recall history)\n\n<span class=\"k\">Control:</span>\nCtrl+Shift+6     ABORT! Stop a running ping or traceroute\nCtrl+C           Cancel current command/entry\nCtrl+Z           Same as typing \"end\" (back to privileged)\n\n<span class=\"k\">The \"do\" prefix:</span>\nFrom ANY config mode, prefix with \"do\" to run exec commands:\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">do show ip int br</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">do ping 10.0.0.1</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">do show run | section interface</span></div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>\"% Ambiguous command\"</strong> means your abbreviation matches multiple commands. Type more characters. <code>sh</code> is ambiguous because it matches \"show\" and \"shutdown\" ‚Äî but <code>sho</code> works because only \"show\" starts with \"sho\".</div>", "questions": [{"type": "type", "q": "Show run lines with 'interface':", "answer": ["show run | include interface", "sh run | include interface", "show running-config | include interface"], "prompt": "Router#"}, {"type": "type", "q": "Show full interface sections:", "answer": ["show run | section interface", "sh run | section interface"], "prompt": "Router#"}, {"type": "type", "q": "Show run starting from 'line':", "answer": ["show run | begin line", "sh run | begin line"], "prompt": "Router#"}, {"type": "type", "q": "Show run hiding lines with 'no':", "answer": ["show run | exclude no", "sh run | exclude no"], "prompt": "Router#"}, {"type": "choice", "q": "Ctrl+Shift+6 does?", "options": ["Clear screen", "Abort operation", "Config mode", "Save"], "answer": 1, "explain": "Aborts running ping/traceroute."}, {"type": "choice", "q": "'% Ambiguous command' means?", "options": ["Not found", "Abbreviation matches multiple", "Permission denied", "Syntax error"], "answer": 1, "explain": "Type more characters to be unique."}, {"type": "type", "q": "Run 'show ip int br' from config mode:", "answer": ["do show ip interface brief", "do sh ip int br", "do show ip int br"], "prompt": "Router(config)#"}]}]}, {"id": "dev_setup", "title": "Device Initial Setup", "desc": "Hostname, passwords, SSH, banners, save config.", "icon": "üîê", "tier": "Beginner", "lessons": [{"title": "Hostname & Banner", "content": "<h3>Hostname & Banner ‚Äî First Steps</h3>\n<p>The first thing you configure on any device is its <strong>hostname</strong>. On a network with 200 switches, you need to instantly know which device you're connected to. Without a hostname, every device just says \"Switch>\" ‚Äî dangerous when you accidentally reload the wrong one.</p>\n\n<div class=\"cli\"><span class=\"k\">Setting a hostname:</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">hostname NYC-SW-FL3</span>\n<span class=\"p\">NYC-SW-FL3(config)#</span>\n\nGood naming conventions: SITE-ROLE-LOCATION\nExamples: NYC-RTR01, DC-CORE-SW1, LA-ACCESS-FL2</div>\n\n<h3>Login Banners</h3>\n<p>A <strong>banner</strong> is a message displayed before or after login. The MOTD (Message of the Day) banner appears to EVERYONE, even before authentication. It serves as a legal warning.</p>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">banner motd # AUTHORIZED ACCESS ONLY. All activity is monitored and recorded. Unauthorized access will be prosecuted. #</span></div>\n\n<h3>Why Banners Matter Legally</h3>\n<p>In many jurisdictions, prosecuting unauthorized access requires proving the person <strong>knew they weren't authorized</strong>. A banner that says \"Welcome!\" could be argued as an invitation. A banner that explicitly states \"authorized personnel only\" and \"activity is monitored\" strengthens your legal position.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>NEVER use \"Welcome\" in a banner.</strong> Attorneys have successfully argued that \"Welcome\" implies an invitation to access the system, potentially weakening prosecution of unauthorized access.</div>", "questions": [{"type": "type", "q": "Set hostname to SW-FLOOR3:", "answer": ["hostname SW-FLOOR3"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set hostname to CORE-RTR:", "answer": ["hostname CORE-RTR"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set MOTD banner:", "answer": ["banner motd #", "banner motd # AUTHORIZED ACCESS ONLY #"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Why no 'Welcome' in banners?", "options": ["Reserved", "Could weaken prosecution", "Syntax error", "Performance"], "answer": 1, "explain": "Implies invitation to access."}]}, {"title": "Passwords", "content": "<h3>Securing Device Access with Passwords</h3>\n<p>A Cisco device out of the box has NO passwords. Anyone who connects to the console port or Telnet gets full access. Securing access is critical ‚Äî and there's a right order to do it.</p>\n\n<h3>Types of Passwords</h3>\n<div class=\"cli\"><span class=\"k\">enable secret [password]</span>\n  Protects privileged EXEC mode (the # prompt).\n  Stored as MD5 hash ‚Äî CANNOT be easily reversed.\n  ALWAYS use this instead of \"enable password.\"\n\n<span class=\"k\">enable password [password]</span>\n  OLDER command. Stored as Type 7 (reversible!).\n  If both exist, \"enable secret\" takes priority.\n  Never use this ‚Äî it's trivially crackable.\n\n<span class=\"k\">service password-encryption</span>\n  Encrypts Type 7 passwords in the config file.\n  Better than plaintext but still easily reversible\n  (Google \"Cisco Type 7 decoder\"). It's a speed bump,\n  not real security. Use \"secret\" wherever possible.</div>\n\n<h3>Console & VTY Passwords</h3>\n<div class=\"cli\"><span class=\"k\">Console (physical access):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">line console 0</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">password ConsolePass1!</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">login</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">logging synchronous</span>    Prevents log messages from interrupting your typing\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">exec-timeout 5 0</span>       Auto-logout after 5 minutes idle\n\n<span class=\"k\">VTY (remote access - Telnet/SSH):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">line vty 0 4</span>             5 simultaneous sessions (0-4)\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">transport input ssh</span>   SSH only (block Telnet!)\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">login local</span>            Use local username database</div>\n\n<div class=\"kp\">üí° <strong>The \"login\" keyword is critical.</strong> Without it, the password line is ignored and anyone can access the console without authentication. Always add <code>login</code> (or <code>login local</code> for username-based auth).</div>", "questions": [{"type": "type", "q": "Set enable secret 'Cisco123':", "answer": ["enable secret Cisco123"], "prompt": "Router(config)#"}, {"type": "type", "q": "Encrypt all passwords:", "answer": ["service password-encryption"], "prompt": "Router(config)#"}, {"type": "type", "q": "Console line config:", "answer": ["line console 0", "line con 0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set console password 'ConPass':", "answer": ["password ConPass"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Require login on console:", "answer": ["login"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Stop log interruptions:", "answer": ["logging synchronous"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "10-min timeout:", "answer": ["exec-timeout 10 0", "exec-timeout 10"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "VTY lines 0-4:", "answer": ["line vty 0 4"], "prompt": "Router(config)#"}]}, {"title": "SSH Setup", "content": "<h3>SSH Configuration ‚Äî Secure Remote Access</h3>\n<p>SSH (Secure Shell) encrypts ALL traffic between your computer and the network device ‚Äî including passwords, commands, and output. Telnet sends everything in plaintext. On any modern network, <strong>SSH is mandatory and Telnet must be disabled</strong>.</p>\n\n<h3>SSH Prerequisites (All Three Required!)</h3>\n<div class=\"cli\"><span class=\"k\">1. Hostname</span> ‚Äî Cannot be the default \"Router\" or \"Switch\"\n<span class=\"k\">2. Domain name</span> ‚Äî Combined with hostname to generate the RSA key\n<span class=\"k\">3. RSA keys</span> ‚Äî The encryption keys generated from hostname.domain\n\nIf ANY of these are missing, SSH will not work.\nIf you try <code>crypto key generate rsa</code> without a hostname\nand domain, IOS will tell you \"Please define a hostname\nand domain-name first.\"</div>\n\n<h3>Complete SSH Setup (Follow This Order)</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">hostname HQ-RTR01</span>                              Step 1\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">ip domain-name corp.local</span>                   Step 2\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">crypto key generate rsa modulus 2048</span>         Step 3\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">ip ssh version 2</span>                             Force v2\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">username admin privilege 15 secret Str0ng!</span>  Local user\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">line vty 0 4</span>\n<span class=\"p\">HQ-RTR01(config-line)#</span> <span class=\"k\">transport input ssh</span>                     SSH only\n<span class=\"p\">HQ-RTR01(config-line)#</span> <span class=\"k\">login local</span>                             Use local DB\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip ssh</span>          Shows SSH version, timeout, retries\n<span class=\"p\">Router#</span> <span class=\"k\">show ssh</span>             Shows active SSH sessions</div>\n\n<p><strong>RSA key size:</strong> Use 2048-bit minimum. 1024-bit is considered weak. The key is generated from your hostname + domain name, so if you change either, you need to regenerate keys.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>privilege 15</strong> gives the user immediate access to privileged EXEC mode (no need to type <code>enable</code>). Use this for admin accounts. Use lower privilege levels (1-14) for restricted access.</div>", "questions": [{"type": "type", "q": "Set domain to 'navy.mil':", "answer": ["ip domain-name navy.mil", "ip domain name navy.mil"], "prompt": "Router(config)#"}, {"type": "type", "q": "Generate 2048-bit RSA keys:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "Router(config)#"}, {"type": "type", "q": "Force SSH v2:", "answer": ["ip ssh version 2"], "prompt": "Router(config)#"}, {"type": "type", "q": "SSH-only on VTY:", "answer": ["transport input ssh"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Use local user database:", "answer": ["login local"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Create user 'netadmin' priv 15 secret 'Pass1':", "answer": ["username netadmin privilege 15 secret Pass1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Verify SSH sessions:", "answer": ["show ssh", "sh ssh"], "prompt": "Router#"}, {"type": "type", "q": "Check SSH config:", "answer": ["show ip ssh", "sh ip ssh"], "prompt": "Router#"}]}, {"title": "Save & Manage Config", "content": "<h3>Configuration Management ‚Äî Save or Lose Everything</h3>\n<p>This might be the most important concept for beginners: <strong>Cisco devices have TWO configurations</strong>, and if you don't understand the difference, you WILL lose hours of work.</p>\n\n<div class=\"cli\"><span class=\"k\">running-config</span> (RAM)\n  The ACTIVE configuration. Every command you type goes here.\n  This is what the device is CURRENTLY doing.\n  <strong>Volatile ‚Äî destroyed on reboot or power loss!</strong>\n\n<span class=\"k\">startup-config</span> (NVRAM)\n  The SAVED configuration. Loads into RAM when device boots.\n  <strong>Non-volatile ‚Äî survives reboot.</strong>\n  Only updates when YOU explicitly copy running to startup.</div>\n\n<h3>Saving Configuration</h3>\n<div class=\"cli\"><span class=\"k\">Two ways to save (they're identical):</span>\n<span class=\"p\">Router#</span> <span class=\"k\">copy running-config startup-config</span>    Full command\n<span class=\"p\">Router#</span> <span class=\"k\">write memory</span>                            Short version\n<span class=\"p\">Router#</span> <span class=\"k\">wr</span>                                      Shortest (most common)\n\n<span class=\"k\">Erasing configuration:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">write erase</span>         Deletes startup-config\n<span class=\"p\">Router#</span> <span class=\"k\">reload</span>              Reboot (now boots with no config)\n\n<span class=\"k\">Running show commands from config mode:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">do show ip int br</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">do show run</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">do wr</span>    ‚Üê Save from config mode!</div>\n\n<h3>The Reboot Nightmare Scenario</h3>\n<p>You spend 2 hours configuring OSPF, VLANs, ACLs, and NAT. Everything works. The power goes out. The device reboots. <strong>If you never ran <code>wr</code>, ALL of that is gone.</strong> The device loads the old startup-config (or no config at all).</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Save early, save often.</strong> After every significant change, run <code>wr</code>. Some engineers save after every change. There's no downside to saving too often ‚Äî but losing 2 hours of work is painful.</div>", "questions": [{"type": "type", "q": "Save (shortest):", "answer": ["wr", "write", "write memory"], "prompt": "Router#"}, {"type": "type", "q": "Save (full):", "answer": ["copy running-config startup-config", "copy run start"], "prompt": "Router#"}, {"type": "type", "q": "Erase startup:", "answer": ["write erase", "wr erase"], "prompt": "Router#"}, {"type": "type", "q": "Reboot:", "answer": ["reload"], "prompt": "Router#"}, {"type": "type", "q": "'show ip int br' from config:", "answer": ["do show ip interface brief", "do sh ip int br"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Running-config location?", "options": ["NVRAM", "Flash", "RAM", "ROM"], "answer": 2, "explain": "RAM, lost on reboot."}]}]}, {"id": "interfaces", "title": "Interface Configuration", "desc": "Assign IPs, status codes, speed/duplex.", "icon": "üîå", "tier": "Beginner", "lessons": [{"title": "Router Interface Config", "content": "<h3>Router Interface Configuration</h3>\n<p>Interfaces are where packets enter and leave a router. Each interface needs an IP address (its identity on that network) and must be administratively enabled. On Cisco routers, <strong>all interfaces are shut down by default</strong> ‚Äî you must explicitly bring them up.</p>\n\n<h3>Basic Interface Configuration</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">interface GigabitEthernet0/0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">description ## Uplink to Core Switch ##</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip address 192.168.1.1 255.255.255.0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">no shutdown</span>\n\n<span class=\"k\">Interface naming:</span>\nGigabitEthernet0/0    or Gi0/0    (1 Gbps)\nFastEthernet0/1       or Fa0/1    (100 Mbps)\nSerial0/0/0           or Se0/0/0  (WAN serial)\nLoopback0             or Lo0      (virtual, always up)\nVlan10                             (SVI on L3 switch)\n\n<span class=\"k\">Descriptions are optional but CRITICAL for operations.</span>\nWhen you see 50 interfaces, descriptions tell you:\n\"## Uplink to Core ##\" vs \"## User VLAN 10 ##\"\nWithout them, you're guessing which cable goes where.</div>\n\n<h3>Loopback Interfaces</h3>\n<p>A loopback is a <strong>virtual interface</strong> that never goes down (no physical cable to fail). It's used for router IDs (OSPF, BGP), management access, and testing. You can create as many as you need.</p>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">interface Loopback0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip address 1.1.1.1 255.255.255.255</span>\n<span class=\"c\">// /32 mask = single host. Standard for loopbacks.</span></div>\n\n<div class=\"kp\">üí° <strong>Use loopback IPs as OSPF/BGP router-IDs.</strong> Physical interfaces can go down, changing the router-ID and disrupting routing. Loopbacks are always up, providing a stable identity.</div>", "questions": [{"type": "type", "q": "Enter Gi0/1:", "answer": ["interface GigabitEthernet0/1", "int gi0/1", "int g0/1", "interface gi0/1"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 10.0.0.1/24:", "answer": ["ip address 10.0.0.1 255.255.255.0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "IP 172.16.1.1/30:", "answer": ["ip address 172.16.1.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Bring up:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Description 'WAN Link':", "answer": ["description WAN Link"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Create Loopback0:", "answer": ["interface Loopback0", "int loopback0", "int lo0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Shut down an interface:", "answer": ["shutdown", "shut"], "prompt": "Router(config-if)#"}]}, {"title": "Status Codes", "content": "<h3>Interface Status Codes ‚Äî Read Them Like a Book</h3>\n<p>When you run <code>show ip interface brief</code>, every interface shows two status fields: <strong>Status</strong> (Layer 1/Physical) and <strong>Protocol</strong> (Layer 2/Data Link). Together they tell you exactly what's wrong.</p>\n\n<div class=\"cli\"><span class=\"k\">Status        Protocol     Meaning</span>\nup            up           ‚úÖ Working perfectly\nup            down         L1 physical ok, L2 problem (encap, keepalives, speed/duplex mismatch, no remote end on serial)\ndown          down         No cable, cable bad, or remote end is shut down. Also: no SFP module in a fiber port\nadministratively down      Someone typed \"shutdown\" ‚Äî deliberately disabled\nerr-disabled  err-disabled Security violation! Port-security, BPDU guard, or other protection feature killed this port</div>\n\n<h3>Troubleshooting by Status</h3>\n<div class=\"cli\"><span class=\"k\">admin down ‚Üí </span>Did someone intentionally shut it? Check with\n  show run interface [name]. Fix: no shutdown\n\n<span class=\"k\">down/down ‚Üí </span>Physical problem. Check:\n  - Is the cable plugged in on both ends?\n  - Is the other end powered on?\n  - Try a different cable / different port\n  - For fiber: check SFP module, check light levels\n\n<span class=\"k\">up/down ‚Üí </span>Layer 2 issue. Check:\n  - Speed/duplex mismatch (both ends should match or auto)\n  - Wrong encapsulation (serial links: PPP vs HDLC)\n  - Clock rate missing on DCE serial interface\n\n<span class=\"k\">err-disabled ‚Üí </span>Security violation. Check:\n  - show interfaces status err-disabled (what caused it?)\n  - show port-security interface [name]\n  - Fix: shut / no shut (after fixing root cause)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>err-disabled doesn't fix itself</strong> by default. You must manually bounce the port (shut / no shut) after addressing the root cause. Or configure auto-recovery: <code>errdisable recovery cause [reason]</code></div>", "questions": [{"type": "choice", "q": "'admin down' means?", "options": ["Cable out", "shutdown cmd", "L2 error", "Port security"], "answer": 1, "explain": "Someone ran 'shutdown'."}, {"type": "choice", "q": "up/down likely?", "options": ["IP conflict", "L2 problem", "Wrong mask", "DNS"], "answer": 1, "explain": "Physical ok, L2 negotiation failed."}, {"type": "type", "q": "Show port status/speed/VLAN:", "answer": ["show interfaces status", "sh int status", "show int status"], "prompt": "Switch#"}, {"type": "type", "q": "Detailed stats on specific port:", "answer": ["show interfaces GigabitEthernet0/1", "sh int gi0/1", "show int gi0/1"], "prompt": "Router#"}]}, {"title": "Speed & Duplex", "content": "<h3>Speed, Duplex & Error Analysis</h3>\n<p>Speed and duplex mismatches are one of the most common causes of poor network performance. When two devices disagree on how fast they should communicate or whether they can send and receive simultaneously, bad things happen.</p>\n\n<div class=\"cli\"><span class=\"k\">Speed:</span> How fast (10/100/1000 Mbps)\n<span class=\"k\">Duplex:</span> Can both sides talk simultaneously?\n  Full-duplex: Send AND receive at the same time (normal)\n  Half-duplex: Take turns (causes collisions, terrible perf)\n\n<span class=\"k\">Best practice:</span> Let both sides auto-negotiate.\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">speed auto</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">duplex auto</span>\n\n<span class=\"k\">Manual override (when needed):</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">speed 1000</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">duplex full</span></div>\n\n<h3>Reading Interface Errors</h3>\n<p>The <code>show interfaces</code> command shows detailed error counters. Each type of error points to a specific problem:</p>\n<div class=\"cli\"><span class=\"k\">Error Type    Cause                          Fix</span>\nCRC errors    Bad cable or connector          Replace cable\nRunts         Frames too small (< 64 bytes)   Usually collisions\nGiants        Frames too large (> 1518 bytes) MTU mismatch, check jumbo frames\nCollisions    Duplex mismatch                 Set both sides to full-duplex\nLate collis.  Cable too long (>100m copper)   Shorten run or use fiber\nInput errors  Combination of above            Check each sub-counter\nOutput drops  Congestion / queue overflow     QoS or upgrade bandwidth</div>\n\n<div class=\"kp\">üí° <strong>The duplex mismatch trap:</strong> If one side is set to auto and the other is hard-coded to full/1000, auto-negotiation may fail. The auto side falls back to half-duplex, causing collisions and terrible performance. Always match settings on both sides.</div>", "questions": [{"type": "type", "q": "Set speed 100:", "answer": ["speed 100"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Set full duplex:", "answer": ["duplex full"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Set auto speed:", "answer": ["speed auto"], "prompt": "Switch(config-if)#"}, {"type": "choice", "q": "CRC errors = ?", "options": ["Software", "Bad cable", "IP conflict", "MTU"], "answer": 1, "explain": "Physical layer: cables/connectors."}, {"type": "choice", "q": "Collisions on modern net = ?", "options": ["Loop", "Duplex mismatch", "Wrong VLAN", "Bad IP"], "answer": 1, "explain": "One side half, other full."}]}]}, {"id": "arp_mac", "title": "ARP, MAC & Switching", "desc": "How devices find each other.", "icon": "üì°", "tier": "Beginner", "lessons": [{"title": "ARP & MAC Tables", "content": "<h3>ARP & MAC Tables ‚Äî How Devices Find Each Other</h3>\n<p>When your computer wants to send data to another device on the same network, it needs two addresses: the <strong>IP address</strong> (Layer 3, logical) and the <strong>MAC address</strong> (Layer 2, physical/hardware). ARP bridges these two worlds.</p>\n\n<h3>ARP ‚Äî Address Resolution Protocol</h3>\n<div class=\"cli\"><span class=\"k\">The Problem:</span>\nYour PC knows it needs to reach 192.168.1.1 (the gateway).\nBut Ethernet frames need a destination MAC address, not IP.\nYour PC doesn't know the gateway's MAC address yet.\n\n<span class=\"k\">The Solution (ARP):</span>\n1. PC broadcasts: \"Who has 192.168.1.1? Tell 192.168.1.10\"\n   (This broadcast goes to every device on the subnet)\n2. Router responds: \"192.168.1.1 is at MAC aa:bb:cc:dd:ee:ff\"\n3. PC caches this in its ARP table for future use\n4. PC builds Ethernet frame with destination MAC and sends it\n\n<span class=\"k\">ARP Cache:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip arp</span>\n  Shows IP ‚Üí MAC mappings the router has learned.\n  Entries timeout after ~4 hours (varies by platform).\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip arp</span>\n  Flush the cache (forces re-learning via ARP).</div>\n\n<h3>MAC Address Table (Switches)</h3>\n<div class=\"cli\"><span class=\"k\">How switches learn:</span>\n1. Frame arrives on port Fa0/1 with source MAC aa:bb:cc:11:22:33\n2. Switch records: \"MAC aa:bb:cc:11:22:33 is on port Fa0/1\"\n3. When a frame arrives for that destination MAC, switch sends\n   it ONLY to Fa0/1 (not flooded to all ports like a hub)\n\n<span class=\"p\">Switch#</span> <span class=\"k\">show mac address-table</span>\n  Shows MAC ‚Üí Port mappings.\n  Dynamic entries age out after 300 seconds (5 min default).\n<span class=\"p\">Switch#</span> <span class=\"k\">clear mac address-table dynamic</span>\n  Flush dynamic entries (forces re-learning).</div>\n\n<div class=\"kp\">üí° <strong>Unknown unicast flooding:</strong> If a switch receives a frame for a MAC not in its table, it floods the frame to ALL ports (except the one it came in on). This is normal for the first frame ‚Äî subsequent frames are forwarded directly.</div>", "questions": [{"type": "type", "q": "View ARP:", "answer": ["show ip arp", "sh ip arp"], "prompt": "Router#"}, {"type": "type", "q": "View MAC table:", "answer": ["show mac address-table", "sh mac address-table"], "prompt": "Switch#"}, {"type": "type", "q": "Clear ARP:", "answer": ["clear ip arp", "clear arp"], "prompt": "Router#"}, {"type": "type", "q": "Clear dynamic MACs:", "answer": ["clear mac address-table dynamic"], "prompt": "Switch#"}, {"type": "choice", "q": "ARP resolves?", "options": ["MAC>IP", "IP>MAC", "Name>IP", "IP>name"], "answer": 1, "explain": "IP to MAC for local delivery."}, {"type": "choice", "q": "Switches learn MACs how?", "options": ["Manual", "Read source MAC of incoming frames", "DHCP", "ARP"], "answer": 1, "explain": "Source MAC + ingress port = table entry."}]}]}, {"id": "basic_tshoot", "title": "Basic Connectivity Testing", "desc": "Ping, traceroute, and first troubleshooting steps.", "icon": "üîç", "tier": "Beginner", "lessons": [{"title": "Ping & Traceroute", "content": "<h3>Ping & Traceroute ‚Äî Your First Troubleshooting Tools</h3>\n<p>Before diving into complex debugging, always start with <strong>ping</strong> (can I reach it?) and <strong>traceroute</strong> (what path do packets take?). These two commands answer 80% of connectivity questions.</p>\n\n<h3>Ping (ICMP Echo Request/Reply)</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">ping 192.168.1.1</span>\n<span class=\"o\">!!!!!  ‚Üê 5 successes</span>\n\n<span class=\"k\">Symbols:</span>\n!  Success ‚Äî reply received\n.  Timeout ‚Äî no reply (packet lost or blocked)\nU  Unreachable ‚Äî a router explicitly said \"can't get there\"\n\n<span class=\"k\">Source-specific ping</span> (critical for troubleshooting!):\n<span class=\"p\">Router#</span> <span class=\"k\">ping 10.0.0.1 source Loopback0</span>\n  Tests reachability FROM a specific interface/IP.\n  If ping works from Gi0/0 but fails from Loopback0,\n  the remote side doesn't have a route back to your loopback.\n\n<span class=\"k\">Extended ping</span> (interactive mode):\n<span class=\"p\">Router#</span> <span class=\"k\">ping</span>\n  Lets you set: repeat count, datagram size, timeout,\n  source interface, and more. Use large sizes (1500+)\n  to test MTU issues.</div>\n\n<h3>Traceroute</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">traceroute 172.16.1.1</span>\n  Shows every router hop between you and the destination.\n  Each hop shows the IP and round-trip time.\n  * * * means that hop didn't respond (often filtered by ACL).\n\n<span class=\"k\">Reading traceroute:</span>\n1  192.168.1.1    1 ms  ‚Üê Your gateway\n2  10.0.0.1       4 ms  ‚Üê Next router\n3  172.16.0.1     8 ms  ‚Üê Getting closer\n4  172.16.1.1    12 ms  ‚Üê Destination reached!</div>\n\n<h3>Troubleshooting Methodology</h3>\n<div class=\"cli\"><span class=\"k\">1. Can I ping my own interface?</span> ‚Üí Tests my local IP stack\n<span class=\"k\">2. Can I ping my gateway?</span> ‚Üí Tests L1/L2 to the next hop\n<span class=\"k\">3. Can I ping the destination?</span> ‚Üí Tests end-to-end routing\n<span class=\"k\">4. Can I ping from the SOURCE the user is using?</span>\n   ‚Üí Use \"ping [dest] source [int]\" to test specific paths</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>First ping often fails (.!!!!)</strong> ‚Äî that first timeout is the ARP resolution happening. The router doesn't have the next-hop's MAC yet, so the first packet gets dropped while ARP resolves. This is NORMAL.</div>", "questions": [{"type": "type", "q": "Ping 10.0.0.1:", "answer": ["ping 10.0.0.1"], "prompt": "Router#"}, {"type": "type", "q": "Ping from Loopback0:", "answer": ["ping 10.0.0.1 source Loopback0", "ping 10.0.0.1 source lo0"], "prompt": "Router#"}, {"type": "type", "q": "Traceroute to 172.16.1.1:", "answer": ["traceroute 172.16.1.1"], "prompt": "Router#"}, {"type": "choice", "q": "'!' in ping = ?", "options": ["Fail", "Success", "Timeout", "Unreachable"], "answer": 1, "explain": "! = reply received."}, {"type": "choice", "q": "'.' in ping = ?", "options": ["Success", "Timeout", "DNS fail", "MTU exceeded"], "answer": 1, "explain": ". = timeout, no reply."}, {"type": "choice", "q": "'U' in ping = ?", "options": ["Success", "Timeout", "Unreachable", "Unknown"], "answer": 2, "explain": "U = ICMP unreachable received."}]}, {"title": "Basic Troubleshooting Steps", "content": "<h3>Systematic Troubleshooting ‚Äî The Bottom-Up Method</h3>\n<p>When something doesn't work, resist the urge to randomly change things. Follow a <strong>structured approach</strong> starting from the physical layer up. Most problems are at Layer 1 (someone unplugged something) or Layer 3 (routing/IP issue).</p>\n\n<h3>The Bottom-Up Approach</h3>\n<div class=\"cli\"><span class=\"k\">Layer 1 (Physical):</span>\n  ‚ñ° Is the link light on? Green = good, Amber = error, Off = bad\n  ‚ñ° Is the cable firmly seated on both ends?\n  ‚ñ° show interfaces [name] ‚Äî look for CRC errors, runts\n  ‚ñ° show interfaces status ‚Äî speed/duplex correct?\n\n<span class=\"k\">Layer 2 (Data Link):</span>\n  ‚ñ° show interfaces status ‚Äî err-disabled? Wrong VLAN?\n  ‚ñ° show mac address-table ‚Äî does the switch see the device?\n  ‚ñ° show vlan brief ‚Äî is the port in the right VLAN?\n  ‚ñ° show spanning-tree ‚Äî is the port in forwarding state?\n\n<span class=\"k\">Layer 3 (Network):</span>\n  ‚ñ° show ip interface brief ‚Äî IP assigned? Interface up/up?\n  ‚ñ° ping [gateway] ‚Äî can I reach my default gateway?\n  ‚ñ° show ip route ‚Äî do I have a route to the destination?\n  ‚ñ° ping [destination] ‚Äî can I reach the target?\n  ‚ñ° traceroute [destination] ‚Äî where does it fail?\n\n<span class=\"k\">Layer 4+ (Transport/Application):</span>\n  ‚ñ° show access-lists ‚Äî is an ACL blocking traffic?\n  ‚ñ° show ip nat translations ‚Äî NAT working?\n  ‚ñ° Is the service actually running on the destination?</div>\n\n<h3>Common Quick Wins</h3>\n<div class=\"cli\"><span class=\"k\">Problem                          Likely Cause</span>\nCan't ping gateway               Wrong IP/mask, wrong VLAN, cable\nCan ping gateway, not server     Missing route, ACL blocking\nIntermittent connectivity        Duplex mismatch, bad cable\nPC gets 169.254.x.x              DHCP not working\n\"admin down\" on interface        Someone ran \"shutdown\"\n\"err-disabled\" on port           Port-security or BPDU guard violation</div>\n\n<div class=\"kp\">üí° <strong>The single most useful command:</strong> <code>show ip interface brief</code>. Run it first, every time. It immediately shows which interfaces are up, which are down, and which have IP addresses.</div>", "questions": [{"type": "type", "q": "First thing - check all interfaces:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}, {"type": "type", "q": "Check default gateway route:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "Check if ACLs are blocking:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "choice", "q": "Start troubleshooting at?", "options": ["Layer 7", "Layer 4", "Layer 3", "Layer 1 (Physical)"], "answer": 3, "explain": "Always check physical first."}, {"type": "choice", "q": "Can ping gateway but not server. Issue is?", "options": ["Local config", "Routing or remote network", "Physical cable", "ARP"], "answer": 1, "explain": "If gateway works, problem is upstream routing or remote side."}]}]}, {"id": "beg_drill1", "title": "CLI Drill: Setup Sprint", "desc": "Type full device setup sequences from memory.", "icon": "‚å®Ô∏è", "tier": "Beginner", "lessons": [{"title": "Full Device Setup", "content": "<h3>Device Setup Sequence</h3><p>Setting up a Cisco device from scratch follows a specific order. Miss a step and SSH won't work, passwords won't stick, or your config disappears on reboot.</p><div class=\"cli\"><span class=\"k\">Setup Order:</span>\n1. <span class=\"k\">hostname</span>        ‚Üí Identity (required for SSH)\n2. <span class=\"k\">enable secret</span>   ‚Üí Protect priv mode (MD5 hash)\n3. <span class=\"k\">service password-encryption</span> ‚Üí Encrypt Type 7\n4. <span class=\"k\">ip domain-name</span>  ‚Üí Required for RSA key generation\n5. <span class=\"k\">crypto key generate rsa</span> ‚Üí Creates SSH keys\n6. <span class=\"k\">username + secret</span> ‚Üí Local user account\n7. <span class=\"k\">line vty 0 4</span>    ‚Üí Remote access config\n8. <span class=\"k\">transport input ssh</span> ‚Üí SSH only (no Telnet!)\n9. <span class=\"k\">login local</span>     ‚Üí Use local database\n10. <span class=\"k\">write memory</span>   ‚Üí SAVE or you lose everything</div><div class=\"wb\">&#x26A0;&#xFE0F; SSH requires THREE things: a hostname, a domain name, AND RSA keys. Missing any one = SSH won't generate.</div>", "questions": [{"type": "type", "q": "Set hostname DIST-SW01:", "answer": ["hostname DIST-SW01"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set enable secret 'C!sc0Lab':", "answer": ["enable secret C!sc0Lab"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Encrypt passwords:", "answer": ["service password-encryption"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set domain name 'corp.net':", "answer": ["ip domain-name corp.net", "ip domain name corp.net"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Generate RSA 2048:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "Switch(config)#"}, {"type": "type", "q": "SSH version 2:", "answer": ["ip ssh version 2"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Create user 'admin' priv 15 secret 'Adm!n1':", "answer": ["username admin privilege 15 secret Adm!n1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Enter VTY 0-15:", "answer": ["line vty 0 15"], "prompt": "Switch(config)#"}, {"type": "type", "q": "SSH only:", "answer": ["transport input ssh"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Local auth:", "answer": ["login local"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Timeout 10 min:", "answer": ["exec-timeout 10 0", "exec-timeout 10"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Console line:", "answer": ["line console 0", "line con 0"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Log sync:", "answer": ["logging synchronous"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Banner:", "answer": ["banner motd #", "banner motd # AUTHORIZED ACCESS ONLY #"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Save config:", "answer": ["wr", "write memory", "copy running-config startup-config"], "prompt": "Switch#"}]}, {"title": "Interface Speed Run", "content": "<h3>Interface Configuration Essentials</h3><p>Every interface needs at minimum an IP address and <code>no shutdown</code>. Interfaces are <strong>administratively down</strong> by default on routers.</p><div class=\"cli\"><span class=\"k\">Router Interface:</span>\ninterface GigabitEthernet0/0\n ip address 10.0.0.1 255.255.255.0\n description ## WAN Uplink ##\n no shutdown\n\n<span class=\"k\">Switch Access Port:</span>\ninterface FastEthernet0/1\n switchport mode access\n switchport access vlan 10\n spanning-tree portfast\n\n<span class=\"k\">Status Codes:</span>\nup/up         = Working perfectly\nup/down       = L1 ok, L2 problem (encap/speed)\ndown/down     = No cable or remote end down\nadmin down    = \"shutdown\" command applied\nerr-disabled  = Security violation (port-security, BPDU guard)</div><div class=\"kp\">&#x1F4A1; <strong>show ip interface brief</strong> shows all interfaces in one view. <strong>show interfaces status</strong> (switch only) shows speed/duplex/VLAN.</div>", "questions": [{"type": "type", "q": "Enter Gi0/0:", "answer": ["interface GigabitEthernet0/0", "int gi0/0", "int g0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 10.10.10.1/24:", "answer": ["ip address 10.10.10.1 255.255.255.0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "No shut:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter Gi0/1:", "answer": ["interface GigabitEthernet0/1", "int gi0/1", "int g0/1"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 172.16.1.1/30:", "answer": ["ip address 172.16.1.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "No shut:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter Loopback0:", "answer": ["interface Loopback0", "int loopback0", "int lo0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 1.1.1.1/32:", "answer": ["ip address 1.1.1.1 255.255.255.255"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter Se0/0/0:", "answer": ["interface Serial0/0/0", "int se0/0/0", "int s0/0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 192.168.100.1/30:", "answer": ["ip address 192.168.100.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check all interfaces:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}]}]}, {"id": "beg_drill2", "title": "CLI Drill: Show Command Blitz", "desc": "Show commands until they're automatic.", "icon": "üîé", "tier": "Beginner", "lessons": [{"title": "Router Show Commands", "content": "<h3>Router Verification Commands</h3><p>These are the commands every network engineer types dozens of times a day. Master them so they become muscle memory.</p><div class=\"cli\"><span class=\"k\">Command                    Purpose</span>\nshow ip interface brief     All IPs + up/down status\nshow running-config         What's running NOW (RAM)\nshow startup-config         What loads on boot (NVRAM)\nshow version                IOS version, uptime, hardware\nshow ip route               How packets get forwarded\nshow interfaces             Errors, CRC, collisions, drops\nshow access-lists           ACL rules + hit counters\nshow ip ospf neighbor       OSPF adjacency status\nshow ip nat translations    Active NAT/PAT table\nshow ip dhcp binding        DHCP leases issued\nshow clock                  Current device time\nshow logging                Recent syslog messages</div><div class=\"kp\">&#x1F4A1; Use <code>do show ip int br</code> from config mode to check interfaces without leaving config.</div>", "questions": [{"type": "type", "q": "Interface overview:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}, {"type": "type", "q": "Full config:", "answer": ["show running-config", "sh run"], "prompt": "Router#"}, {"type": "type", "q": "Saved config:", "answer": ["show startup-config", "sh start"], "prompt": "Router#"}, {"type": "type", "q": "Routing table:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "IOS version:", "answer": ["show version", "sh ver"], "prompt": "Router#"}, {"type": "type", "q": "Interface errors:", "answer": ["show interfaces", "sh int"], "prompt": "Router#"}, {"type": "type", "q": "ARP cache:", "answer": ["show ip arp", "sh ip arp"], "prompt": "Router#"}, {"type": "type", "q": "Time:", "answer": ["show clock", "sh clock"], "prompt": "Router#"}, {"type": "type", "q": "OSPF neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "ACLs with counts:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "NAT translations:", "answer": ["show ip nat translations", "sh ip nat translations"], "prompt": "Router#"}, {"type": "type", "q": "DHCP leases:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}, {"type": "type", "q": "Flash contents:", "answer": ["show flash:", "show flash", "dir flash:"], "prompt": "Router#"}, {"type": "type", "q": "Running protocols:", "answer": ["show ip protocols", "sh ip protocols"], "prompt": "Router#"}, {"type": "type", "q": "CPU usage:", "answer": ["show processes cpu", "sh proc cpu"], "prompt": "Router#"}]}, {"title": "Switch Show Commands", "content": "<h3>Switch Verification Commands</h3><p>Switches add L2-specific commands for VLANs, trunks, MAC tables, and STP that routers don't have.</p><div class=\"cli\"><span class=\"k\">Command                          Purpose</span>\nshow vlan brief                   VLAN list + port assignments\nshow interfaces trunk             Trunks, allowed/native VLANs\nshow mac address-table            Learned MAC-to-port mappings\nshow spanning-tree                STP root, port roles/states\nshow port-security                Port security violations\nshow etherchannel summary         Port-channel bundle status\nshow cdp neighbors                Directly connected devices\nshow interfaces status            Speed/duplex/VLAN per port\nshow vtp status                   VTP mode, revision, domain\nshow interfaces status err-disabled  Security-disabled ports</div><div class=\"kp\">&#x1F4A1; <strong>show int status</strong> is the single best switch command ‚Äî shows speed, duplex, VLAN, and link state for every port at once.</div>", "questions": [{"type": "type", "q": "VLAN assignments:", "answer": ["show vlan brief", "sh vlan br"], "prompt": "Switch#"}, {"type": "type", "q": "Trunk status:", "answer": ["show interfaces trunk", "sh int trunk"], "prompt": "Switch#"}, {"type": "type", "q": "MAC table:", "answer": ["show mac address-table", "sh mac address-table"], "prompt": "Switch#"}, {"type": "type", "q": "STP info:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Port security:", "answer": ["show port-security", "sh port-security"], "prompt": "Switch#"}, {"type": "type", "q": "Port status/speed/VLAN:", "answer": ["show interfaces status", "sh int status"], "prompt": "Switch#"}, {"type": "type", "q": "CDP neighbors:", "answer": ["show cdp neighbors", "sh cdp nei"], "prompt": "Switch#"}, {"type": "type", "q": "EtherChannel:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}, {"type": "type", "q": "VTP status:", "answer": ["show vtp status", "sh vtp status"], "prompt": "Switch#"}, {"type": "type", "q": "Err-disabled ports:", "answer": ["show interfaces status err-disabled", "sh int status err-disabled"], "prompt": "Switch#"}]}]}, {"id": "drill_ports", "title": "Port Number Drills", "desc": "Type port numbers until you dream them.", "icon": "üéØ", "tier": "Beginner", "lessons": [{"title": "Drill: Common Ports A", "content": "<h3>Critical Port Numbers</h3><p>Network services listen on specific port numbers. You <strong>must</strong> memorize these ‚Äî they show up in ACLs, firewall rules, NAT configs, and troubleshooting every day.</p><div class=\"cli\"><span class=\"k\">Port  Proto  Service        Why You Care</span>\n20    TCP    FTP Data       File transfers (data channel)\n21    TCP    FTP Control    File transfers (commands)\n22    TCP    SSH            Secure remote access (ALWAYS use this)\n23    TCP    Telnet         Remote access (NEVER use - plaintext!)\n25    TCP    SMTP           Sending email\n53    Both   DNS            Name resolution (UDP queries, TCP zone xfer)\n67    UDP    DHCP Server    Server listens here\n68    UDP    DHCP Client    Client listens here</div><div class=\"kp\">&#x1F4A1; <strong>Well-known ports</strong> = 0-1023. <strong>Registered</strong> = 1024-49151. <strong>Dynamic/Ephemeral</strong> = 49152-65535.</div><div class=\"wb\">&#x26A0;&#xFE0F; If you see port 23 open on a device, that's a security finding. SSH (22) should replace Telnet everywhere.</div>", "questions": [{"type": "type", "q": "SSH port:", "answer": ["22"], "prompt": "Port>"}, {"type": "type", "q": "Telnet port:", "answer": ["23"], "prompt": "Port>"}, {"type": "type", "q": "HTTP port:", "answer": ["80"], "prompt": "Port>"}, {"type": "type", "q": "HTTPS port:", "answer": ["443"], "prompt": "Port>"}, {"type": "type", "q": "DNS port:", "answer": ["53"], "prompt": "Port>"}, {"type": "type", "q": "FTP data port:", "answer": ["20"], "prompt": "Port>"}, {"type": "type", "q": "FTP control port:", "answer": ["21"], "prompt": "Port>"}, {"type": "type", "q": "SMTP port:", "answer": ["25"], "prompt": "Port>"}, {"type": "type", "q": "DHCP server port:", "answer": ["67"], "prompt": "Port>"}, {"type": "type", "q": "DHCP client port:", "answer": ["68"], "prompt": "Port>"}]}, {"title": "Drill: Common Ports B", "content": "<h3>More Essential Ports</h3><p>These appear less often but are critical for monitoring, management, and troubleshooting.</p><div class=\"cli\"><span class=\"k\">Port  Proto  Service        Why You Care</span>\n69    UDP    TFTP           Simple file xfer (IOS upgrades, no auth!)\n110   TCP    POP3           Receive email (downloads to client)\n123   UDP    NTP            Time sync (critical for logs & certs)\n143   TCP    IMAP           Receive email (stays on server)\n161   UDP    SNMP           Network monitoring (polling)\n162   UDP    SNMP Traps     Network monitoring (alerts TO server)\n389   TCP    LDAP           Directory services (Active Directory)\n443   TCP    HTTPS          Secure web traffic\n514   UDP    Syslog         Centralized logging\n3389  TCP    RDP            Windows Remote Desktop</div><div class=\"kp\">&#x1F4A1; <strong>SNMP 161</strong> = you poll the device. <strong>SNMP 162</strong> = device sends alerts to you. Know the difference!</div>", "questions": [{"type": "type", "q": "TFTP port:", "answer": ["69"], "prompt": "Port>"}, {"type": "type", "q": "SNMP port:", "answer": ["161"], "prompt": "Port>"}, {"type": "type", "q": "SNMP trap port:", "answer": ["162"], "prompt": "Port>"}, {"type": "type", "q": "Syslog port:", "answer": ["514"], "prompt": "Port>"}, {"type": "type", "q": "RDP port:", "answer": ["3389"], "prompt": "Port>"}, {"type": "type", "q": "LDAP port:", "answer": ["389"], "prompt": "Port>"}, {"type": "type", "q": "POP3 port:", "answer": ["110"], "prompt": "Port>"}, {"type": "type", "q": "IMAP port:", "answer": ["143"], "prompt": "Port>"}, {"type": "type", "q": "NTP port:", "answer": ["123"], "prompt": "Port>"}, {"type": "type", "q": "TACACS+ port:", "answer": ["49"], "prompt": "Port>"}]}]}, {"id": "drill_show", "title": "Show Command Drills", "desc": "Type every show command from memory.", "icon": "üéØ", "tier": "Beginner", "lessons": [{"title": "Drill: Router Show Commands", "content": "<h3>Router Show Commands Reference</h3><p>These are the commands you'll type hundreds of times a day. Every troubleshooting session starts with show commands to understand the current state before making changes.</p><div class=\"cli\"><span class=\"k\">Command                    What It Shows</span>\nshow ip interface brief     All interfaces: IP, status, protocol\nshow running-config         Active config in RAM (what's running NOW)\nshow startup-config         Saved config in NVRAM (loads on boot)\nshow version                IOS version, uptime, hardware, license\nshow ip route               Full routing table (how packets get forwarded)\nshow access-lists           All ACLs with match counters\nshow ip arp                 ARP cache (IP-to-MAC mappings)\nshow ip ospf neighbor       OSPF adjacencies and states\nshow ip nat translations    Active NAT/PAT mappings\nshow ip dhcp binding        DHCP leases assigned</div><div class=\"kp\">&#x1F4A1; <strong>Pro tip:</strong> Always check <code>show ip int br</code> first. It tells you instantly which interfaces are up, down, or missing IPs.</div>", "questions": [{"type": "type", "q": "All interface IPs and status:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}, {"type": "type", "q": "Full active configuration:", "answer": ["show running-config", "sh run"], "prompt": "Router#"}, {"type": "type", "q": "Saved configuration:", "answer": ["show startup-config", "sh start"], "prompt": "Router#"}, {"type": "type", "q": "IOS version and uptime:", "answer": ["show version", "sh ver"], "prompt": "Router#"}, {"type": "type", "q": "IP routing table:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "All ACLs with counters:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "ARP cache:", "answer": ["show ip arp", "sh ip arp"], "prompt": "Router#"}, {"type": "type", "q": "OSPF neighbor list:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "NAT translations:", "answer": ["show ip nat translations", "sh ip nat trans"], "prompt": "Router#"}, {"type": "type", "q": "DHCP leases:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}]}, {"title": "Drill: Switch Show Commands", "content": "<h3>Switch-Specific Show Commands</h3><p>Switches have unique show commands for VLANs, trunking, spanning tree, and port security that routers don't have.</p><div class=\"cli\"><span class=\"k\">Command                          What It Shows</span>\nshow vlan brief                   VLAN IDs, names, port assignments\nshow interfaces trunk             Trunk ports, allowed/native VLANs\nshow mac address-table            Learned MAC addresses per port\nshow spanning-tree                STP root, port roles, states\nshow port-security                Security status per port\nshow etherchannel summary         Port-channel bundle status\nshow cdp neighbors                Directly connected Cisco devices\nshow interfaces status            Speed/duplex/VLAN per port\nshow vtp status                   VTP mode, domain, revision\nshow interfaces status err-disabled  Ports shut down by security</div><div class=\"kp\">&#x1F4A1; <strong>show int status</strong> is your best friend on switches. Shows speed, duplex, VLAN, and status of every port in one view.</div>", "questions": [{"type": "type", "q": "VLAN assignments:", "answer": ["show vlan brief", "sh vlan br"], "prompt": "Switch#"}, {"type": "type", "q": "Trunk ports and allowed VLANs:", "answer": ["show interfaces trunk", "sh int trunk"], "prompt": "Switch#"}, {"type": "type", "q": "MAC address table:", "answer": ["show mac address-table", "sh mac address-table"], "prompt": "Switch#"}, {"type": "type", "q": "STP status:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Port security all ports:", "answer": ["show port-security", "sh port-security"], "prompt": "Switch#"}, {"type": "type", "q": "EtherChannel status:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}, {"type": "type", "q": "CDP neighbors:", "answer": ["show cdp neighbors", "sh cdp nei"], "prompt": "Switch#"}, {"type": "type", "q": "Port speed/duplex/VLAN status:", "answer": ["show interfaces status", "sh int status"], "prompt": "Switch#"}, {"type": "type", "q": "VTP status:", "answer": ["show vtp status", "sh vtp status"], "prompt": "Switch#"}, {"type": "type", "q": "Err-disabled ports:", "answer": ["show interfaces status err-disabled", "sh int status err-disabled"], "prompt": "Switch#"}]}]}, {"id": "drill_setup", "title": "Device Setup Speed Run", "desc": "Configure a device from scratch - fastest time wins.", "icon": "‚è±Ô∏è", "tier": "Beginner", "lessons": [{"title": "Full Router Setup", "content": "<h3>Router Initial Setup Checklist</h3><p>When you unbox a new router or do a factory reset, you need to configure it from scratch. This is the standard build sequence every network engineer follows:</p><div class=\"cli\"><span class=\"k\">Step  Command                              Purpose</span>\n1     enable                                Get to privileged mode\n2     configure terminal                    Enter global config\n3     hostname [name]                       Identify the device\n4     enable secret [pass]                  Protect privileged mode (MD5)\n5     service password-encryption           Encrypt Type 7 passwords\n6     ip domain-name [domain]               Required for RSA keys\n7     crypto key generate rsa modulus 2048   Generate SSH keys\n8     ip ssh version 2                      Force secure SSH\n9     username [user] privilege 15 secret [pass]  Create local admin\n10    line vty 0 4 ‚Üí transport input ssh    SSH-only remote access\n11    login local                           Use local user database\n12    write memory                          Save to NVRAM!</div><div class=\"wb\">&#x26A0;&#xFE0F; If you forget <code>write memory</code> and the device reboots, ALL your config is gone. Running-config is RAM only!</div>", "questions": [{"type": "type", "q": "Enter priv mode:", "answer": ["enable", "en"], "prompt": "Router>"}, {"type": "type", "q": "Enter config:", "answer": ["configure terminal", "conf t"], "prompt": "Router#"}, {"type": "type", "q": "Hostname 'HQ-RTR':", "answer": ["hostname HQ-RTR"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable secret 'Str0ng!':", "answer": ["enable secret Str0ng!"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "Encrypt passwords:", "answer": ["service password-encryption"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "Domain 'corp.local':", "answer": ["ip domain-name corp.local", "ip domain name corp.local"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "RSA 2048:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "SSH v2:", "answer": ["ip ssh version 2"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "User 'admin' priv 15 secret 'Admin1':", "answer": ["username admin privilege 15 secret Admin1"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "VTY 0-4:", "answer": ["line vty 0 4"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "SSH only:", "answer": ["transport input ssh"], "prompt": "HQ-RTR(config-line)#"}, {"type": "type", "q": "Local auth:", "answer": ["login local"], "prompt": "HQ-RTR(config-line)#"}, {"type": "type", "q": "Save:", "answer": ["end", "exit"], "prompt": "HQ-RTR(config-line)#"}, {"type": "type", "q": "Write to NVRAM:", "answer": ["wr", "write memory", "copy running-config startup-config"], "prompt": "HQ-RTR#"}]}]}, {"id": "drill_subnet", "title": "Subnetting Speed Drills", "desc": "Calculate subnets under pressure.", "icon": "üßÆ", "tier": "Beginner", "lessons": [{"title": "Subnet Mask Drills", "content": "<h3>Subnet Mask Memorization</h3><p>You need to know these by heart. The subnet mask tells the router which part of an IP is the network vs. the host. Each additional bit in the mask halves the number of available hosts.</p><div class=\"cli\"><span class=\"k\">CIDR  Last Octet  Total IPs  Usable Hosts</span>\n/24   .0          256        254\n/25   .128        128        126\n/26   .192        64         62\n/27   .224        32         30\n/28   .240        16         14\n/29   .248        8          6\n/30   .252        4          2 (point-to-point)\n/16   255.255.0.0            65,534\n/8    255.0.0.0              16,777,214</div><div class=\"kp\">&#x1F4A1; <strong>Quick trick:</strong> Start at /24 = .0 (256). Each prefix adds the next power of 2: .128, .192, .224, .240, .248, .252</div>", "questions": [{"type": "type", "q": "Mask for /24:", "answer": ["255.255.255.0"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /25:", "answer": ["255.255.255.128"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /26:", "answer": ["255.255.255.192"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /27:", "answer": ["255.255.255.224"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /28:", "answer": ["255.255.255.240"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /29:", "answer": ["255.255.255.248"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /30:", "answer": ["255.255.255.252"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /16:", "answer": ["255.255.0.0"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /8:", "answer": ["255.0.0.0"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /20:", "answer": ["255.255.240.0"], "prompt": "Mask>"}]}, {"title": "Wildcard Mask Drills", "content": "<h3>Wildcard Mask Speed Drill</h3><p>Wildcard masks are the <strong>inverse of subnet masks</strong>. They're required in OSPF <code>network</code> statements and ACLs. The math: <code>255 - subnet octet = wildcard octet</code>. For example, subnet 255.255.255.192 ‚Üí wildcard 0.0.0.63 (because 255-192=63).</p><div class=\"cli\"><span class=\"k\">Quick reference:</span>\n/24 mask .0   ‚Üí WC 0.0.0.255    /25 mask .128 ‚Üí WC 0.0.0.127\n/26 mask .192 ‚Üí WC 0.0.0.63     /27 mask .224 ‚Üí WC 0.0.0.31\n/28 mask .240 ‚Üí WC 0.0.0.15     /29 mask .248 ‚Üí WC 0.0.0.7\n/30 mask .252 ‚Üí WC 0.0.0.3      /32 mask .255 ‚Üí WC 0.0.0.0 (host)\n/16 mask .0.0 ‚Üí WC 0.0.255.255  /8  mask .0.0.0 ‚Üí WC 0.255.255.255\n\n<span class=\"k\">Where wildcards are used:</span>\nOSPF: network 10.0.0.0 <strong>0.0.0.255</strong> area 0\nACL:  permit ip 192.168.1.0 <strong>0.0.0.255</strong> any</div><div class=\"wb\">‚ö†Ô∏è A 0 in the wildcard means \"must match.\" A 1 means \"don't care.\" So 0.0.0.0 = match exactly one host, 0.0.0.255 = match any host in that /24.</div>", "questions": [{"type": "type", "q": "Wildcard for /24:", "answer": ["0.0.0.255"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /26:", "answer": ["0.0.0.63"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /27:", "answer": ["0.0.0.31"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /28:", "answer": ["0.0.0.15"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /29:", "answer": ["0.0.0.7"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /30:", "answer": ["0.0.0.3"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /16:", "answer": ["0.0.255.255"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /8:", "answer": ["0.255.255.255"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for single host:", "answer": ["0.0.0.0"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /25:", "answer": ["0.0.0.127"], "prompt": "WC>"}]}]}, {"id": "drill_ad", "title": "Administrative Distance Drill", "desc": "Know which route wins.", "icon": "üìê", "tier": "Beginner", "lessons": [{"title": "AD Values", "content": "<h3>Administrative Distance</h3><p>When multiple routing protocols have a route to the same destination, the router picks the one with the <strong>lowest Administrative Distance</strong>. AD is the \"trustworthiness\" rating.</p><div class=\"cli\"><span class=\"k\">Source              AD    Remember</span>\nConnected           0     Directly attached (most trusted)\nStatic              1     You typed it manually\neBGP                20    External BGP (internet backbone)\nEIGRP (internal)    90    Cisco's fast protocol\nOSPF                110   Open standard workhorse\nRIP                 120   Legacy, slow convergence\nEIGRP (external)    170   Redistributed into EIGRP\niBGP                200   Internal BGP (least trusted dynamic)</div><div class=\"kp\">&#x1F4A1; <strong>Lower AD = more trusted.</strong> If OSPF (110) and EIGRP (90) both know a route, EIGRP wins because 90 < 110.</div><div class=\"wb\">&#x26A0;&#xFE0F; A floating static route uses a higher AD (like 5) so it only activates when the primary route disappears.</div>", "questions": [{"type": "type", "q": "Connected AD:", "answer": ["0"], "prompt": "AD>"}, {"type": "type", "q": "Static AD:", "answer": ["1"], "prompt": "AD>"}, {"type": "type", "q": "eBGP AD:", "answer": ["20"], "prompt": "AD>"}, {"type": "type", "q": "EIGRP (internal) AD:", "answer": ["90"], "prompt": "AD>"}, {"type": "type", "q": "OSPF AD:", "answer": ["110"], "prompt": "AD>"}, {"type": "type", "q": "RIP AD:", "answer": ["120"], "prompt": "AD>"}, {"type": "type", "q": "EIGRP (external) AD:", "answer": ["170"], "prompt": "AD>"}, {"type": "type", "q": "iBGP AD:", "answer": ["200"], "prompt": "AD>"}]}]}, {"id": "drill_modes", "title": "CLI Mode Drills", "desc": "Navigate modes like a pro.", "icon": "üéÆ", "tier": "Beginner", "lessons": [{"title": "Mode Navigation Speed", "content": "<h3>IOS Mode Hierarchy</h3><p>Cisco IOS has a strict mode hierarchy. You must be in the right mode to run specific commands. Think of it as security clearance levels.</p><div class=\"cli\"><span class=\"k\">Mode                Prompt              Access</span>\nUser EXEC           Router>             Basic show commands only\nPrivileged EXEC     Router#             All show, debug, copy, reload\nGlobal Config       Router(config)#     Change device-wide settings\nInterface Config    Router(config-if)#  Change per-port settings\nLine Config         Router(config-line)# Console/VTY settings\nRouter Config       Router(config-router)# Routing protocol settings\nVLAN Config         Switch(config-vlan)# VLAN creation/naming\nDHCP Config         Router(dhcp-config)# DHCP pool settings\n\n<span class=\"k\">Navigation:</span>\nenable              User > Privileged\nconfigure terminal  Privileged > Global Config\ninterface [name]    Global > Interface\nline vty 0 4        Global > Line\nrouter ospf 1       Global > Router\nexit                Go back one level\nend                 Jump to Privileged from anywhere</div>", "questions": [{"type": "type", "q": "User > Privileged:", "answer": ["enable", "en"], "prompt": "Router>"}, {"type": "type", "q": "Privileged > Global Config:", "answer": ["configure terminal", "conf t"], "prompt": "Router#"}, {"type": "type", "q": "Global > Interface Gi0/0:", "answer": ["interface GigabitEthernet0/0", "int gi0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Interface VLAN 10:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Global > Line Console:", "answer": ["line console 0", "line con 0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Line VTY:", "answer": ["line vty 0 4"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Router OSPF:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Router EIGRP:", "answer": ["router eigrp 100"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Router BGP:", "answer": ["router bgp 65001"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > DHCP Pool:", "answer": ["ip dhcp pool MYPOOL"], "prompt": "Router(config)#"}, {"type": "type", "q": "Interface > back to Global:", "answer": ["exit"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Any config > Privileged:", "answer": ["end"], "prompt": "Router(config-router)#"}]}]}, {"id": "drill_cable", "title": "Cable & Standard Drills", "desc": "Know your physical layer cold.", "icon": "üéØ", "tier": "Beginner", "lessons": [{"title": "Physical Layer Speed Round", "content": "<h3>Physical Layer Facts</h3><p>Layer 1 is where networking begins ‚Äî actual cables, connectors, signals. Get these wrong and nothing else matters.</p><div class=\"cli\"><span class=\"k\">Cable Standards:</span>\nCat5e   1 Gbps    100m    Most common installed base\nCat6    10 Gbps   55m     (1 Gbps at 100m)\nCat6a   10 Gbps   100m    Full 10G at full distance\n\n<span class=\"k\">Fiber Optic:</span>\nSingle-mode (yellow jacket)  - Kilometers range, laser\nMulti-mode (orange/aqua)     - ~550m, LED, cheaper\n\n<span class=\"k\">Power over Ethernet:</span>\n802.3af  (PoE)    15.4W   IP phones, basic cameras\n802.3at  (PoE+)   30W     Wireless APs, PTZ cameras\n802.3bt  (PoE++)  60-100W High-power devices\n\n<span class=\"k\">Ethernet Speeds:</span>\nFastEthernet    100 Mbps   (100BASE-TX)\nGigabitEthernet 1 Gbps     (1000BASE-T)\n10GigE          10 Gbps    (10GBASE-T)\n\n<span class=\"k\">Connectors:</span> RJ-45=copper, LC/SC=fiber, DB-9=serial console\n<span class=\"k\">Console:</span> 9600 baud, 8 data, No parity, 1 stop (8-N-1)</div>", "questions": [{"type": "choice", "q": "Cat5e max speed?", "options": ["100 Mbps", "1 Gbps", "10 Gbps", "100 Gbps"], "answer": 1, "explain": "1 Gbps, 100m."}, {"type": "choice", "q": "Cat6 at 10G max dist?", "options": ["55m", "100m", "300m", "1km"], "answer": 0, "explain": "55m at 10G (100m at 1G)."}, {"type": "choice", "q": "Single-mode fiber color?", "options": ["Orange", "Aqua", "Yellow", "Blue"], "answer": 2, "explain": "Yellow=SMF."}, {"type": "choice", "q": "802.3af PoE watts?", "options": ["15.4W", "30W", "60W", "100W"], "answer": 0, "explain": "15.4W standard PoE."}, {"type": "choice", "q": "FastEthernet speed?", "options": ["10 Mbps", "100 Mbps", "1 Gbps", "10 Gbps"], "answer": 1, "explain": "100 Mbps."}, {"type": "choice", "q": "Console baud rate?", "options": ["4800", "9600", "19200", "115200"], "answer": 1, "explain": "9600 8-N-1."}, {"type": "choice", "q": "RJ-45 used for?", "options": ["Fiber", "Ethernet copper", "Serial", "USB"], "answer": 1, "explain": "Standard Ethernet connector."}, {"type": "choice", "q": "10GBASE-T needs minimum?", "options": ["Cat5", "Cat5e", "Cat6", "Cat6a for 100m"], "answer": 3, "explain": "Cat6a for 100m at 10G."}, {"type": "choice", "q": "Crossover cable: switch to switch?", "options": ["Required", "Not needed with Auto-MDIX", "Never works", "Only fiber"], "answer": 1, "explain": "Auto-MDIX handles it."}, {"type": "choice", "q": "LC connector is for?", "options": ["Copper", "Fiber", "Serial", "Power"], "answer": 1, "explain": "LC/SC are fiber connectors."}]}]}, {"id": "vlans", "title": "VLANs & Trunking", "desc": "Segment, trunk, and route between VLANs.", "icon": "üîÄ", "tier": "Intermediate", "lessons": [{"title": "Creating VLANs", "content": "<h3>VLANs ‚Äî Virtual LANs</h3>\n<p>A VLAN divides one physical switch into multiple <strong>isolated broadcast domains</strong>. Without VLANs, every device on a switch is in the same network ‚Äî one broadcast storm, one virus, one misconfigured device affects EVERYONE.</p>\n\n<p><strong>Real-world analogy:</strong> Think of an office building. Without VLANs, every department shares one giant open room ‚Äî HR, Engineering, Accounting all hearing each other's conversations. VLANs put walls between departments while sharing the same physical building (switch).</p>\n\n<h3>Why VLANs Matter</h3>\n<div class=\"cli\"><span class=\"k\">Without VLANs:</span>\nAll 200 PCs share one broadcast domain.\nEvery ARP, DHCP discover, and broadcast hits every device.\nNetwork becomes unusable above ~500 hosts.\nNo security separation between departments.\n\n<span class=\"k\">With VLANs:</span>\nEngineering (VLAN 10): 50 PCs in their own broadcast domain\nAccounting (VLAN 20): 30 PCs isolated from Engineering\nGuest WiFi (VLAN 100): Completely separated from corporate\nServer (VLAN 50): Restricted access via ACLs on the router</div>\n\n<h3>Configuration</h3>\n<div class=\"cli\"><span class=\"k\">Step 1: Create the VLAN</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">vlan 10</span>\n<span class=\"p\">Switch(config-vlan)#</span> <span class=\"k\">name ENGINEERING</span>\n\n<span class=\"k\">Step 2: Assign ports to the VLAN</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface FastEthernet0/1</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport mode access</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport access vlan 10</span>\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Switch#</span> <span class=\"k\">show vlan brief</span>   Lists all VLANs and their ports</div>\n\n<p><strong>VLAN 1 is the default.</strong> All ports start in VLAN 1. Never use VLAN 1 for production traffic ‚Äî it's a security best practice to move everything to numbered VLANs and leave VLAN 1 empty.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Devices in different VLANs CANNOT communicate</strong> without a router or L3 switch performing inter-VLAN routing. VLANs are isolated by design ‚Äî that's the whole point.</div>", "questions": [{"type": "type", "q": "Create VLAN 30:", "answer": ["vlan 30"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name it 'SERVERS':", "answer": ["name SERVERS"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Set port as access:", "answer": ["switchport mode access"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Assign to VLAN 20:", "answer": ["switchport access vlan 20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Verify VLANs:", "answer": ["show vlan brief", "sh vlan br", "show vlan"], "prompt": "Switch#"}, {"type": "type", "q": "Delete VLAN 50:", "answer": ["no vlan 50"], "prompt": "Switch(config)#"}, {"type": "choice", "q": "VLAN 10 talk to VLAN 20 without routing?", "options": ["Yes", "No - needs router/L3 switch"], "answer": 1, "explain": "VLANs isolate broadcast domains."}]}, {"title": "Trunk Links", "content": "<h3>Trunk Links ‚Äî Carrying Multiple VLANs</h3>\n<p>An <strong>access port</strong> belongs to one VLAN. A <strong>trunk port</strong> carries traffic for MULTIPLE VLANs between switches (or between a switch and a router). Trunks use <strong>802.1Q tagging</strong> ‚Äî each frame gets a 4-byte tag inserted that identifies which VLAN it belongs to.</p>\n\n<h3>How 802.1Q Trunking Works</h3>\n<div class=\"cli\"><span class=\"k\">Without trunking:</span>\nYou'd need a separate physical cable between switches\nfor every VLAN. 10 VLANs = 10 cables. Terrible.\n\n<span class=\"k\">With 802.1Q trunking:</span>\nONE cable carries ALL VLANs. Each frame gets tagged with\nits VLAN ID. The receiving switch reads the tag and puts\nthe frame in the correct VLAN. Efficient and scalable.</div>\n\n<h3>Configuration</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport mode trunk</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport trunk allowed vlan 10,20,30</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport trunk native vlan 99</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport nonegotiate</span>\n\n<span class=\"k\">Managing allowed VLANs:</span>\nswitchport trunk allowed vlan 10,20,30       Set specific list\nswitchport trunk allowed vlan add 40          Add one more\nswitchport trunk allowed vlan remove 20       Remove one\nswitchport trunk allowed vlan all             Allow all (default)</div>\n\n<h3>Native VLAN</h3>\n<p>The <strong>native VLAN</strong> is the one VLAN that goes UNTAGGED across the trunk. By default it's VLAN 1. For security, always change it to an unused VLAN (like 99 or 999) and make sure it matches on both sides.</p>\n\n<h3>DTP (Dynamic Trunking Protocol)</h3>\n<p>DTP automatically negotiates trunk/access mode. <strong>Disable it on every port.</strong> An attacker can exploit DTP to form a trunk with your switch and access ALL VLANs (VLAN hopping attack).</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Native VLAN mismatch</strong> between two trunk ports causes STP issues, broken VLANs, and security vulnerabilities. Always verify with <code>show interfaces trunk</code> that both sides match.</div>", "questions": [{"type": "type", "q": "Set as trunk:", "answer": ["switchport mode trunk"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Allow VLANs 10,20:", "answer": ["switchport trunk allowed vlan 10,20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Add VLAN 30 to trunk:", "answer": ["switchport trunk allowed vlan add 30"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Native VLAN 99:", "answer": ["switchport trunk native vlan 99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Disable DTP:", "answer": ["switchport nonegotiate"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Verify trunks:", "answer": ["show interfaces trunk", "sh int trunk"], "prompt": "Switch#"}, {"type": "type", "q": "Remove VLAN 20 from trunk:", "answer": ["switchport trunk allowed vlan remove 20"], "prompt": "Switch(config-if)#"}]}, {"title": "Inter-VLAN Routing", "content": "<h3>Inter-VLAN Routing ‚Äî Connecting VLANs Together</h3>\n<p>VLANs isolate broadcast domains, but users in different VLANs still need to communicate (Engineering needs to reach the file server in Server VLAN). This requires a <strong>Layer 3 device</strong> ‚Äî either an external router or an L3 switch.</p>\n\n<h3>Method 1: Router-on-a-Stick (Small Networks)</h3>\n<div class=\"cli\"><span class=\"k\">How it works:</span>\nOne physical router interface splits into virtual\nsub-interfaces, one per VLAN. The switch trunks all\nVLANs to the router on a single link.\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0.10</span>               Sub-interface for VLAN 10\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">encapsulation dot1q 10</span>     Tag VLAN 10\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">ip address 192.168.10.1 255.255.255.0</span>\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0.20</span>               Sub-interface for VLAN 20\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">encapsulation dot1q 20</span>     Tag VLAN 20\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">ip address 192.168.20.1 255.255.255.0</span>\n\n<span class=\"k\">Limitation:</span> ALL inter-VLAN traffic bottlenecks through one link.\nFine for small offices, bad for enterprise.</div>\n\n<h3>Method 2: L3 Switch with SVIs (Enterprise Standard)</h3>\n<div class=\"cli\"><span class=\"k\">How it works:</span>\nThe switch itself routes between VLANs at wire speed\nusing Switch Virtual Interfaces (SVIs). No external\nrouter needed. This is what enterprise networks use.\n\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">ip routing</span>                        Enable L3 forwarding!\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface vlan 10</span>                  Create SVI\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip address 192.168.10.1 255.255.255.0</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">no shutdown</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface vlan 20</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip address 192.168.20.1 255.255.255.0</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">no shutdown</span>\n\n<span class=\"k\">Users set their default gateway to the SVI IP of their VLAN.</span></div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Three things that keep SVIs down:</strong> 1) Forgot <code>ip routing</code>. 2) The VLAN doesn't exist. 3) No ports are active in that VLAN. All three must be true for the SVI to come up.</div>", "questions": [{"type": "type", "q": "Create sub-interface for VLAN 30:", "answer": ["interface Gi0/0.30", "int gi0/0.30"], "prompt": "Router(config)#"}, {"type": "type", "q": "Encapsulation for VLAN 30:", "answer": ["encapsulation dot1q 30"], "prompt": "Router(config-subif)#"}, {"type": "type", "q": "Enable L3 routing on switch:", "answer": ["ip routing"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Create SVI VLAN 10:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "IP 192.168.10.1/24 on SVI:", "answer": ["ip address 192.168.10.1 255.255.255.0"], "prompt": "Switch(config-if)#"}]}, {"title": "VTP", "content": "<h3>VTP ‚Äî VLAN Trunking Protocol</h3>\n<p>VTP automatically synchronizes VLAN databases across switches in the same domain. In theory, this means you create a VLAN on one switch and it appears on all switches. In practice, <strong>VTP has destroyed more networks than it's helped</strong>.</p>\n\n<h3>VTP Modes</h3>\n<div class=\"cli\"><span class=\"k\">Server</span> (default) ‚Äî Can create/modify/delete VLANs.\n   Sends VTP updates to other switches.\n\n<span class=\"k\">Client</span> ‚Äî Receives VLAN info from servers.\n   CANNOT create/modify/delete VLANs locally.\n\n<span class=\"k\">Transparent</span> ‚Äî Ignores VTP updates from others.\n   Manages its own VLANs locally. Passes VTP frames through.\n   <strong>THIS IS THE SAFEST MODE.</strong></div>\n\n<h3>The VTP Disaster Scenario</h3>\n<p>VTP uses a <strong>revision number</strong>. Every time a VLAN is added or deleted, the revision number increments. When two switches connect, the one with the HIGHER revision number wins and overwrites the other's VLAN database.</p>\n\n<div class=\"cli\"><span class=\"k\">The nightmare:</span>\n1. You pull a switch out of a lab (revision number: 50)\n2. Your production network has revision number: 30\n3. You plug the lab switch into production\n4. Lab switch has higher revision ‚Üí OVERWRITES production\n5. VLANs that exist in production but not in lab: DELETED\n6. Every port in those deleted VLANs: instantly disconnected\n7. Massive outage across the entire VTP domain</div>\n\n<h3>Best Practice: Use VTP Transparent Mode</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config)#</span> <span class=\"k\">vtp mode transparent</span>    Safe! Manages VLANs locally only.\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">vtp domain CORP</span>          Set domain name\n<span class=\"p\">Switch#</span> <span class=\"k\">show vtp status</span>               Check mode and revision</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Many enterprise networks disable VTP entirely</strong> by setting all switches to transparent mode. It's more manual work to create VLANs on each switch, but it eliminates the catastrophic failure mode described above. The 5 minutes of extra work is worth preventing a network-wide outage.</div>", "questions": [{"type": "type", "q": "VTP transparent (safe):", "answer": ["vtp mode transparent"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set VTP domain 'CORP':", "answer": ["vtp domain CORP"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Check VTP:", "answer": ["show vtp status", "sh vtp status"], "prompt": "Switch#"}, {"type": "choice", "q": "VTP danger?", "options": ["Bandwidth", "Can delete all VLANs", "Conflicts with STP", "Slows trunks"], "answer": 1, "explain": "Higher revision can overwrite VLAN database."}]}]}, {"id": "static_rt", "title": "Static & Default Routes", "desc": "Manual routing.", "icon": "üß≠", "tier": "Intermediate", "lessons": [{"title": "Routing Table", "content": "<h3>Understanding the Routing Table</h3>\n<p>The routing table is the <strong>brain of the router</strong>. Every time a packet arrives, the router looks up the destination IP in this table to decide where to send it. No matching route = packet gets dropped.</p>\n\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">show ip route</span>\nCodes: C - connected, S - static, O - OSPF, D - EIGRP,\n       B - BGP, R - RIP, L - local, S* - candidate default\n\nGateway of last resort is 10.0.0.1 to network 0.0.0.0\n\n C    192.168.1.0/24 is directly connected, Gi0/0\n L    192.168.1.1/32 is directly connected, Gi0/0\n S    10.10.0.0/16 [1/0] via 192.168.1.254\n O    172.16.0.0/16 [110/20] via 10.0.0.2, 00:05:32, Gi0/1\n D    10.20.0.0/24 [90/3072] via 10.0.0.3, Gi0/2\n S*   0.0.0.0/0 [1/0] via 10.0.0.1</div>\n\n<h3>Reading Route Entries</h3>\n<div class=\"cli\"><span class=\"k\">O 172.16.0.0/16 [110/20] via 10.0.0.2, 00:05:32, Gi0/1</span>\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îÇ          ‚îÇ          ‚îÇ\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îÇ          ‚îÇ          ‚îî Exit interface\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îÇ          ‚îî Time since learned\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îî Next-hop IP address\n‚îÇ                  ‚îÇ  ‚îî Metric (cost within the protocol)\n‚îÇ                  ‚îî Administrative Distance\n‚îî Route source (O = OSPF)</div>\n\n<h3>Administrative Distance ‚Äî Which Route Wins?</h3>\n<p>When multiple routing protocols know a route to the same destination, the router installs the one with the <strong>lowest Administrative Distance</strong>. AD represents how \"trustworthy\" the source is.</p>\n<div class=\"cli\"><span class=\"k\">Source          AD    Trustworthiness</span>\nConnected       0     I'm directly attached (most trusted)\nStatic          1     An admin typed this manually\neBGP            20    External BGP (internet backbone)\nEIGRP internal  90    Cisco's fast protocol\nOSPF            110   Open standard, most widely deployed\nRIP             120   Legacy protocol, slow convergence\nEIGRP external  170   Routes redistributed into EIGRP\niBGP            200   Internal BGP (least trusted dynamic)</div>\n\n<div class=\"kp\">üí° <strong>Lower AD wins.</strong> If OSPF (110) and EIGRP (90) both know a route to 10.0.0.0/24, EIGRP's route is installed because 90 < 110. The OSPF route is kept as a backup in case EIGRP's route disappears.</div>", "questions": [{"type": "type", "q": "View routing table:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "choice", "q": "C means?", "options": ["Configured", "Connected", "Cached", "CIDR"], "answer": 1, "explain": "Directly connected."}, {"type": "choice", "q": "OSPF AD?", "options": ["1", "90", "110", "120"], "answer": 2, "explain": "OSPF=110."}, {"type": "choice", "q": "EIGRP AD?", "options": ["1", "90", "110", "120"], "answer": 1, "explain": "EIGRP=90."}, {"type": "choice", "q": "Static vs OSPF: which installs?", "options": ["OSPF", "Static (AD 1 < 110)"], "answer": 1, "explain": "Lower AD wins."}, {"type": "choice", "q": "S* means?", "options": ["Static summary", "Default route", "Suspect", "EIGRP successor"], "answer": 1, "explain": "S* = candidate default."}]}, {"title": "Configuring Routes", "content": "<h3>Static Routes ‚Äî Manual Routing</h3>\n<p>Static routes are manually configured by the administrator. They're simple, predictable, and use zero bandwidth (no routing protocol traffic). But they don't adapt to changes ‚Äî if a link fails, you must manually update the route.</p>\n\n<h3>Static Route Syntax</h3>\n<div class=\"cli\"><span class=\"k\">ip route [destination] [mask] [next-hop or exit-interface]</span>\n\n<span class=\"k\">Standard static route:</span>\n<span class=\"p\">R(config)#</span> <span class=\"k\">ip route 10.10.0.0 255.255.0.0 192.168.1.254</span>\n  \"To reach 10.10.0.0/16, send packets to 192.168.1.254\"\n\n<span class=\"k\">Default route (gateway of last resort):</span>\n<span class=\"p\">R(config)#</span> <span class=\"k\">ip route 0.0.0.0 0.0.0.0 203.0.113.1</span>\n  \"If no other route matches, send it to 203.0.113.1\"\n  This is your internet route ‚Äî the \"when in doubt, go here\" route.\n\n<span class=\"k\">Floating static route (backup):</span>\n<span class=\"p\">R(config)#</span> <span class=\"k\">ip route 10.10.0.0 255.255.0.0 192.168.2.254 5</span>\n  That trailing \"5\" is the Administrative Distance.\n  Normal static AD = 1. By setting it to 5, this route\n  only installs if the primary route (OSPF AD=110 or\n  another static AD=1) disappears. It's a backup path.</div>\n\n<h3>When to Use Static Routes</h3>\n<div class=\"cli\"><span class=\"k\">Use static routes for:</span>\n‚Ä¢ Default routes to the internet\n‚Ä¢ Stub networks with only one way in/out\n‚Ä¢ Backup paths (floating static, higher AD)\n‚Ä¢ Small networks where dynamic protocols are overkill\n\n<span class=\"k\">DON'T use static routes for:</span>\n‚Ä¢ Large networks (too many routes to manage manually)\n‚Ä¢ Networks that change frequently\n‚Ä¢ Redundant topologies (they can't detect failures)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Static routes have NO failure detection.</strong> If the next-hop becomes unreachable but the local interface stays up, the static route stays in the table and packets get black-holed. Use IP SLA tracking or floating statics to handle this.</div>", "questions": [{"type": "type", "q": "Default via 10.0.0.1:", "answer": ["ip route 0.0.0.0 0.0.0.0 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "172.16.0.0/16 via 10.1.1.2:", "answer": ["ip route 172.16.0.0 255.255.0.0 10.1.1.2"], "prompt": "Router(config)#"}, {"type": "type", "q": "192.168.50.0/24 via 10.0.0.5:", "answer": ["ip route 192.168.50.0 255.255.255.0 10.0.0.5"], "prompt": "Router(config)#"}, {"type": "type", "q": "Remove default via 10.0.0.1:", "answer": ["no ip route 0.0.0.0 0.0.0.0 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Floating static?", "options": ["DHCP", "Higher AD, backup only", "Floats", "Load balances"], "answer": 1, "explain": "Only activates when primary fails."}]}]}, {"id": "ospf", "title": "OSPF Routing", "desc": "Link-state, areas, neighbors, configuration.", "icon": "üåê", "tier": "Intermediate", "lessons": [{"title": "OSPF Concepts", "content": "<h3>OSPF ‚Äî Open Shortest Path First</h3>\n<p>OSPF is the most widely deployed interior routing protocol. It's an open standard (not Cisco-proprietary), scales to thousands of routers, and converges quickly when links fail. If you learn one routing protocol deeply, make it OSPF.</p>\n\n<h3>How OSPF Works</h3>\n<div class=\"cli\"><span class=\"k\">OSPF is a link-state protocol. Here's what that means:</span>\n1. Every router discovers its neighbors (via Hello packets)\n2. Every router shares its link information with ALL routers\n3. Every router builds an identical map of the entire network\n4. Each router runs Dijkstra's SPF algorithm on this map\n5. The algorithm finds the shortest path to every destination\n6. These shortest paths become the routing table entries\n\n<span class=\"k\">Compare to distance-vector (like RIP):</span>\nDistance-vector: \"My neighbor told me he can reach X in 3 hops\"\nLink-state: \"I have the complete map. I can calculate the best\n            path to X myself.\"</div>\n\n<h3>Key OSPF Concepts</h3>\n<div class=\"cli\"><span class=\"k\">Areas:</span>\nOSPF divides networks into areas to reduce LSA flooding.\nArea 0 = Backbone. ALL other areas must connect to Area 0.\nSingle-area OSPF = everything in Area 0 (simple, common).\n\n<span class=\"k\">Hello/Dead Timers:</span>\nBroadcast networks: Hello 10 sec, Dead 40 sec\nNBMA networks: Hello 30 sec, Dead 120 sec\nIf no Hello received within Dead time ‚Üí neighbor is DEAD.\n\n<span class=\"k\">DR/BDR (Designated Router / Backup DR):</span>\nOn multi-access networks (Ethernet), OSPF elects a DR and BDR.\nInstead of every router talking to every other router,\neveryone talks to the DR. Reduces overhead from N¬≤ to N.\nElection: Highest priority wins (default 1). Tie: highest RID.\n\n<span class=\"k\">Cost = Reference Bandwidth / Interface Bandwidth</span>\nDefault ref BW = 100 Mbps. So FastEthernet cost = 1, GigE = 1.\nProblem: Both 100M and 1G have cost 1! Fix:\n  auto-cost reference-bandwidth 10000\n\n<span class=\"k\">Neighbor Requirements (ALL must match):</span>\n‚Ä¢ Same area ID on the shared link\n‚Ä¢ Same subnet and mask\n‚Ä¢ Same Hello/Dead timers\n‚Ä¢ Same authentication\n‚Ä¢ Same MTU (or use ip ospf mtu-ignore)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>OSPF stuck in INIT state?</strong> You see the neighbor's Hello but your Router-ID isn't in it. Usually means mismatched area, subnet, or timers. Check all five neighbor requirements.</div>", "questions": [{"type": "choice", "q": "OSPF type?", "options": ["Distance-vector", "Link-state", "Path-vector", "Hybrid"], "answer": 1, "explain": "Link-state, full topology."}, {"type": "choice", "q": "Area 0?", "options": ["Default", "Backbone", "Management", "Stub"], "answer": 1, "explain": "All areas connect to 0."}, {"type": "choice", "q": "Hello interval broadcast?", "options": ["5", "10", "30", "60"], "answer": 1, "explain": "10s broadcast, 30s NBMA."}, {"type": "choice", "q": "Algorithm?", "options": ["Bellman-Ford", "Dijkstra SPF", "DUAL", "BGP path"], "answer": 1, "explain": "Shortest Path First."}, {"type": "choice", "q": "Different areas on same link = neighbors?", "options": ["Yes", "No"], "answer": 1, "explain": "Must be same area."}]}, {"title": "OSPF Config", "content": "<h3>OSPF Configuration ‚Äî Step by Step</h3>\n<p>OSPF configuration tells the router which interfaces to enable OSPF on and which area they belong to. The <code>network</code> command doesn't advertise a network ‚Äî it <strong>activates OSPF on matching interfaces</strong>.</p>\n\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">router ospf 1</span>\n  Process ID (1) is LOCAL only ‚Äî doesn't have to match other routers!\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">router-id 1.1.1.1</span>\n  Unique identifier. Use a loopback IP. If not set, OSPF picks\n  the highest loopback IP, then highest physical IP.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 192.168.1.0 0.0.0.255 area 0</span>\n  \"Enable OSPF on any interface with an IP in 192.168.1.0/24\n   and place it in Area 0.\"\n  NOTE: Uses WILDCARD mask (inverse of subnet mask)!\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 10.0.0.0 0.0.0.3 area 0</span>\n  Enable OSPF on the 10.0.0.0/30 point-to-point link.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">passive-interface GigabitEthernet0/1</span>\n  Don't send OSPF Hellos out Gi0/1 (LAN-facing ports).\n  The network is still advertised ‚Äî just no neighbor attempts.\n  Use on all LAN/user-facing interfaces.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">default-information originate</span>\n  Tell OSPF to advertise the default route to other routers.\n  Requires a default route to exist in the routing table\n  (unless you add \"always\" keyword).</div>\n\n<h3>Alternative: Per-Interface OSPF</h3>\n<div class=\"cli\"><span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip ospf 1 area 0</span>\n  Cleaner method ‚Äî directly enables OSPF on this interface.\n  No wildcard masks needed. Many engineers prefer this.</div>\n\n<div class=\"kp\">üí° <strong>Common mistake:</strong> Using subnet masks instead of wildcard masks in the network statement. <code>network 192.168.1.0 255.255.255.0 area 0</code> is WRONG. Must be <code>0.0.0.255</code>.</div>", "questions": [{"type": "type", "q": "Start OSPF 1:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Router-id 2.2.2.2:", "answer": ["router-id 2.2.2.2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "10.0.0.0/24 in area 0:", "answer": ["network 10.0.0.0 0.0.0.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "172.16.0.0/16 in area 1:", "answer": ["network 172.16.0.0 0.0.255.255 area 1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive Gi0/1:", "answer": ["passive-interface GigabitEthernet0/1", "passive-interface gi0/1", "passive-interface g0/1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise default:", "answer": ["default-information originate"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Check neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "choice", "q": "Wildcard for /24?", "options": ["255.255.255.0", "0.0.0.255", "0.0.0.0", "255.0.0.0"], "answer": 1, "explain": "Inverse of subnet mask."}]}, {"title": "OSPF Verification", "content": "<h3>OSPF Verification & Troubleshooting</h3>\n<p>After configuring OSPF, you must verify it's working. OSPF neighbors should reach FULL state (or 2WAY for non-DR/BDR on multi-access). Any other state means something is wrong.</p>\n\n<div class=\"cli\"><span class=\"k\">show ip ospf neighbor</span>\n  THE most important OSPF command. Shows:\n  - Neighbor ID (their Router-ID)\n  - State (FULL = working, see states below)\n  - Dead Time (counting down ‚Äî resets on each Hello)\n  - Address (neighbor's IP on shared link)\n  - Interface (local interface to that neighbor)\n\n<span class=\"k\">Neighbor States (in order):</span>\nDOWN ‚Üí INIT ‚Üí 2WAY ‚Üí EXSTART ‚Üí EXCHANGE ‚Üí LOADING ‚Üí FULL\n\nStuck in INIT? ‚Üí One-way communication (check subnet/area/timers)\nStuck in EXSTART? ‚Üí Usually MTU mismatch\nFULL = Working perfectly\n\n<span class=\"k\">Other verification commands:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip ospf interface brief</span>\n  Shows which interfaces run OSPF, their area, cost, and state.\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip ospf database</span>\n  The Link-State Database. Every router in the area should have\n  an identical copy. Mismatch = problem.\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip route ospf</span>\n  Shows ONLY OSPF-learned routes (filters out connected/static).\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip protocols</span>\n  Shows all routing protocols running, their networks, and timers.</div>\n\n<h3>Tuning OSPF</h3>\n<div class=\"cli\"><span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip ospf cost 50</span>\n  Manually set OSPF cost on an interface (overrides calculation).\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">auto-cost reference-bandwidth 10000</span>\n  Change ref BW to 10 Gbps so GigE and 10GigE have different costs.\n  Must be set identically on ALL routers in the OSPF domain!\n\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip ospf process</span>\n  Restart OSPF process. Required after changing router-id.\n  Causes brief routing disruption ‚Äî use with caution in production.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>If auto-cost reference-bandwidth differs between routers,</strong> they'll calculate different costs for the same links, causing suboptimal routing or loops. Always set it identically everywhere.</div>", "questions": [{"type": "type", "q": "OSPF interfaces:", "answer": ["show ip ospf interface brief", "sh ip ospf int br"], "prompt": "Router#"}, {"type": "type", "q": "LSDB:", "answer": ["show ip ospf database", "sh ip ospf database"], "prompt": "Router#"}, {"type": "type", "q": "Set cost 50:", "answer": ["ip ospf cost 50"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Reset OSPF:", "answer": ["clear ip ospf process"], "prompt": "Router#"}, {"type": "type", "q": "Running protocols:", "answer": ["show ip protocols", "sh ip protocols"], "prompt": "Router#"}, {"type": "choice", "q": "INIT state = ?", "options": ["Area mismatch", "One-way communication", "Wrong RID", "High metric"], "answer": 1, "explain": "INIT = we see their Hello but our RID not in it."}]}]}, {"id": "eigrp", "title": "EIGRP Routing", "desc": "Cisco's hybrid protocol. Fast convergence, simple config.", "icon": "‚ö°", "tier": "Intermediate", "lessons": [{"title": "EIGRP Concepts", "content": "<h3>EIGRP ‚Äî Enhanced Interior Gateway Routing Protocol</h3>\n<p>EIGRP is Cisco's advanced routing protocol (now also an open standard). It combines the best of distance-vector simplicity with link-state speed. EIGRP converges faster than OSPF in many scenarios because it pre-calculates backup routes.</p>\n\n<h3>Why EIGRP is Special</h3>\n<div class=\"cli\"><span class=\"k\">Key advantages over OSPF:</span>\n‚Ä¢ Faster convergence (pre-calculated backup routes)\n‚Ä¢ Unequal-cost load balancing (with variance command)\n‚Ä¢ Simpler configuration (no areas to design)\n‚Ä¢ Lower CPU usage (no SPF calculation)\n\n<span class=\"k\">Key facts:</span>\n‚Ä¢ Algorithm: DUAL (Diffusing Update Algorithm)\n‚Ä¢ AD: Internal = 90, External = 170\n‚Ä¢ Protocol: Sends to 224.0.0.10\n‚Ä¢ Hello timers: 5 sec (fast links), 60 sec (slow links)\n‚Ä¢ Hold time: 3√ó Hello (15 sec / 180 sec)\n‚Ä¢ Supports VLSM and route summarization\n‚Ä¢ AS number must match between neighbors!</div>\n\n<h3>Successor & Feasible Successor</h3>\n<div class=\"cli\"><span class=\"k\">Successor:</span>\n  The BEST route to a destination. This goes in the routing table.\n  Like your daily commute ‚Äî the fastest way to work.\n\n<span class=\"k\">Feasible Successor:</span>\n  A pre-qualified BACKUP route. Already calculated and ready.\n  If the Successor fails, EIGRP switches to the Feasible\n  Successor INSTANTLY ‚Äî no recalculation needed!\n  Like knowing a backup route to work in case of an accident.\n\n<span class=\"k\">Feasibility Condition:</span>\n  A route qualifies as Feasible Successor ONLY if its\n  Reported Distance (what the neighbor says) is LESS THAN\n  the current Feasible Distance (your best route's total cost).\n  This guarantees the backup is loop-free.</div>\n\n<h3>EIGRP Metric</h3>\n<div class=\"cli\"><span class=\"k\">Default metric uses:</span>\n  Bandwidth (minimum along the path) ‚Äî primary factor\n  Delay (cumulative along the path) ‚Äî primary factor\n\n<span class=\"k\">Not used by default (K-values off):</span>\n  Reliability, Load, MTU\n\n<span class=\"k\">Unequal-cost load balancing:</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">variance 2</span>\n  \"Use any path with metric up to 2√ó the best path.\"\n  ONLY EIGRP can do this. OSPF only does equal-cost.</div>\n\n<div class=\"kp\">üí° <strong>EIGRP's killer feature is Feasible Successors.</strong> When a link fails, OSPF has to recalculate the entire topology (seconds). EIGRP just installs the pre-calculated backup (milliseconds).</div>", "questions": [{"type": "choice", "q": "EIGRP AD (internal)?", "options": ["1", "90", "110", "170"], "answer": 1, "explain": "Internal=90, External=170."}, {"type": "choice", "q": "EIGRP algorithm?", "options": ["Dijkstra", "DUAL", "Bellman-Ford", "SPF"], "answer": 1, "explain": "DUAL = Diffusing Update Algorithm."}, {"type": "choice", "q": "EIGRP multicast address?", "options": ["224.0.0.5", "224.0.0.6", "224.0.0.10", "224.0.0.1"], "answer": 2, "explain": "EIGRP uses 224.0.0.10."}, {"type": "choice", "q": "EIGRP Hello on fast links?", "options": ["5 sec", "10 sec", "30 sec", "60 sec"], "answer": 0, "explain": "5s fast, 60s slow (T1 or slower)."}, {"type": "choice", "q": "EIGRP supports unequal-cost load balancing?", "options": ["Yes (with variance)", "No, equal-cost only"], "answer": 0, "explain": "'variance' command enables unequal-cost paths."}]}, {"title": "EIGRP Configuration", "content": "<h3>EIGRP Configuration</h3>\n<p>EIGRP is simpler to configure than OSPF ‚Äî no areas, no DR/BDR elections, no router-id required (though recommended). Just enable it, advertise your networks, and make sure AS numbers match.</p>\n\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">router eigrp 100</span>\n  AS number 100. MUST match on both sides of every link!\n  Unlike OSPF process ID (local only), EIGRP AS number is significant.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 192.168.1.0 0.0.0.255</span>\n  Enable EIGRP on interfaces in 192.168.1.0/24.\n  Uses wildcard masks (same as OSPF).\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 10.0.0.0</span>\n  Classful: enables EIGRP on ALL 10.x.x.x interfaces.\n  Shortcut when all interfaces in that major network participate.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">no auto-summary</span>\n  CRITICAL! Without this, EIGRP summarizes routes at classful\n  boundaries (10.0.0.0/8, 172.16.0.0/16, 192.168.0.0/24).\n  This causes routing black holes. ALWAYS disable auto-summary.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">eigrp router-id 1.1.1.1</span>\n  Explicit router-ID (recommended). Without it, EIGRP picks\n  the highest loopback IP, then highest physical IP.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">passive-interface GigabitEthernet0/1</span>\n  Don't send EIGRP Hellos on LAN-facing ports.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">variance 2</span>\n  Enable unequal-cost load balancing (EIGRP only!).</div>\n\n<h3>Verification</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">show ip eigrp neighbors</span>     Neighbor table (uptime, hold time)\n<span class=\"p\">Router#</span> <span class=\"k\">show ip eigrp topology</span>      Successors + Feasible Successors\n<span class=\"p\">Router#</span> <span class=\"k\">show ip eigrp interfaces</span>    Which interfaces run EIGRP\n<span class=\"p\">Router#</span> <span class=\"k\">show ip route eigrp</span>         EIGRP-learned routes only</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>AS number mismatch = no neighbors.</strong> Unlike OSPF where process ID is local, EIGRP's AS number MUST match between routers. If Router A uses <code>router eigrp 100</code> and Router B uses <code>router eigrp 200</code>, they will never become neighbors.</div>", "questions": [{"type": "type", "q": "Start EIGRP AS 100:", "answer": ["router eigrp 100"], "prompt": "Router(config)#"}, {"type": "type", "q": "Advertise 10.0.0.0/24:", "answer": ["network 10.0.0.0 0.0.0.255"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Disable auto-summary:", "answer": ["no auto-summary"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive Gi0/2:", "answer": ["passive-interface GigabitEthernet0/2", "passive-interface gi0/2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Check EIGRP neighbors:", "answer": ["show ip eigrp neighbors", "sh ip eigrp neighbors", "sh ip eigrp nei"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP topology table:", "answer": ["show ip eigrp topology", "sh ip eigrp topology", "sh ip eigrp topo"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP interfaces:", "answer": ["show ip eigrp interfaces", "sh ip eigrp interfaces", "sh ip eigrp int"], "prompt": "Router#"}, {"type": "choice", "q": "AS numbers must?", "options": ["Be unique", "Match on both sides", "Be above 100", "Be even"], "answer": 1, "explain": "Both routers need the same AS number."}]}]}, {"id": "acls", "title": "Access Control Lists", "desc": "Standard, extended, named - drill every variation.", "icon": "üö´", "tier": "Intermediate", "lessons": [{"title": "Standard ACLs", "content": "<h3>Standard Access Control Lists (ACLs 1-99)</h3>\n<p>ACLs are the <strong>firewall rules of the router</strong>. They inspect packets and decide: permit (let it through) or deny (drop it). Standard ACLs are the simplest type ‚Äî they filter based on <strong>source IP address only</strong>.</p>\n\n<h3>How ACLs Work</h3>\n<div class=\"cli\"><span class=\"k\">Processing order:</span>\n1. Router checks each ACL line top to bottom\n2. First match wins ‚Äî packet is permitted or denied\n3. If NO line matches ‚Üí implicit \"deny any\" drops the packet\n\n<span class=\"k\">Standard ACL syntax:</span>\naccess-list [1-99] [permit|deny] [source] [wildcard]\n\n<span class=\"k\">Examples:</span>\naccess-list 10 deny 192.168.1.0 0.0.0.255\n  ‚Üí Block everything from 192.168.1.0/24\n\naccess-list 10 deny host 10.0.0.5\n  ‚Üí Block one specific host (wildcard 0.0.0.0)\n\naccess-list 10 permit any\n  ‚Üí Allow everything else (CRITICAL ‚Äî without this,\n     implicit deny blocks ALL remaining traffic!)\n\n<span class=\"k\">Apply to an interface:</span>\ninterface Gi0/0\n ip access-group 10 in     ‚Üê Filter inbound traffic\n ip access-group 10 out    ‚Üê Filter outbound traffic</div>\n\n<h3>Placement Rule</h3>\n<p><strong>Standard ACLs go near the DESTINATION.</strong> Because they only match source IPs, placing them near the source would block that source from reaching EVERYTHING ‚Äî not just the intended target.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>The invisible deny:</strong> Every ACL ends with an implicit <code>deny any</code> that you can't see in the config. If you create an ACL with only deny statements, EVERYTHING gets blocked. Always add <code>permit any</code> at the end unless you intentionally want to block all unmatched traffic.</div>", "questions": [{"type": "type", "q": "Deny host 10.0.0.5 in ACL 10:", "answer": ["access-list 10 deny host 10.0.0.5", "access-list 10 deny 10.0.0.5 0.0.0.0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny 172.16.0.0/16 in ACL 20:", "answer": ["access-list 20 deny 172.16.0.0 0.0.255.255"], "prompt": "Router(config)#"}, {"type": "type", "q": "Permit all in ACL 10:", "answer": ["access-list 10 permit any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply ACL 10 inbound:", "answer": ["ip access-group 10 in"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "View ACLs:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "Remove ACL from interface:", "answer": ["no ip access-group 10 in"], "prompt": "Router(config-if)#"}, {"type": "choice", "q": "No match = ?", "options": ["Permit", "Implicit deny", "Log", "Forward"], "answer": 1, "explain": "Invisible deny any at end."}]}, {"title": "Extended ACLs", "content": "<h3>Extended ACLs (100-199) ‚Äî Surgical Precision</h3>\n<p>Extended ACLs filter by <strong>source IP, destination IP, protocol, AND port number</strong>. This lets you write rules like \"allow HTTP to the web server but block SSH\" ‚Äî impossible with standard ACLs.</p>\n\n<div class=\"cli\"><span class=\"k\">Syntax:</span>\naccess-list [100-199] [permit|deny] [protocol]\n  [source wildcard] [destination wildcard] eq [port]\n\n<span class=\"k\">Real examples:</span>\naccess-list 100 permit tcp any host 10.0.0.100 eq 443\n  ‚Üí Allow HTTPS to server 10.0.0.100 from anywhere\n\naccess-list 100 deny tcp any any eq 23\n  ‚Üí Block all Telnet everywhere\n\naccess-list 100 permit icmp any any\n  ‚Üí Allow ping (ICMP) everywhere\n\naccess-list 100 deny ip any any log\n  ‚Üí Deny everything else and LOG it (useful for troubleshooting)</div>\n\n<h3>Placement Rule</h3>\n<p><strong>Extended ACLs go near the SOURCE.</strong> Because they can match specific destinations and ports, you can safely place them close to the traffic origin without accidentally blocking legitimate traffic to other destinations.</p>\n\n<h3>Named ACLs (Preferred)</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended WEB-FILTER</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 80</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 443</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">deny ip any any</span>\n\nNamed ACLs are preferred because:\n‚Ä¢ Descriptive names (WEB-FILTER vs number 100)\n‚Ä¢ Can insert/delete individual lines\n‚Ä¢ Can reorder rules without deleting entire ACL</div>\n\n<div class=\"kp\">üí° <strong>The \"eq\" keyword</strong> means \"equal to port.\" You can also use: <code>gt</code> (greater than), <code>lt</code> (less than), <code>range 80 443</code> (port range), <code>neq</code> (not equal to).</div>", "questions": [{"type": "type", "q": "Permit HTTP to host 10.0.0.5 from any:", "answer": ["access-list 100 permit tcp any host 10.0.0.5 eq 80"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny Telnet from any to any:", "answer": ["access-list 100 deny tcp any any eq 23", "access-list 100 deny tcp any any eq telnet"], "prompt": "Router(config)#"}, {"type": "type", "q": "Permit ICMP (ping) from any to any:", "answer": ["access-list 100 permit icmp any any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny SSH to 172.16.0.0/24 from 10.0.0.0/8:", "answer": ["access-list 100 deny tcp 10.0.0.0 0.255.255.255 172.16.0.0 0.0.0.255 eq 22"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Extended ACL placement?", "options": ["Near dest", "Near source", "Core only", "Firewall only"], "answer": 1, "explain": "Close to source to stop early."}, {"type": "choice", "q": "'eq 443' means?", "options": ["443 packets", "Port 443 HTTPS", "443ms", "Error 443"], "answer": 1, "explain": "Port 443 HTTPS."}]}, {"title": "Named ACLs", "content": "<h3>Named ACLs ‚Äî The Modern Approach</h3>\n<p>Named ACLs replace numbered ACLs with descriptive names and add the ability to insert, delete, or reorder individual rules ‚Äî something impossible with numbered ACLs.</p>\n\n<div class=\"cli\"><span class=\"k\">Named Standard ACL:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list standard BLOCK-GUEST</span>\n<span class=\"p\">Router(config-std-nacl)#</span> <span class=\"k\">deny 192.168.100.0 0.0.0.255</span>\n<span class=\"p\">Router(config-std-nacl)#</span> <span class=\"k\">permit any</span>\n\n<span class=\"k\">Named Extended ACL:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended WEB-ONLY</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 80</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 443</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">deny ip any any</span>\n\n<span class=\"k\">Apply to interface:</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip access-group WEB-ONLY in</span>\n\n<span class=\"k\">Apply to VTY (restrict remote access):</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">access-class ALLOW-MGMT in</span>\n  ‚Üí Only IPs permitted by ALLOW-MGMT can SSH/Telnet to the device.\n  ‚Üí Use this to restrict management access to admin VLANs only.</div>\n\n<h3>Editing Named ACLs</h3>\n<div class=\"cli\"><span class=\"k\">View with sequence numbers:</span>\nshow ip access-list WEB-ONLY\n  10 permit tcp any any eq 80\n  20 permit tcp any any eq 443\n  30 deny ip any any\n\n<span class=\"k\">Insert a rule between 10 and 20:</span>\nip access-list extended WEB-ONLY\n 15 permit tcp any any eq 8080     ‚Üê Inserts at sequence 15\n\n<span class=\"k\">Delete a specific rule:</span>\nip access-list extended WEB-ONLY\n no 20                              ‚Üê Removes line 20</div>\n\n<div class=\"kp\">üí° <strong>Always use <code>show access-lists</code></strong> to verify. It shows match counts per rule ‚Äî if a deny rule has 0 matches, it's either in the wrong place or the traffic pattern is different than expected.</div>", "questions": [{"type": "type", "q": "Create named extended 'BLOCK-TELNET':", "answer": ["ip access-list extended BLOCK-TELNET"], "prompt": "Router(config)#"}, {"type": "type", "q": "Create named standard 'ALLOW-MGMT':", "answer": ["ip access-list standard ALLOW-MGMT"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny all IP:", "answer": ["deny ip any any"], "prompt": "Router(config-ext-nacl)#"}, {"type": "type", "q": "Permit any (standard):", "answer": ["permit any"], "prompt": "Router(config-std-nacl)#"}, {"type": "type", "q": "Apply 'WEB-ONLY' inbound:", "answer": ["ip access-group WEB-ONLY in"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Apply to VTY lines:", "answer": ["access-class ALLOW-MGMT in"], "prompt": "Router(config-line)#"}]}]}, {"id": "nat", "title": "NAT & PAT", "desc": "Private to public translation.", "icon": "üé≠", "tier": "Intermediate", "lessons": [{"title": "NAT Types", "content": "<h3>NAT ‚Äî Network Address Translation</h3>\n<p>NAT solves the IPv4 address shortage. Your entire office (hundreds of devices with private IPs) shares a few public IP addresses to access the internet. Your home router does this too ‚Äî it's called PAT.</p>\n\n<h3>Three Types of NAT</h3>\n<div class=\"cli\"><span class=\"k\">Static NAT (1:1)</span>\n  One private IP maps to one public IP. Permanent.\n  Used for servers that need to be reachable from outside.\n  Example: Web server 192.168.1.100 ‚Üî 203.0.113.50\n\n<span class=\"k\">Dynamic NAT (Pool)</span>\n  Private IPs mapped to a POOL of public IPs on demand.\n  When the pool runs out, new connections fail.\n  Rarely used in modern networks (wasteful).\n\n<span class=\"k\">PAT / NAT Overload (Many:1)</span>\n  HUNDREDS of devices share ONE public IP address.\n  Differentiates connections using port numbers.\n  Your home router, your office ‚Äî this is everywhere.\n  192.168.1.10:52431 ‚Üí 203.0.113.1:<strong>10001</strong>\n  192.168.1.11:49876 ‚Üí 203.0.113.1:<strong>10002</strong></div>\n\n<h3>NAT Terminology</h3>\n<div class=\"cli\"><span class=\"k\">Inside Local</span>   = Private IP of your device (192.168.1.10)\n<span class=\"k\">Inside Global</span>  = Public IP after translation (203.0.113.1)\n<span class=\"k\">Outside Local</span>  = How you see the remote server (usually same as Global)\n<span class=\"k\">Outside Global</span> = Real IP of the remote server (8.8.8.8)\n\n<span class=\"k\">Think of it this way:</span>\n\"Inside\" = your network. \"Outside\" = the internet.\n\"Local\" = before translation. \"Global\" = after translation.</div>\n\n<div class=\"kp\">üí° <strong>PAT is the most common NAT type by far.</strong> It's what allows 200 office PCs to browse the internet through a single public IP. The router tracks connections using unique source port numbers.</div>", "questions": [{"type": "choice", "q": "PAT = ?", "options": ["Static NAT", "Dynamic NAT", "NAT Overload", "Port forwarding"], "answer": 2, "explain": "Many-to-one using ports."}, {"type": "choice", "q": "Inside Local = ?", "options": ["Public IP", "Private LAN IP", "Remote server", "ISP"], "answer": 1, "explain": "Private RFC 1918 address."}, {"type": "choice", "q": "1:1 NAT for servers?", "options": ["PAT", "Dynamic", "Static NAT", "Overload"], "answer": 2, "explain": "Static maps one private to one public."}]}, {"title": "NAT Config", "content": "<h3>NAT Configuration</h3>\n<p>NAT configuration has three steps: define what gets translated (ACL), define how (NAT command), and mark interfaces as inside or outside.</p>\n\n<h3>PAT (Overload) ‚Äî Most Common</h3>\n<div class=\"cli\"><span class=\"k\">Step 1: Define inside traffic</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">access-list 1 permit 192.168.0.0 0.0.255.255</span>\n\n<span class=\"k\">Step 2: Enable PAT on the WAN interface</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip nat inside source list 1 interface Gi0/1 overload</span>\n  \"Translate source IPs matching ACL 1 to the IP of Gi0/1.\n   The 'overload' keyword enables PAT (many-to-one).\"\n\n<span class=\"k\">Step 3: Mark interfaces</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip nat inside</span>       ‚Üê LAN-facing\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/1</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip nat outside</span>      ‚Üê WAN-facing</div>\n\n<h3>Static NAT ‚Äî For Servers</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">ip nat inside source static 192.168.1.100 203.0.113.50</span>\n  \"Always translate 192.168.1.100 to 203.0.113.50 and vice versa.\"\n  Server is now reachable from the internet at 203.0.113.50.</div>\n\n<h3>Verification</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">show ip nat translations</span>  Active translation table\n<span class=\"p\">Router#</span> <span class=\"k\">show ip nat statistics</span>    Hit/miss counters, active translations\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip nat translation *</span> Flush all translations (use carefully!)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Both <code>ip nat inside</code> AND <code>ip nat outside</code> are required.</strong> If you forget either one, NAT silently does nothing ‚Äî packets pass through untranslated. This is the #1 NAT troubleshooting issue.</div>", "questions": [{"type": "type", "q": "Mark inside:", "answer": ["ip nat inside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Mark outside:", "answer": ["ip nat outside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "View translations:", "answer": ["show ip nat translations", "sh ip nat translations"], "prompt": "Router#"}, {"type": "type", "q": "NAT stats:", "answer": ["show ip nat statistics", "sh ip nat statistics"], "prompt": "Router#"}, {"type": "type", "q": "Clear NAT:", "answer": ["clear ip nat translation *"], "prompt": "Router#"}, {"type": "type", "q": "Static NAT 192.168.1.5 to 203.0.113.5:", "answer": ["ip nat inside source static 192.168.1.5 203.0.113.5"], "prompt": "Router(config)#"}, {"type": "choice", "q": "'overload' = ?", "options": ["Load balance", "PAT many-to-one", "Redundancy", "Faster"], "answer": 1, "explain": "Uses port numbers to share one IP."}]}]}, {"id": "stp", "title": "Spanning Tree Protocol", "desc": "Prevent loops, manage redundancy.", "icon": "üå≤", "tier": "Intermediate", "lessons": [{"title": "STP Basics", "content": "<h3>Spanning Tree Protocol ‚Äî Preventing Layer 2 Loops</h3>\n<p>Redundant links between switches are essential for reliability. But at Layer 2, redundant paths create <strong>loops</strong> ‚Äî and L2 loops are catastrophic. Unlike L3 where packets have a TTL and eventually die, L2 frames loop FOREVER, multiplying with each pass. A single loop can crash an entire network in seconds.</p>\n\n<h3>What STP Does</h3>\n<div class=\"cli\"><span class=\"k\">The problem:</span>\nSwitch A connects to Switch B via two links (redundancy).\nA broadcast frame enters Switch A. It sends copies out both links.\nSwitch B receives both copies, sends them back out both links.\nThis repeats infinitely. Broadcast storm. CPU 100%. Network dead.\n\n<span class=\"k\">The solution (STP):</span>\nSTP detects the redundant path and BLOCKS one of the links.\nTraffic flows through the unblocked path only.\nIf the active link fails, STP unblocks the backup automatically.</div>\n\n<h3>How STP Elects the Root Bridge</h3>\n<div class=\"cli\"><span class=\"k\">1. Root Bridge Election:</span>\n  Every switch has a Bridge ID = Priority (default 32768) + MAC\n  <strong>Lowest Bridge ID wins</strong> and becomes the Root Bridge.\n  All other switches calculate their best path TO the root.\n\n<span class=\"k\">2. Port Roles:</span>\n  Root Port       ‚Üí Best path TO the root (one per non-root switch)\n  Designated Port ‚Üí Best port on each network segment\n  Blocked Port    ‚Üí Redundant, not forwarding (prevents loops)\n\n<span class=\"k\">3. Port States (Classic STP):</span>\n  Blocking   ‚Üí Not forwarding, listening for BPDUs\n  Listening  ‚Üí 15 seconds, processing BPDUs\n  Learning   ‚Üí 15 seconds, learning MACs but not forwarding\n  Forwarding ‚Üí Normal operation, sending and receiving frames\n\n<span class=\"k\">Total convergence: ~50 seconds</span> (Blocking ‚Üí Forwarding)\nThat's 50 seconds of downtime when a topology changes!</div>\n\n<div class=\"kp\">üí° <strong>To control which switch is root:</strong> Set its priority lower than 32768. <code>spanning-tree vlan 1 root primary</code> sets priority to 24576 (or 4096 less than current root). In production, ALWAYS manually set your core switch as root.</div>", "questions": [{"type": "type", "q": "Set root VLAN 1:", "answer": ["spanning-tree vlan 1 root primary"], "prompt": "Switch(config)#"}, {"type": "type", "q": "View STP:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Priority 4096 VLAN 10:", "answer": ["spanning-tree vlan 10 priority 4096"], "prompt": "Switch(config)#"}, {"type": "choice", "q": "Default priority?", "options": ["4096", "24576", "32768", "61440"], "answer": 2, "explain": "32768 default."}, {"type": "choice", "q": "Classic STP convergence?", "options": ["1s", "30s", "50s", "2min"], "answer": 2, "explain": "~50 sec total."}, {"type": "choice", "q": "STP prevents?", "options": ["IP conflicts", "L2 loops/broadcast storms", "Routing loops", "VLAN mismatch"], "answer": 1, "explain": "Blocks redundant L2 paths."}]}, {"title": "RSTP & Protection", "content": "<h3>Rapid PVST+ & STP Protection Features</h3>\n<p>Classic STP takes ~50 seconds to converge. In a modern network, that's unacceptable. <strong>Rapid PVST+</strong> converges in under 1 second. Combined with protection features, it makes STP reliable and fast.</p>\n\n<h3>Rapid PVST+ (Always Enable This)</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config)#</span> <span class=\"k\">spanning-tree mode rapid-pvst</span>\n  Converges in <1 second instead of 50 seconds.\n  Per-VLAN spanning tree (each VLAN has its own STP instance).\n  This should be your DEFAULT on every switch.</div>\n\n<h3>Protection Features (Critical for Security)</h3>\n<div class=\"cli\"><span class=\"k\">PortFast</span> ‚Äî Skip STP on access ports\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">spanning-tree portfast</span>\n  Access ports (PCs, printers) go straight to Forwarding.\n  Without PortFast, users wait 30-50 seconds after plugging in.\n  NEVER enable on trunk/uplink ports!\n\n<span class=\"k\">BPDU Guard</span> ‚Äî Protect against unauthorized switches\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">spanning-tree bpduguard enable</span>\n  If a BPDU is received on this port, IMMEDIATELY err-disable it.\n  Someone plugged in a switch? Port goes down instantly.\n  Always pair with PortFast on access ports.\n\n<span class=\"k\">Root Guard</span> ‚Äî Protect root bridge election\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">spanning-tree guard root</span>\n  Prevents a port from becoming a root port.\n  If a superior BPDU arrives, the port goes to inconsistent state.\n  Use on ports facing other switches that should NEVER be root.\n\n<span class=\"k\">Global PortFast (all access ports):</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">spanning-tree portfast default</span>\n  Enables PortFast on ALL access ports automatically.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>PortFast + BPDU Guard = standard pair for every access port.</strong> PortFast gives instant connectivity. BPDU Guard prevents someone from plugging in a rogue switch and disrupting your STP topology.</div>", "questions": [{"type": "type", "q": "Enable Rapid PVST+:", "answer": ["spanning-tree mode rapid-pvst"], "prompt": "Switch(config)#"}, {"type": "type", "q": "PortFast on port:", "answer": ["spanning-tree portfast"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "PortFast globally:", "answer": ["spanning-tree portfast default"], "prompt": "Switch(config)#"}, {"type": "type", "q": "BPDU Guard:", "answer": ["spanning-tree bpduguard enable"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Root Guard:", "answer": ["spanning-tree guard root"], "prompt": "Switch(config-if)#"}, {"type": "choice", "q": "BPDU Guard on BPDU?", "options": ["Blocks", "Err-disables port", "Guards root", "Prevents storms"], "answer": 1, "explain": "Immediately err-disables."}]}]}, {"id": "wireless", "title": "Wireless Fundamentals", "desc": "802.11 standards, WLC, LWAP, security modes.", "icon": "üì∂", "tier": "Intermediate", "lessons": [{"title": "WiFi Standards", "content": "<h3>Wireless Networking (802.11)</h3>\n<p>WiFi is everywhere ‚Äî laptops, phones, IoT devices, warehouse scanners. Understanding wireless standards, channels, and architecture is essential because wireless problems are some of the most common helpdesk tickets.</p>\n\n<h3>802.11 Standards</h3>\n<div class=\"cli\"><span class=\"k\">Standard   Band        Max Speed     Name     Notes</span>\n802.11a    5 GHz      54 Mbps       ‚Äî        Less interference, shorter range\n802.11b    2.4 GHz    11 Mbps       ‚Äî        First popular WiFi, obsolete\n802.11g    2.4 GHz    54 Mbps       ‚Äî        Replaced b, still obsolete\n802.11n    Both       600 Mbps      WiFi 4   MIMO (multiple antennas)\n802.11ac   5 GHz only 6.9 Gbps      WiFi 5   MU-MIMO, beamforming, current\n802.11ax   Both       9.6 Gbps      WiFi 6   OFDMA, better in dense envs</div>\n\n<h3>Channels & Interference</h3>\n<div class=\"cli\"><span class=\"k\">2.4 GHz band:</span>\nOnly 3 non-overlapping channels: <strong>1, 6, 11</strong>\n14 total channels but they overlap each other.\nAdjacent-channel interference kills performance.\nAlso used by: microwaves, Bluetooth, baby monitors, cordless phones\n\n<span class=\"k\">5 GHz band:</span>\nMANY non-overlapping channels: 36, 40, 44, 48, 52, 56, 60, 64...\nLess interference, more capacity, shorter range.\nSome channels require DFS (Dynamic Frequency Selection) for radar.</div>\n\n<h3>Enterprise Wireless Architecture</h3>\n<div class=\"cli\"><span class=\"k\">Autonomous APs</span> (small business):\n  Each AP configured individually. Works for 1-3 APs.\n  Doesn't scale. No centralized management.\n\n<span class=\"k\">Lightweight AP (LWAP) + Wireless LAN Controller (WLC)</span>:\n  APs are \"dumb\" ‚Äî all intelligence lives in the WLC.\n  WLC manages: channels, power, security, roaming, firmware.\n  APs communicate with WLC via CAPWAP protocol.\n  CAPWAP Control: UDP 5246 | CAPWAP Data: UDP 5247\n  This is the enterprise standard for 10+ APs.</div>\n\n<div class=\"kp\">üí° <strong>Site survey rule:</strong> In 2.4 GHz, assign every AP one of channels 1, 6, or 11. Adjacent APs should use different channels. If two nearby APs use the same channel, they share airtime (co-channel interference). If they use overlapping channels (like 1 and 3), they create noise that's even worse.</div>", "questions": [{"type": "choice", "q": "WiFi 6 standard?", "options": ["802.11ac", "802.11ax", "802.11n", "802.11g"], "answer": 1, "explain": "802.11ax = WiFi 6, dual-band 9.6 Gbps."}, {"type": "choice", "q": "Non-overlapping 2.4 GHz channels?", "options": ["1,3,5", "1,5,9", "1,6,11", "1,4,8"], "answer": 2, "explain": "1, 6, 11 don't overlap."}, {"type": "choice", "q": "Enterprise WiFi architecture?", "options": ["Autonomous APs", "LWAP + WLC (controller)", "Mesh only", "Ad-hoc"], "answer": 1, "explain": "Lightweight APs managed by wireless LAN controller."}, {"type": "choice", "q": "802.11ac band?", "options": ["2.4 GHz only", "5 GHz only", "Both", "6 GHz"], "answer": 1, "explain": "802.11ac (WiFi 5) = 5 GHz only."}]}, {"title": "Wireless Security", "content": "<h3>Wireless Security</h3>\n<p>Wireless signals travel through walls. Anyone within range can potentially intercept traffic or try to connect. Proper security isn't optional ‚Äî it's the difference between a secure network and an open door.</p>\n\n<h3>Security Standards (Worst to Best)</h3>\n<div class=\"cli\"><span class=\"k\">WEP</span> (Wired Equivalent Privacy) ‚Äî 1999\n  ‚ùå COMPLETELY BROKEN. Can be cracked in minutes.\n  Uses RC4 encryption with static keys.\n  Never use WEP for anything. Ever.\n\n<span class=\"k\">WPA</span> (WiFi Protected Access) ‚Äî 2003\n  ‚ö†Ô∏è Better, but TKIP encryption is now weak.\n  Was a stopgap while WPA2 was developed.\n  Legacy devices may require it.\n\n<span class=\"k\">WPA2</span> (WiFi Protected Access 2) ‚Äî 2004\n  ‚úÖ Current standard. Uses AES/CCMP encryption.\n  Mandatory for all modern deployments.\n  Two modes: Personal (PSK) and Enterprise (802.1X).\n\n<span class=\"k\">WPA3</span> (WiFi Protected Access 3) ‚Äî 2018\n  ‚úÖ Newest. Uses SAE (Simultaneous Auth of Equals).\n  Protects against offline dictionary attacks.\n  Forward secrecy. Still rolling out.</div>\n\n<h3>Personal vs Enterprise Mode</h3>\n<div class=\"cli\"><span class=\"k\">WPA2-Personal (PSK):</span>\n  Shared password. Everyone uses the same password.\n  Simple to set up. Fine for home and small offices.\n  Problem: If one person leaves, you should change the\n  password for everyone. People rarely do.\n\n<span class=\"k\">WPA2-Enterprise (802.1X):</span>\n  Each user has unique credentials (username/password or cert).\n  Authenticates through a RADIUS server (like Cisco ISE).\n  When someone leaves, disable their account ‚Äî done.\n  Scalable, auditable, proper enterprise security.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Hidden SSIDs don't provide security.</strong> Your SSID is still broadcast in probe requests and association frames. Any wireless scanner can find hidden networks. Rely on proper encryption (WPA2/WPA3), not SSID hiding.</div>", "questions": [{"type": "choice", "q": "Current WiFi security standard?", "options": ["WEP", "WPA", "WPA2 (AES)", "WPA3"], "answer": 2, "explain": "WPA2 with AES/CCMP is current standard. WPA3 emerging."}, {"type": "choice", "q": "Enterprise WiFi auth uses?", "options": ["PSK only", "802.1X + RADIUS", "WEP key", "MAC filtering"], "answer": 1, "explain": "802.1X with RADIUS for per-user authentication."}, {"type": "choice", "q": "WEP is?", "options": ["Current standard", "Broken, never use", "Enterprise only", "Latest version"], "answer": 1, "explain": "WEP cracked in minutes. Completely insecure."}, {"type": "choice", "q": "CAPWAP data port?", "options": ["443", "5246", "5247", "8443"], "answer": 2, "explain": "Control=5246, Data=5247."}]}]}, 

const ACHV=[
{id:"fl",n:"First Steps",d:"Complete your first lesson",i:"\u{1F476}",ck:s=>s.lc>=1},
{id:"f5",n:"Getting Serious",d:"Complete 5 lessons",i:"\u{1F4DA}",ck:s=>s.lc>=5},
{id:"f10",n:"Dedicated Student",d:"Complete 10 lessons",i:"\u{1F393}",ck:s=>s.lc>=10},
{id:"s5",n:"On Fire",d:"5-answer streak",i:"\u{1F525}",ck:s=>s.bs>=5},
{id:"s10",n:"Unstoppable",d:"10-answer streak",i:"\u26A1",ck:s=>s.bs>=10},
{id:"s20",n:"Legendary",d:"20-answer streak",i:"\u{1F48E}",ck:s=>s.bs>=20},
{id:"t1",n:"Bug Hunter",d:"Solve a troubleshooting scenario",i:"\u{1F50D}",ck:s=>s.ss>=1},
{id:"ta",n:"Master Debugger",d:"Solve all scenarios",i:"\u{1F527}",ck:s=>s.ss>=5},
{id:"l5",n:"Rising Star",d:"Reach Level 5",i:"\u2B50",ck:s=>s.lv>=5},
{id:"l10",n:"Seasoned Pro",d:"Reach Level 10",i:"\u{1F31F}",ck:s=>s.lv>=10},
{id:"l20",n:"Network Sage",d:"Reach Level 20",i:"\u{1F9D9}",ck:s=>s.lv>=20},
{id:"pf",n:"Perfectionist",d:"100% on any quiz",i:"\u{1F4AF}",ck:s=>s.pq>=1}
];
const RANKS=[{l:1,n:"Cable Monkey",i:"\u{1F412}"},{l:3,n:"Packet Pusher",i:"\u{1F4E6}"},{l:5,n:"Wire Puller",i:"\u{1F50C}"},{l:8,n:"Port Sailor",i:"\u2693"},{l:11,n:"VLAN Viking",i:"\u{1F6E1}\uFE0F"},{l:14,n:"Subnet Soldier",i:"\u{1F396}\uFE0F"},{l:18,n:"Route Commander",i:"\u{1F9ED}"},{l:22,n:"Protocol Captain",i:"\u{1F468}\u200D\u2708\uFE0F"},{l:27,n:"ACL Enforcer",i:"\u{1F6A7}"},{l:32,n:"Firewall Marshal",i:"\u{1F525}"},{l:37,n:"Tunnel Master",i:"\u{1F6A7}"},{l:42,n:"Network Admiral",i:"\u2B50"},{l:48,n:"Cisco Overlord",i:"\u{1F451}"},{l:55,n:"CCIE Grandmaster",i:"\u{1F48E}"},{l:65,n:"Legendary Architect",i:"\u{1F3DB}\uFE0F"}];

function $(id){return document.getElementById(id)}
function getRank(l){let r=RANKS[0];for(const x of RANKS)if(l>=x.l)r=x;return r}
function xpFor(l){return Math.floor(80*Math.pow(1.18,l-1))}
function getTL(){let t=0;MODULES.forEach(m=>t+=m.lessons.length);return t}

const SK="cisco_cli_v3";
let S={started:false,lv:1,xp:0,str:0,bs:0,lc:0,ac:0,at:0,ss:0,pq:0,tc:0,ta:0,mp:{},ld:{},sd:{},cm:{},av:[]};
let qS={},aS={},tS={in:false,idx:0,ans:false};

function load(){try{const d=localStorage.getItem(SK);if(d){Object.assign(S,JSON.parse(d));return true}}catch(e){}return false}
function save(){try{localStorage.setItem(SK,JSON.stringify(S))}catch(e){}}

function addXP(a,x,y){
  S.xp+=a;
  if(x!==undefined){const e=document.createElement("div");e.className="xp-float";e.textContent="+"+a+" XP";e.style.left=x+"px";e.style.top=y+"px";document.body.appendChild(e);setTimeout(()=>e.remove(),1500)}
  while(S.xp>=xpFor(S.lv)){S.xp-=xpFor(S.lv);S.lv++;showLU()}
  updateTB();save();
}
function showLU(){
  const r=getRank(S.lv),pr=getRank(S.lv-1);
  let h=`<p style="font-size:18px;margin:8px 0">Level <span style="color:var(--cy);font-family:Orbitron;font-weight:700">${S.lv}</span></p>`;
  if(r.n!==pr.n)h+=`<div style="color:var(--gd);font-family:Orbitron;font-size:16px;margin:8px 0">${r.i} ${r.n.toUpperCase()}</div>`;
  $("lmc").innerHTML=h;$("lm").classList.remove("hidden");
}
function checkAch(){ACHV.forEach(a=>{if(!S.av.includes(a.id)&&a.ck(S)){S.av.push(a.id);showAT(a)}});save()}
function showAT(a){
  const t=document.createElement("div");
  t.style.cssText="position:fixed;bottom:24px;right:24px;background:var(--bg2);border:1px solid var(--gd);border-radius:12px;padding:16px 24px;display:flex;align-items:center;gap:12px;z-index:600;animation:slideUp .4s;box-shadow:0 8px 32px rgba(255,193,7,.2)";
  t.innerHTML=`<span style="font-size:32px">${a.i}</span><div><div style="font-size:10px;color:var(--gd);text-transform:uppercase;letter-spacing:2px;font-family:Orbitron">Achievement Unlocked!</div><div style="font-size:15px;font-weight:600;margin-top:4px">${a.n}</div><div style="font-size:12px;color:var(--txd)">${a.d}</div></div>`;
  document.body.appendChild(t);setTimeout(()=>{t.style.opacity="0";t.style.transition="opacity .5s";setTimeout(()=>t.remove(),500)},4000);
}
function updateTB(){
  const r=getRank(S.lv);$("rb").textContent=r.i+" "+r.n.toUpperCase();$("ld").textContent=S.lv;$("xd").textContent=S.xp;
  const n=xpFor(S.lv);$("xn").textContent=n;$("xb").style.width=(S.xp/n*100)+"%";
  $("sd").textContent=S.str+(S.str>=3?"\u{1F525}":"");$("md").textContent=Object.values(S.cm||{}).filter(v=>v>=3).length;
}

function showScreen(name){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll(".nav-tab").forEach(t=>t.classList.remove("active"));
  const sc=$("s-"+name);if(sc)sc.classList.add("active");
  const tb=document.querySelector(`.nav-tab[data-screen="${name}"]`);if(tb)tb.classList.add("active");
  ({dashboard:renderDash,campaign:renderCamp,reference:renderRef,achievements:renderAchiev,settings:renderSet})[name]?.();
}

function renderDash(){
  const tl=getTL(),pct=tl>0?Math.round(S.lc/tl*100):0,acc=S.ta>0?Math.round(S.tc/S.ta*100):0,r=getRank(S.lv),mas=Object.values(S.cm||{}).filter(v=>v>=3).length;
  let nm=null;for(const m of MODULES){if((S.mp[m.id]||0)<m.lessons.length){nm=m;break}}
  $("s-dashboard").innerHTML=`<div class="dg"><div class="dc"><h3>Campaign</h3><div class="bn" style="color:var(--cy)">${pct}%</div><div class="st">${S.lc}/${tl} lessons</div><div style="margin-top:12px;height:8px;background:var(--bg);border-radius:4px;overflow:hidden"><div style="height:100%;width:${pct}%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:4px"></div></div></div><div class="dc"><h3>Rank</h3><div class="bn" style="color:var(--gd)">${r.i}</div><div class="st">${r.n} \u2014 Lv.${S.lv}</div></div><div class="dc"><h3>Accuracy</h3><div class="bn" style="color:${acc>=70?'var(--gn)':acc>=40?'var(--or)':'var(--rd)'}">${acc}%</div><div class="st">${S.tc}/${S.ta} correct</div></div><div class="dc"><h3>Best Streak</h3><div class="bn" style="color:var(--or)">${S.bs}\u{1F525}</div><div class="st">Current: ${S.str}</div></div><div class="dc"><h3>Commands</h3><div class="bn" style="color:var(--pu)">${mas}</div><div class="st">of ${CMD_REF.length} mastered</div></div><div class="dc"><h3>Achievements</h3><div class="bn" style="color:var(--gd)">${S.av.length}</div><div class="st">of ${ACHV.length} unlocked</div></div>${nm?`<div class="dc fw" style="border-color:var(--cy2);cursor:pointer" onclick="showScreen('campaign')"><h3>Continue Training</h3><div style="display:flex;align-items:center;gap:16px"><span style="font-size:36px">${nm.icon}</span><div><div style="font-size:18px;font-weight:600">${nm.title}</div><div class="st">${nm.desc}</div></div><button class="btn bp" style="margin-left:auto">Resume \u2192</button></div></div>`:`<div class="dc fw" style="border-color:var(--gn)"><h3 style="color:var(--gn)">\u{1F3C6} Campaign Complete!</h3><div class="st">Keep practicing in Arena and Troubleshooting.</div></div>`}</div>`;
}

function renderCamp(){
  let h='<h2 style="font-family:Orbitron;font-size:22px;margin-bottom:20px">\u{1F4E1} Training Campaign</h2><div style="display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap"><span style="background:rgba(0,229,255,.15);color:var(--cy);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">BEGINNER</span><span style="background:rgba(0,255,136,.15);color:var(--gn);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">INTERMEDIATE</span><span style="background:rgba(255,145,0,.15);color:var(--or);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">ADVANCED</span><span style="background:rgba(255,61,61,.15);color:var(--rd);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">ADMIN</span></div>';
  MODULES.forEach((m,i)=>{const p=S.mp[m.id]||0,t=m.lessons.length,done=p>=t,prev=i===0||(S.mp[MODULES[i-1].id]||0)>=MODULES[i-1].lessons.length,locked=!prev&&!done&&p===0,cur=prev&&!done,cls=done?"completed":cur?"current":locked?"locked":"";
  const tier=m.tier||"Beginner";const tc={"Beginner":"var(--cy)","Intermediate":"var(--gn)","Advanced":"var(--or)","Admin":"var(--rd)"}[tier]||"var(--cy)";
  h+=`<div class="mc ${cls}" style="border-right:3px solid ${tc}" onclick="${locked?'':`startMod('${m.id}')`}"><div class="mn">${done?'\u2713':i+1}</div><div style="flex:1"><div style="font-family:Orbitron;font-size:15px;font-weight:600">${m.icon} ${m.title}</div><div style="font-size:13px;color:var(--txd)">${m.desc}</div></div><div style="width:120px;height:6px;background:var(--bg);border-radius:3px;overflow:hidden"><div style="height:100%;width:${p/t*100}%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:3px"></div></div><span style="font-family:'JetBrains Mono';font-size:12px;color:var(--txd);min-width:40px;text-align:right">${p}/${t}</span></div>`});
  $("s-campaign").innerHTML=h;
}

function startMod(id){const m=MODULES.find(x=>x.id===id);if(!m)return;startLesson(id,Math.min(S.mp[id]||0,m.lessons.length-1))}

function startLesson(mid,li){qS={mid,li,phase:"learn",qi:0,cor:0,tot:0,ans:false};renderLesson();document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));$("s-lesson").classList.add("active")}

function renderLesson(){
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],sc=$("s-lesson");
  if(qS.phase==="learn"){sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="asu"><div class="lh"><div style="display:flex;align-items:center;gap:12px"><button class="btn bsm bs" onclick="showScreen('campaign')">\u2190 Back</button><div><h2>${m.icon} ${l.title}</h2><div style="font-size:13px;color:var(--txd)">${m.title} \u2014 Lesson ${qS.li+1}/${m.lessons.length}</div></div></div></div><div class="lcnt">${l.content}</div><div style="display:flex;justify-content:space-between;margin-top:20px">${qS.li>0?`<button class="btn bs" onclick="startLesson('${qS.mid}',${qS.li-1})">\u2190 Prev</button>`:'<div></div>'}<button class="btn bp blg" onclick="startQuiz()">\u26A1 Test Knowledge \u2192</button></div></div>`}
  else if(qS.phase==="quiz"){renderQQ()}else{renderLC()}
}
function startQuiz(){qS.phase="quiz";qS.qi=0;qS.cor=0;qS.tot=0;qS.ans=false;renderQQ()}

function renderQQ(){
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],q=l.questions[qS.qi],sc=$("s-lesson");
  if(!q){compQuiz();return}const K=["A","B","C","D"];let inp;
  if(q.type==="type"){inp=`<div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-top:16px"><p style="margin-bottom:12px">${q.q}</p><div class="tiw"><span class="tip">${q.prompt||'Router#'}</span><input type="text" class="tii" id="ta" placeholder="Type command..." autofocus onkeydown="if(event.key==='Enter')chkType()"></div><div id="tf" style="margin-top:12px"></div><button class="btn bp" style="margin-top:12px" onclick="chkType()" id="tsb">Submit</button></div>`}
  else{inp=`<div class="qo" id="qo">${q.options.map((o,i)=>`<div class="qopt" onclick="chkAns(${i},event)" data-idx="${i}"><div class="ok">${K[i]}</div><div>${o}</div></div>`).join('')}</div><div id="qf" style="margin-top:16px"></div>`}
  sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="afi"><div class="lh"><div style="display:flex;justify-content:space-between;align-items:center"><h2>\u{1F4DD} Knowledge Check</h2><div style="font-family:Orbitron;font-size:14px;padding:6px 16px;border-radius:20px;background:var(--bg3);border:1px solid var(--or);color:var(--or);${S.str>=5?'animation:streakFire 1s infinite':''}">${S.str}\u{1F525}</div></div><div style="display:flex;align-items:center;gap:12px;margin-top:12px"><div class="lpb"><div class="lpf" style="width:${qS.qi/l.questions.length*100}%"></div></div><span style="font-family:'JetBrains Mono';font-size:12px;color:var(--txd)">${qS.qi+1}/${l.questions.length}</span></div></div><div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:32px;margin-bottom:20px;text-align:center"><div style="font-size:11px;color:var(--pu);text-transform:uppercase;letter-spacing:2px;margin-bottom:16px;font-family:'JetBrains Mono'">${q.type==='type'?'\u2328\uFE0F TYPE-IN':'\u{1F3AF} MULTIPLE CHOICE'}</div><div style="font-size:17px;line-height:1.6">${q.q}</div></div>${inp}</div>`;
  if(q.type==="type")setTimeout(()=>$("ta")?.focus(),100);
}

function fb(cor,exp){return `<div style="padding:16px;background:${cor?'rgba(0,255,136,.1)':'rgba(255,61,61,.1)'};border-radius:8px;border:1px solid ${cor?'var(--gn)':'var(--rd)'}"><strong style="color:${cor?'var(--gn)':'var(--rd)'}">${cor?'\u2705 Correct!':'\u274C Not quite.'}</strong><p style="margin-top:8px;font-size:14px;color:var(--txd)">${exp||''}</p></div><button class="btn bp" style="margin-top:12px" onclick="nextQ()">Continue \u2192</button>`}

function chkAns(idx,ev){
  if(qS.ans)return;qS.ans=true;qS.tot++;S.ta++;
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],q=l.questions[qS.qi],cor=idx===q.answer;
  document.querySelectorAll(".qopt").forEach((o,i)=>{o.classList.add("disabled");if(i===q.answer)o.classList.add("correct");if(i===idx&&!cor)o.classList.add("wrong")});
  if(cor){qS.cor++;S.tc++;S.str++;if(S.str>S.bs)S.bs=S.str;const r=ev?.target?.getBoundingClientRect();addXP(15+Math.min(S.str*2,20),r?.x||400,r?.y||300)}else{S.str=0}
  $("qf").innerHTML=fb(cor,q.explain);updateTB();checkAch();
}

function chkType(){
  if(qS.ans)return;const inp=$("ta"),uv=inp.value.trim().toLowerCase();if(!uv)return;
  qS.ans=true;qS.tot++;S.ta++;
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],q=l.questions[qS.qi];
  const ans=q.answer.map(a=>a.toLowerCase().trim()),cor=ans.some(a=>uv===a||uv.replace(/\s+/g,' ')===a.replace(/\s+/g,' '));
  if(cor){qS.cor++;S.tc++;S.str++;if(S.str>S.bs)S.bs=S.str;addXP(25+Math.min(S.str*3,30),400,300)}else{S.str=0}
  inp.disabled=true;inp.style.color=cor?"var(--gn)":"var(--rd)";$("tsb").style.display="none";
  let ex=q.explain||'';if(!cor)ex=`Accepted: <code style="color:var(--gn)">${q.answer.join('</code> or <code style="color:var(--gn)">')}</code>`;
  $("tf").innerHTML=fb(cor,ex);updateTB();checkAch();
}

function nextQ(){qS.qi++;qS.ans=false;const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li];if(qS.qi>=l.questions.length)compQuiz();else renderQQ()}

function compQuiz(){
  const k=`${qS.mid}_${qS.li}`,isNew=!S.ld[k];
  if(isNew){S.ld[k]=true;S.lc++;S.mp[qS.mid]=(S.mp[qS.mid]||0)+1;addXP(50)}
  const pct=qS.tot>0?Math.round(qS.cor/qS.tot*100):100;
  if(pct===100&&qS.tot>0){S.pq=(S.pq||0)+1;addXP(50)}
  qS.phase="complete";save();checkAch();renderLC();
}

function renderLC(){
  const m=MODULES.find(x=>x.id===qS.mid),pct=qS.tot>0?Math.round(qS.cor/qS.tot*100):100,hasN=qS.li<m.lessons.length-1;
  const bc=pct>=80?'var(--gn)':pct>=50?'var(--or)':'var(--rd)';
  $("s-lesson").innerHTML=`<div class="rp asu"><h2 style="font-family:Orbitron;font-size:24px;margin-bottom:8px">Lesson Complete!</h2><p style="color:var(--txd)">${m.lessons[qS.li].title}</p><div class="scr" style="border:3px solid ${bc}"><div class="pc" style="color:${bc}">${pct}%</div><div class="lb">SCORE</div></div><div class="sr"><div class="si"><div class="va" style="color:var(--gn)">${qS.cor}</div><div class="la">Correct</div></div><div class="si"><div class="va" style="color:var(--rd)">${qS.tot-qS.cor}</div><div class="la">Wrong</div></div><div class="si"><div class="va" style="color:var(--or)">${S.str}\u{1F525}</div><div class="la">Streak</div></div></div>${pct===100?'<p style="color:var(--gd);font-family:Orbitron;font-size:14px;margin:12px 0">\u{1F4AF} PERFECT! +50 Bonus XP</p>':''}<div style="display:flex;gap:12px;justify-content:center;margin-top:24px;flex-wrap:wrap"><button class="btn bs" onclick="startLesson('${qS.mid}',${qS.li})">\u{1F504} Review</button>${hasN?`<button class="btn bp blg" onclick="startLesson('${qS.mid}',${qS.li+1})">Next Lesson \u2192</button>`:`<button class="btn bg blg" onclick="showScreen('campaign')">\u{1F3C6} Back to Campaign</button>`}</div></div>`;
}

// REFERENCE
const CC={'Navigation':'#00e5ff','Setup':'#b388ff','Security':'#ff3d3d','Show':'#00ff88','FileMgmt':'#ffd740','Interfaces':'#ff9100','VLANs':'#00bcd4','Routing':'#e040fb','OSPF':'#7c4dff','ACLs':'#ff5252','NAT':'#ffab40','Services':'#69f0ae','Troubleshoot':'#ffd740'};
function rCards(cmds){return cmds.map(c=>{const m=S.cm[c.c]||0,cl=CC[c.t]||'#888';return`<div class="rc"><div class="rcm">${c.c}</div><div class="rcd">${c.d}</div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px"><span class="rcat" style="background:${cl}22;color:${cl};border:1px solid ${cl}44">${c.t}</span><div class="md2">${[1,2,3].map(i=>`<div class="mdd ${m>=i?'f':''}"></div>`).join('')}</div></div></div>`}).join('')}
let rcf='all';
function renderRef(){
  const cats=[...new Set(CMD_REF.map(c=>c.t))];
  $("s-reference").innerHTML=`<div class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:20px">\u{1F4D6} Command Reference</h2><div class="rfs"><input type="text" class="rfi" placeholder="\u{1F50D} Search commands..." oninput="fRef()" id="rsi"><div style="display:flex;gap:6px;flex-wrap:wrap"><button class="rfb active" onclick="fCat('all',this)">All</button>${cats.map(c=>`<button class="rfb" onclick="fCat('${c}',this)">${c}</button>`).join('')}</div></div><div class="rsg" id="rg">${rCards(CMD_REF)}</div></div>`;
}
function fCat(c,b){rcf=c;document.querySelectorAll('.rfb').forEach(x=>x.classList.remove('active'));b.classList.add('active');fRef()}
function fRef(){const t=($("rsi")?.value||'').toLowerCase();let f=CMD_REF;if(rcf!=='all')f=f.filter(c=>c.t===rcf);if(t)f=f.filter(c=>c.c.toLowerCase().includes(t)||c.d.toLowerCase().includes(t));$("rg").innerHTML=rCards(f)}

// ACHIEVEMENTS
function renderAchiev(){$("s-achievements").innerHTML=`<div class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:8px">\u{1F3C6} Achievements</h2><p style="color:var(--txd);margin-bottom:24px">${S.av.length}/${ACHV.length} unlocked</p><div class="ag">${ACHV.map(a=>{const e=S.av.includes(a.id);return`<div class="ac ${e?'earned':'locked'}"><div class="ai2">${a.i}</div><div><h4 style="font-size:14px;font-weight:600;margin-bottom:4px">${a.n}</h4><p style="font-size:12px;color:var(--txd)">${a.d}</p>${e?'<span style="font-size:11px;color:var(--gd)">\u2705 Unlocked</span>':'<span style="font-size:11px;color:var(--txd)">\u{1F512} Locked</span>'}</div></div>`}).join('')}</div></div>`}

// SETTINGS
function renderSet(){const r=getRank(S.lv);$("s-settings").innerHTML=`<div style="max-width:600px;margin:0 auto" class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:20px">\u2699\uFE0F Settings</h2><div class="ss"><h3>Profile</h3><p style="margin-bottom:8px">Rank: ${r.i} ${r.n}</p><p style="margin-bottom:8px">Level: ${S.lv}</p><p>Lessons: ${S.lc}/${getTL()}</p></div><div class="ss"><h3>Data</h3><p style="font-size:13px;color:var(--txd);margin-bottom:16px">Progress saves automatically.</p><button class="btn bd" onclick="if(confirm('\u26A0\uFE0F Delete ALL progress?')){localStorage.removeItem('${SK}');location.reload()}">\u{1F5D1}\uFE0F Reset</button></div><div class="ss"><h3>About</h3><p style="font-size:13px;color:var(--txd)">Cisco CLI Academy \u2014 Command Line Combat Training. Covers IOS navigation, device setup, VLANs, routing, OSPF, ACLs, NAT, security, troubleshooting. Open this file anytime to continue.</p></div><button class="btn bs" onclick="showScreen('dashboard')" style="margin-top:12px">\u2190 Back</button></div>`}

// KEYBOARD
document.addEventListener('keydown',e=>{if(e.target.tagName==='INPUT')return;const k=e.key.toUpperCase();if(['A','B','C','D'].includes(k)){const i=k.charCodeAt(0)-65;const o=document.querySelector(`.qopt[data-idx="${i}"]`);if(o&&!o.classList.contains('disabled'))o.click()}if(e.key==='Enter'){const b=document.querySelector('#qf .btn,#af .btn,#sf .btn,#tf .btn');if(b)b.click()}});

// INIT
function startNewGame(){S.started=true;save();$("ws").style.display="none";$("ma").style.display="block";updateTB();showScreen("dashboard")}
function init(){load();if(S.started){$("ws").style.display="none";$("ma").style.display="block";updateTB();showScreen("dashboard")}else{$("ws").style.display="flex";$("ma").style.display="none"}}
init();
</script></body></html>