<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>CISCO CLI ACADEMY</title>
<style>
@import url('https://fonts.googleapis.com/css2?family=JetBrains+Mono:wght@300;400;500;600;700&family=Orbitron:wght@400;500;600;700;800;900&family=Inter:wght@300;400;500;600;700&display=swap');
:root{--bg:#0a0e14;--bg2:#111922;--bg3:#151f2b;--bg4:#1a2636;--cy:#00e5ff;--cy2:#00a5b8;--gn:#00ff88;--gn2:#00b85c;--or:#ff9100;--rd:#ff3d3d;--pu:#b388ff;--yl:#ffd740;--gd:#ffc107;--tx:#e0e6ed;--txd:#7a8a9e;--br:#1e2d3d}
*{margin:0;padding:0;box-sizing:border-box}
body{font-family:'Inter',sans-serif;background:var(--bg);color:var(--tx);min-height:100vh;overflow-x:hidden}
body::after{content:'';position:fixed;top:0;left:0;right:0;bottom:0;background:repeating-linear-gradient(0deg,transparent,transparent 2px,rgba(0,229,255,0.015) 2px,rgba(0,229,255,0.015) 4px);pointer-events:none;z-index:9999}
::-webkit-scrollbar{width:6px}::-webkit-scrollbar-track{background:var(--bg)}::-webkit-scrollbar-thumb{background:var(--cy2);border-radius:3px}
@keyframes glowPulse{0%,100%{box-shadow:0 0 5px rgba(0,229,255,0.3)}50%{box-shadow:0 0 20px rgba(0,229,255,0.6)}}
@keyframes slideUp{from{opacity:0;transform:translateY(30px)}to{opacity:1;transform:translateY(0)}}
@keyframes fadeIn{from{opacity:0}to{opacity:1}}
@keyframes blink{50%{opacity:0}}
@keyframes floatUp{0%{opacity:1;transform:translateY(0) scale(1)}100%{opacity:0;transform:translateY(-80px) scale(1.5)}}
@keyframes streakFire{0%,100%{text-shadow:0 0 10px #ff9100}50%{text-shadow:0 0 25px #ff3d3d,0 0 50px #ff9100}}
@keyframes correctFlash{0%{background:rgba(0,255,136,0.3)}100%{background:transparent}}
@keyframes wrongFlash{0%{background:rgba(255,61,61,0.3)}100%{background:transparent}}
.asu{animation:slideUp .4s ease-out}.afi{animation:fadeIn .3s ease-out}
.top-bar{display:flex;align-items:center;justify-content:space-between;padding:12px 24px;background:var(--bg2);border-bottom:1px solid var(--br);position:sticky;top:0;z-index:100}
.app-logo{font-family:'Orbitron';font-size:18px;font-weight:800;background:linear-gradient(135deg,var(--cy),var(--gn));-webkit-background-clip:text;-webkit-text-fill-color:transparent;letter-spacing:2px}
.rank-badge{background:var(--bg3);border:1px solid var(--cy2);padding:4px 12px;border-radius:4px;font-family:'JetBrains Mono';font-size:11px;color:var(--cy);text-transform:uppercase;letter-spacing:1px}
.sc{display:flex;align-items:center;gap:6px;font-family:'JetBrains Mono';font-size:13px}
.sc .l{color:var(--txd);font-size:10px;text-transform:uppercase;letter-spacing:1px}.sc .v{font-weight:600}
.xbw{width:200px;height:8px;background:var(--bg);border-radius:4px;overflow:hidden;border:1px solid var(--br)}
.xbf{height:100%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:4px;transition:width .6s}
.nav-tabs{display:flex;gap:4px;padding:8px 24px;background:var(--bg2);border-bottom:1px solid var(--br);flex-wrap:wrap}
.nav-tab{padding:10px 20px;background:0;border:none;color:var(--txd);font-family:'Inter';font-size:13px;font-weight:500;cursor:pointer;border-radius:6px;transition:all .2s;display:flex;align-items:center;gap:8px}
.nav-tab:hover{background:var(--bg4);color:var(--tx)}.nav-tab.active{background:var(--bg3);color:var(--cy);border:1px solid var(--br)}
.main-content{padding:24px;max-width:1400px;margin:0 auto}
.screen{display:none}.screen.active{display:block;animation:fadeIn .3s ease}
.dg{display:grid;grid-template-columns:1fr 1fr 1fr;gap:20px;margin-bottom:24px}
.dc{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;transition:all .3s}
.dc:hover{border-color:var(--cy2)}
.dc h3{font-family:'Orbitron';font-size:12px;color:var(--txd);text-transform:uppercase;letter-spacing:2px;margin-bottom:12px}
.dc .bn{font-family:'Orbitron';font-size:36px;font-weight:700}.dc .st{font-size:13px;color:var(--txd);margin-top:4px}
.dc.fw{grid-column:1/-1}
.mc{display:flex;align-items:center;gap:20px;background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:20px 24px;cursor:pointer;transition:all .3s;margin-bottom:12px}
.mc:hover{border-color:var(--cy2);transform:translateX(4px)}
.mc.locked{opacity:.5;cursor:not-allowed}.mc.locked:hover{transform:none;border-color:var(--br)}
.mc.completed{border-left:3px solid var(--gn)}.mc.current{border-left:3px solid var(--cy);animation:glowPulse 3s infinite}
.mn{width:50px;height:50px;display:flex;align-items:center;justify-content:center;border-radius:50%;font-family:'Orbitron';font-size:18px;font-weight:700;flex-shrink:0}
.mc.completed .mn{background:var(--gn);color:var(--bg)}.mc.current .mn{background:var(--cy);color:var(--bg)}
.mc.locked .mn{background:var(--bg);color:var(--txd);border:2px solid var(--br)}
.mc:not(.locked):not(.completed):not(.current) .mn{background:var(--bg);color:var(--tx);border:2px solid var(--txd)}
.lh{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:20px}
.lh h2{font-family:'Orbitron';font-size:20px;margin-bottom:8px}
.lpb{flex:1;height:8px;background:var(--bg);border-radius:4px;overflow:hidden}.lpf{height:100%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:4px;transition:width .5s}
.lcnt{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:32px;margin-bottom:20px;animation:slideUp .4s ease}
.lcnt h3{font-family:'Orbitron';font-size:16px;color:var(--cy);margin-bottom:16px}.lcnt p{line-height:1.7;margin-bottom:12px;font-size:15px}
.cli{background:#000;border:1px solid #333;border-radius:8px;padding:16px 20px;font-family:'JetBrains Mono';font-size:14px;color:var(--gn);margin:16px 0;overflow-x:auto;white-space:pre-wrap}
.cli .p{color:var(--cy)}.cli .c{color:#666;font-style:italic}.cli .k{color:var(--or)}.cli .o{color:#999}
.kp{background:rgba(0,229,255,0.05);border-left:3px solid var(--cy);padding:12px 16px;margin:16px 0;border-radius:0 6px 6px 0;font-size:14px;line-height:1.6}
.wb{background:rgba(255,61,61,0.05);border-left:3px solid var(--rd);padding:12px 16px;margin:16px 0;border-radius:0 6px 6px 0;font-size:14px;line-height:1.6}
.pt{background:rgba(255,215,64,0.05);border-left:3px solid var(--gd);padding:12px 16px;margin:16px 0;border-radius:0 6px 6px 0;font-size:14px;line-height:1.6}
.qo{display:flex;flex-direction:column;gap:10px}
.qopt{display:flex;align-items:center;gap:12px;background:var(--bg3);border:2px solid var(--br);border-radius:10px;padding:16px 20px;cursor:pointer;transition:all .2s;font-size:15px}
.qopt:hover{border-color:var(--cy2);background:var(--bg4)}
.qopt .ok{width:32px;height:32px;display:flex;align-items:center;justify-content:center;background:var(--bg);border-radius:6px;font-family:'JetBrains Mono';font-size:13px;font-weight:600;color:var(--txd);flex-shrink:0}
.qopt.correct{border-color:var(--gn);background:rgba(0,255,136,.1);animation:correctFlash .5s}.qopt.correct .ok{background:var(--gn);color:var(--bg)}
.qopt.wrong{border-color:var(--rd);background:rgba(255,61,61,.1);animation:wrongFlash .5s}.qopt.wrong .ok{background:var(--rd);color:#fff}
.qopt.disabled{pointer-events:none;opacity:.6}
.tiw{display:flex;align-items:center;background:#000;border:2px solid var(--br);border-radius:8px;padding:4px;margin-top:12px;transition:border-color .3s}
.tiw:focus-within{border-color:var(--cy)}
.tip{font-family:'JetBrains Mono';color:var(--cy);padding:12px;font-size:14px;white-space:nowrap}
.tii{flex:1;background:0;border:none;color:var(--gn);font-family:'JetBrains Mono';font-size:14px;padding:12px 8px;outline:none}.tii::placeholder{color:#444}
.btn{padding:12px 24px;border:none;border-radius:8px;font-family:'Inter';font-size:14px;font-weight:600;cursor:pointer;transition:all .2s;display:inline-flex;align-items:center;gap:8px}
.bp{background:var(--cy);color:var(--bg)}.bp:hover{background:#33ebff;transform:translateY(-1px);box-shadow:0 4px 15px rgba(0,229,255,.3)}
.bs{background:var(--bg3);color:var(--tx);border:1px solid var(--br)}.bs:hover{border-color:var(--cy2)}
.bd{background:rgba(255,61,61,.15);color:var(--rd);border:1px solid rgba(255,61,61,.3)}.bd:hover{background:rgba(255,61,61,.25)}
.bg{background:var(--gn);color:var(--bg)}.bg:hover{background:#33ff99}
.bsm{padding:8px 16px;font-size:12px}.blg{padding:16px 32px;font-size:16px}
.xp-float{position:fixed;font-family:'Orbitron';font-size:20px;font-weight:700;color:var(--cy);pointer-events:none;z-index:1000;animation:floatUp 1.5s ease forwards}
.mo{position:fixed;top:0;left:0;right:0;bottom:0;background:rgba(0,0,0,.8);display:flex;align-items:center;justify-content:center;z-index:500;animation:fadeIn .3s}.mo.hidden{display:none}
.modal{background:var(--bg2);border:1px solid var(--cy2);border-radius:16px;padding:40px;text-align:center;max-width:500px;width:90%;animation:slideUp .4s}
.rsg{display:grid;grid-template-columns:repeat(auto-fill,minmax(350px,1fr));gap:12px}
.rc{background:var(--bg3);border:1px solid var(--br);border-radius:8px;padding:16px;transition:all .2s}.rc:hover{border-color:var(--cy2)}
.rcm{font-family:'JetBrains Mono';font-size:14px;color:var(--gn);margin-bottom:6px}
.rcd{font-size:13px;color:var(--txd);line-height:1.4}
.rcat{display:inline-block;font-size:10px;text-transform:uppercase;letter-spacing:1px;padding:2px 8px;border-radius:3px;margin-top:8px}
.ag{display:grid;grid-template-columns:repeat(auto-fill,minmax(280px,1fr));gap:16px}
.ac{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:20px;display:flex;align-items:center;gap:16px;transition:all .3s}
.ac.earned{border-color:var(--gd)}.ac.locked{opacity:.4}
.ai2{font-size:36px;width:60px;height:60px;display:flex;align-items:center;justify-content:center;background:var(--bg);border-radius:10px;flex-shrink:0}
.ac.earned .ai2{background:rgba(255,193,7,.15)}
.sb{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:20px}
.sb h3{color:var(--rd);font-family:'Orbitron';font-size:14px;margin-bottom:12px}
.sb .to{background:#000;border:1px solid #333;padding:16px;border-radius:8px;font-family:'JetBrains Mono';font-size:13px;color:#ccc;white-space:pre-wrap;margin-top:12px}
.ss{background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:16px}
.ss h3{font-family:'Orbitron';font-size:13px;color:var(--txd);text-transform:uppercase;letter-spacing:2px;margin-bottom:16px}
.rp{max-width:600px;margin:0 auto;text-align:center}
.rp .scr{width:150px;height:150px;border-radius:50%;display:flex;flex-direction:column;align-items:center;justify-content:center;margin:24px auto;font-family:'Orbitron'}
.rp .scr .pc{font-size:36px;font-weight:700}.rp .scr .lb{font-size:11px;color:var(--txd);margin-top:4px}
.rp .sr{display:flex;justify-content:center;gap:32px;margin:20px 0}
.rp .si{text-align:center}.rp .si .va{font-family:'Orbitron';font-size:24px;font-weight:600}.rp .si .la{font-size:11px;color:var(--txd);margin-top:4px}
.md2{display:flex;gap:3px;margin-top:8px}.mdd{width:8px;height:8px;border-radius:50%;background:var(--bg);border:1px solid var(--br)}.mdd.f{background:var(--cy);border-color:var(--cy)}
.rfs{display:flex;gap:12px;margin-bottom:20px;flex-wrap:wrap;align-items:center}
.rfi{flex:1;min-width:200px;background:var(--bg3);border:2px solid var(--br);border-radius:8px;padding:12px 16px;color:var(--tx);font-family:'JetBrains Mono';font-size:14px;outline:none}.rfi:focus{border-color:var(--cy)}
.rfb{padding:10px 16px;background:var(--bg3);border:1px solid var(--br);border-radius:8px;color:var(--txd);cursor:pointer;font-size:13px;transition:all .2s}.rfb:hover,.rfb.active{border-color:var(--cy);color:var(--cy)}
.ws{display:flex;flex-direction:column;align-items:center;justify-content:center;min-height:80vh;text-align:center}
.wl{font-family:'Orbitron';font-size:48px;font-weight:900;background:linear-gradient(135deg,var(--cy),var(--gn));-webkit-background-clip:text;-webkit-text-fill-color:transparent;margin-bottom:8px}
.wt{background:#000;border:1px solid #333;border-radius:12px;padding:32px;max-width:500px;width:90%;text-align:left;font-family:'JetBrains Mono';font-size:14px;margin-bottom:32px}
.wt .ln{margin-bottom:8px}.wt .pr{color:var(--cy)}.wt .ty{color:var(--gn)}
.wt .cb{display:inline-block;width:8px;height:16px;background:var(--gn);animation:blink 1s step-end infinite;vertical-align:middle}
@media(max-width:900px){.dg{grid-template-columns:1fr}.top-bar{flex-wrap:wrap;gap:8px}.rsg{grid-template-columns:1fr}}
</style>
</head>
<body>

<div id="app">
<div id="ws" class="ws" style="display:none">
<div class="wl">CISCO CLI ACADEMY</div>
<div style="font-family:'JetBrains Mono';font-size:14px;color:var(--txd);margin-bottom:40px;letter-spacing:3px">COMMAND LINE COMBAT TRAINING</div>
<div class="wt">
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">Initializing training protocol...</span></div>
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">Loading command database... 79 commands indexed</span></div>
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">66 campaign modules loaded. 123 lessons ready.</span></div>
<div class="ln"><span class="pr">system&gt;</span> <span class="ty">Recruit identified. Begin training?</span></div>
<div class="ln"><span class="pr">recruit&gt;</span> <span class="cb"></span></div>
</div>
<button class="btn bp blg" onclick="startNewGame()">&#x26A1; BEGIN TRAINING</button>
<p style="margin-top:16px;font-size:13px;color:var(--txd)">Progress saves automatically to your browser</p>
</div>
<div id="ma" style="display:none">
<div class="top-bar">
<div style="display:flex;align-items:center;gap:16px">
<div class="app-logo">CLI ACADEMY</div>
<div class="rank-badge" id="rb">CABLE MONKEY</div>
</div>
<div style="display:flex;align-items:center;gap:20px;flex:1;justify-content:center">
<div class="sc"><div><div class="l">Level</div><div class="v" style="color:var(--gd)" id="ld">1</div></div></div>
<div class="sc"><div><div class="l">XP</div><div class="v" style="color:var(--cy)"><span id="xd">0</span>/<span id="xn">100</span></div></div><div class="xbw"><div class="xbf" id="xb" style="width:0%"></div></div></div>
<div class="sc"><div><div class="l">Streak</div><div class="v" style="color:var(--or)" id="sd">0</div></div></div>
<div class="sc"><div><div class="l">Mastered</div><div class="v" style="color:var(--gn)" id="md">0</div></div></div>
</div>
<button class="btn bsm bs" onclick="showScreen('settings')">&#x2699;&#xFE0F;</button>
</div>
<div class="nav-tabs">
<button class="nav-tab active" data-screen="dashboard" onclick="showScreen('dashboard')">&#x1F4CA; Dashboard</button>
<button class="nav-tab" data-screen="campaign" onclick="showScreen('campaign')">&#x1F5FA;&#xFE0F; Campaign</button>
<button class="nav-tab" data-screen="arena" onclick="showScreen('arena')">&#x2694;&#xFE0F; Arena</button>
<button class="nav-tab" data-screen="troubleshoot" onclick="showScreen('troubleshoot')">&#x1F527; Troubleshoot</button>
<button class="nav-tab" data-screen="reference" onclick="showScreen('reference')">&#x1F4D6; Reference</button>
<button class="nav-tab" data-screen="achievements" onclick="showScreen('achievements')">&#x1F3C6; Achievements</button>
</div>
<div class="main-content">
<div id="s-dashboard" class="screen active"></div>
<div id="s-campaign" class="screen"></div>
<div id="s-lesson" class="screen"></div>
<div id="s-arena" class="screen"></div>
<div id="s-troubleshoot" class="screen"></div>
<div id="s-reference" class="screen"></div>
<div id="s-achievements" class="screen"></div>
<div id="s-settings" class="screen"></div>
</div>
</div>
</div>
<div id="lm" class="mo hidden"><div class="modal"><div style="font-size:64px">&#x26A1;</div><h2 style="color:var(--gd);font-family:'Orbitron';font-size:28px">LEVEL UP!</h2><div id="lmc"></div><button class="btn bp" onclick="$('lm').classList.add('hidden')" style="margin-top:20px">Continue</button></div></div>

<script>
const MODULES=[{"id": "net101", "title": "Networking 101", "desc": "What is a network? Devices, topologies, and fundamentals.", "icon": "üåç", "tier": "Beginner", "lessons": [{"title": "What is a Network?", "content": "<h3>What is a Network?</h3>\n<p>A <strong>network</strong> is simply two or more devices connected together so they can share data. That's it. Your home WiFi? That's a network. Two computers connected by an Ethernet cable? Also a network. The entire internet? The biggest network ever built.</p>\n\n<p>Networks exist because standalone computers are limited. Imagine an office where nobody can email, share files, or use the internet ‚Äî that's a world without networks. Every modern business depends on them.</p>\n\n<h3>Types of Networks by Size</h3>\n<div class=\"cli\"><span class=\"k\">LAN</span>  - Local Area Network\n       A single building or floor. Your office, your home.\n       Fast (1-10 Gbps), cheap, you own/control it.\n       Uses Ethernet switches to connect devices.\n\n<span class=\"k\">WAN</span>  - Wide Area Network\n       Connects LANs across cities, countries, continents.\n       Slower than LAN, expensive (ISP circuits).\n       The internet is the world's largest WAN.\n\n<span class=\"k\">WLAN</span> - Wireless LAN\n       Same as LAN but uses WiFi (802.11) instead of cables.\n       Convenient but slower, less secure, shared medium.\n\n<span class=\"k\">MAN</span>  - Metropolitan Area Network\n       City-scale. Connects buildings across a campus or city.\n       Often fiber-based (Metro Ethernet).\n\n<span class=\"k\">SAN</span>  - Storage Area Network\n       Dedicated high-speed network just for storage (disk arrays).\n       Uses Fibre Channel or iSCSI. Servers access shared disks.\n\n<span class=\"k\">PAN</span>  - Personal Area Network\n       Your personal bubble: Bluetooth headphones, smartwatch.\n       Very short range (usually under 10 meters).</div>\n\n<h3>Network Devices ‚Äî What Does What?</h3>\n<p>Think of a network like a postal system. Devices play different roles:</p>\n<div class=\"cli\"><span class=\"k\">Hub</span>      Layer 1 ‚Äî A dumb repeater. Sends every packet to\n           EVERY port. Like shouting in a room. Obsolete.\n\n<span class=\"k\">Switch</span>   Layer 2 ‚Äî Smart. Learns which device is on which port\n           using MAC addresses. Sends packets ONLY to the right\n           port. This is the backbone of every modern LAN.\n\n<span class=\"k\">Router</span>   Layer 3 ‚Äî Connects DIFFERENT networks together using\n           IP addresses. Your home router connects your LAN to\n           your ISP's network. Without routers, networks are\n           isolated islands.\n\n<span class=\"k\">Firewall</span> Layer 3-7 ‚Äî Security guard. Inspects traffic and\n           blocks anything that violates the rules. Can filter\n           by IP, port, protocol, even application content.\n\n<span class=\"k\">L3 Switch</span> Combines switch + router. Routes between VLANs\n           at wire speed. Standard in enterprise networks.</div>\n\n<div class=\"kp\">üí° <strong>Key concept:</strong> Switches work with MAC addresses (Layer 2). Routers work with IP addresses (Layer 3). Understanding this distinction is fundamental to everything that follows.</div>", "questions": [{"type": "choice", "q": "Router connects?", "options": ["Devices on same network", "Different networks", "Only wireless", "Only WAN"], "answer": 1, "explain": "Routers connect different networks using IP."}, {"type": "choice", "q": "50 PCs on a switch = ?", "options": ["WAN", "LAN", "MAN", "SAN"], "answer": 1, "explain": "LAN = small local area."}, {"type": "choice", "q": "Switch forwards by?", "options": ["IP address", "MAC address", "Port number", "Hostname"], "answer": 1, "explain": "Switches use MAC tables."}, {"type": "choice", "q": "Two offices across a city connected = ?", "options": ["LAN", "WAN", "PAN", "VLAN"], "answer": 1, "explain": "WAN connects geographically distant sites."}]}, {"title": "The OSI Model", "content": "<h3>The OSI Model ‚Äî 7 Layers of Networking</h3>\n<p>The OSI model breaks networking into 7 layers. Each layer has a specific job and talks to the layers above and below it. When you send an email, your data travels DOWN through all 7 layers on your computer, across the wire, then UP through all 7 layers on the destination.</p>\n\n<p><strong>Why should you care?</strong> Because when something breaks, you troubleshoot layer by layer. \"Can't reach the server\" could be a Layer 1 problem (cable unplugged), Layer 2 (wrong VLAN), Layer 3 (bad route), or Layer 7 (service crashed). The OSI model is your troubleshooting framework.</p>\n\n<h3>The 7 Layers (memorize this!)</h3>\n<div class=\"cli\"><span class=\"k\">Mnemonic: All People Seem To Need Data Processing</span>\n(or from bottom: Please Do Not Throw Sausage Pizza Away)\n\n<span class=\"k\">Layer 7: Application</span>     What the USER sees\n   Protocols: HTTP, HTTPS, FTP, SSH, DNS, DHCP, SMTP\n   This is your web browser, email client, file transfer.\n   NOT the application itself ‚Äî the network SERVICES it uses.\n\n<span class=\"k\">Layer 6: Presentation</span>    Data FORMAT\n   Encryption (TLS/SSL), compression, character encoding.\n   Translates data between network and application format.\n\n<span class=\"k\">Layer 5: Session</span>         CONNECTION management\n   Establishes, maintains, terminates sessions.\n   Keeps your login session alive, manages dialog control.\n\n<span class=\"k\">Layer 4: Transport</span>       RELIABILITY\n   Protocols: TCP (reliable), UDP (fast)\n   Data unit: <strong>Segments</strong>\n   TCP: 3-way handshake, acknowledgments, retransmission.\n   UDP: Fire and forget. Used for voice, video, DNS queries.\n   Port numbers live here (80, 443, 22, etc.)\n\n<span class=\"k\">Layer 3: Network</span>         ROUTING between networks\n   Protocols: IP, ICMP, OSPF, EIGRP, BGP\n   Data unit: <strong>Packets</strong>\n   Devices: Routers, L3 switches\n   IP addresses, subnet masks, routing tables.\n   This is where routers make forwarding decisions.\n\n<span class=\"k\">Layer 2: Data Link</span>       LOCAL delivery\n   Protocols: Ethernet (802.3), WiFi (802.11)\n   Data unit: <strong>Frames</strong>\n   Devices: Switches, bridges\n   MAC addresses (burned into your NIC).\n   Switches build MAC tables to forward frames correctly.\n\n<span class=\"k\">Layer 1: Physical</span>        BITS on the wire\n   Cables, connectors, electrical signals, light pulses.\n   Data unit: <strong>Bits</strong> (1s and 0s)\n   Devices: Hubs, repeaters, cables\n   Cat5e/6 copper, fiber optic, wireless radio waves.</div>\n\n<div class=\"kp\">üí° <strong>Data encapsulation:</strong> As data goes DOWN the layers, each layer wraps it with a header. Layer 4 adds port numbers (segment), Layer 3 adds IP addresses (packet), Layer 2 adds MAC addresses (frame), Layer 1 converts to electrical signals (bits).</div>\n<div class=\"wb\">‚ö†Ô∏è On the exam: \"At which layer does a switch operate?\" = Layer 2. \"At which layer does a router operate?\" = Layer 3. These questions come up constantly.</div>", "questions": [{"type": "choice", "q": "Switches = Layer?", "options": ["1", "2", "3", "4"], "answer": 1, "explain": "Layer 2, MAC addresses."}, {"type": "choice", "q": "IP = Layer?", "options": ["2", "3", "4", "7"], "answer": 1, "explain": "Layer 3 Network."}, {"type": "choice", "q": "Data at Layer 2?", "options": ["Packet", "Segment", "Frame", "Bit"], "answer": 2, "explain": "L2=Frames."}, {"type": "choice", "q": "Router = Layer?", "options": ["1", "2", "3", "7"], "answer": 2, "explain": "Layer 3, IP routing."}, {"type": "choice", "q": "HTTP = Layer?", "options": ["4", "5", "6", "7"], "answer": 3, "explain": "Layer 7 Application."}, {"type": "choice", "q": "Data at Layer 4?", "options": ["Frame", "Packet", "Segment", "Bit"], "answer": 2, "explain": "L4=Segments."}]}, {"title": "Topologies & Devices", "content": "<h3>Network Topologies</h3>\n<p>A <strong>topology</strong> is the physical or logical layout of how devices connect. The topology you choose affects performance, cost, and what happens when something fails.</p>\n\n<div class=\"cli\"><span class=\"k\">Star Topology</span> ‚≠ê (Modern Standard)\n   Every device connects to a CENTRAL switch.\n   If one device fails, others are fine.\n   If the SWITCH fails, everything goes down.\n   This is what you see in every modern office.\n\n<span class=\"k\">Mesh Topology</span> üï∏Ô∏è (Redundant)\n   Every device connects to every other device.\n   Full mesh: N devices = N√ó(N-1)/2 links. Expensive!\n   Partial mesh: Key devices interconnected (common in WANs).\n   Maximum redundancy ‚Äî used between core switches/routers.\n\n<span class=\"k\">Bus Topology</span> (Legacy)\n   All devices share one cable (coaxial).\n   One break = entire network down.\n   Collisions everywhere. Obsolete since the 1990s.\n\n<span class=\"k\">Ring Topology</span> (Legacy)\n   Data travels in a circle. Each device passes to the next.\n   One break = network down (unless dual-ring).\n   Token Ring and FDDI used this. Essentially dead.</div>\n\n<p><strong>In practice:</strong> Modern networks use <strong>star topology at the access layer</strong> (devices to switches) and <strong>partial mesh at the core</strong> (switches to switches for redundancy). You'll never build a bus or ring network, but you need to know what they are for the exam.</p>\n\n<div class=\"kp\">üí° <strong>Real-world design:</strong> Enterprise networks follow a 3-tier model: Access (user switches) ‚Üí Distribution (aggregation) ‚Üí Core (high-speed backbone). Small sites collapse this to 2 tiers (Access + Core).</div>", "questions": [{"type": "choice", "q": "Modern LAN topology?", "options": ["Bus", "Ring", "Star", "Mesh"], "answer": 2, "explain": "Star with central switch."}, {"type": "choice", "q": "Hub = Layer?", "options": ["1", "2", "3", "4"], "answer": 0, "explain": "Layer 1, just repeats signals."}, {"type": "choice", "q": "Why hubs are bad?", "options": ["Expensive", "Broadcast to ALL ports", "Too fast", "No LEDs"], "answer": 1, "explain": "Hubs flood everything, wasting bandwidth and causing collisions."}, {"type": "choice", "q": "L3 switch combines?", "options": ["Firewall+VPN", "Switch+Router", "Hub+Bridge", "Server+NAS"], "answer": 1, "explain": "L3 switches do both switching and routing."}]}]}, {"id": "tcpip", "title": "TCP/IP & Ports", "desc": "TCP vs UDP, 3-way handshake, critical port numbers.", "icon": "üîó", "tier": "Beginner", "lessons": [{"title": "TCP vs UDP", "content": "<h3>TCP vs UDP ‚Äî Two Ways to Send Data</h3>\n<p>At Layer 4 (Transport), you have two choices for how data gets delivered. Understanding when to use each is fundamental to networking.</p>\n\n<h3>TCP ‚Äî Transmission Control Protocol</h3>\n<p>Think of TCP like <strong>certified mail with tracking</strong>. The sender knows exactly when the package arrives, and if it gets lost, it gets resent automatically.</p>\n<div class=\"cli\"><span class=\"k\">TCP Features:</span>\n‚úì Connection-oriented (3-way handshake BEFORE data flows)\n‚úì Reliable delivery (acknowledgments for every segment)\n‚úì Ordered (segments reassembled in correct order)\n‚úì Flow control (sender slows down if receiver overwhelmed)\n‚úì Error checking (checksums verify data integrity)\n\n<span class=\"k\">The 3-Way Handshake:</span>\n  Client ‚Üí Server:  SYN         \"I want to connect\"\n  Server ‚Üí Client:  SYN-ACK     \"OK, I acknowledge\"\n  Client ‚Üí Server:  ACK         \"Great, we're connected\"\n  ...data flows...\n\n<span class=\"k\">Connection Teardown (4-way):</span>\n  FIN ‚Üí ACK ‚Üí FIN ‚Üí ACK\n\n<span class=\"k\">TCP Services:</span> HTTP (80), HTTPS (443), SSH (22), FTP (20/21),\n              SMTP (25), Telnet (23), BGP (179)</div>\n\n<h3>UDP ‚Äî User Datagram Protocol</h3>\n<p>Think of UDP like <strong>dropping a letter in a mailbox</strong>. You have no idea if it arrives, and you don't care ‚Äî speed matters more than perfection.</p>\n<div class=\"cli\"><span class=\"k\">UDP Features:</span>\n‚úì Connectionless (no handshake ‚Äî just start sending)\n‚úì Unreliable (no acknowledgments, no retransmission)\n‚úì Unordered (packets may arrive out of order)\n‚úì Fast (no overhead from reliability mechanisms)\n‚úì Lightweight (8-byte header vs TCP's 20-byte header)\n\n<span class=\"k\">UDP Services:</span> DNS (53), DHCP (67/68), TFTP (69), SNMP (161),\n              Syslog (514), NTP (123), VoIP/RTP\n\n<span class=\"k\">Why UDP for voice/video?</span>\nA retransmitted voice packet arrives too late to be useful.\nBetter to drop it and keep going than pause and wait.</div>\n\n<div class=\"kp\">üí° <strong>DNS uses BOTH:</strong> UDP for normal queries (fast, small), TCP for zone transfers and responses over 512 bytes (reliable, large). This is a common exam question.</div>\n<div class=\"wb\">‚ö†Ô∏è Just because UDP is \"unreliable\" doesn't mean it's bad. Applications built on UDP (like VoIP) handle their own error correction at the application layer when needed.</div>", "questions": [{"type": "choice", "q": "Guaranteed delivery?", "options": ["UDP", "TCP", "ICMP", "ARP"], "answer": 1, "explain": "TCP with ACKs."}, {"type": "choice", "q": "VoIP uses?", "options": ["TCP", "UDP", "ICMP", "Both"], "answer": 1, "explain": "UDP, speed > perfection for voice."}, {"type": "choice", "q": "3-way handshake order?", "options": ["ACK,SYN,SYN-ACK", "SYN,SYN-ACK,ACK", "SYN,ACK,SYN-ACK", "FIN,ACK,RST"], "answer": 1, "explain": "SYN > SYN-ACK > ACK."}, {"type": "choice", "q": "DNS transport?", "options": ["TCP only", "UDP only", "Both TCP and UDP", "ICMP"], "answer": 2, "explain": "DNS uses UDP (queries) and TCP (zone transfers, large responses)."}, {"type": "choice", "q": "TCP teardown uses?", "options": ["RST only", "FIN/FIN-ACK", "SYN/SYN-ACK", "CLOSE"], "answer": 1, "explain": "Graceful: FIN, ACK, FIN, ACK (4-way)."}]}, {"title": "Port Numbers - Part 1", "content": "<h3>Well-Known Port Numbers (0-1023)</h3>\n<p><strong>Every network service listens on a specific port number.</strong> When your browser connects to a web server, it's really connecting to IP address + port 80 (HTTP) or 443 (HTTPS). Ports are like apartment numbers in a building ‚Äî the IP is the building address, the port is which door to knock on.</p>\n\n<p>You MUST memorize these. They show up in ACL rules, firewall configs, NAT translations, and troubleshooting every single day.</p>\n\n<div class=\"cli\"><span class=\"k\">Port  Proto  Service         What It Does</span>\n20    TCP    FTP Data        Actual file data transfers\n21    TCP    FTP Control     FTP commands (login, list, get)\n22    TCP    SSH             Encrypted remote access (ALWAYS use!)\n23    TCP    Telnet          Unencrypted remote access (NEVER use!)\n25    TCP    SMTP            Sending outbound email\n53    Both   DNS             Resolves names ‚Üí IP addresses\n                             UDP for queries, TCP for zone transfers\n67    UDP    DHCP Server     Server listens for client requests\n68    UDP    DHCP Client     Client listens for server responses\n69    UDP    TFTP            Simple file transfer (no authentication!)\n80    TCP    HTTP            Unencrypted web traffic</div>\n\n<h3>How Ports Work</h3>\n<p>A connection is identified by 4 things: <strong>Source IP + Source Port + Destination IP + Destination Port</strong>. When your PC visits google.com, it picks a random high port (like 52431) as the source and connects to Google's IP on destination port 443. This is how one server can handle thousands of connections simultaneously ‚Äî each has a unique source port.</p>\n\n<div class=\"cli\"><span class=\"k\">Port Ranges:</span>\n0-1023       Well-Known (assigned to standard services)\n1024-49151   Registered (applications can request these)\n49152-65535  Dynamic/Ephemeral (your PC picks from here)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>FTP uses TWO ports:</strong> 21 for commands, 20 for data. This causes problems with firewalls because the data connection is initiated separately. This is why SFTP (over SSH port 22) is preferred.</div>", "questions": [{"type": "choice", "q": "SSH port?", "options": ["21", "22", "23", "25"], "answer": 1, "explain": "SSH=22."}, {"type": "choice", "q": "FTP data port?", "options": ["20", "21", "22", "69"], "answer": 0, "explain": "FTP data=20, control=21."}, {"type": "choice", "q": "Telnet port?", "options": ["22", "23", "25", "80"], "answer": 1, "explain": "Telnet=23, plaintext!"}, {"type": "choice", "q": "DNS port?", "options": ["25", "53", "67", "80"], "answer": 1, "explain": "DNS=53."}, {"type": "choice", "q": "DHCP server port?", "options": ["53", "67", "68", "69"], "answer": 1, "explain": "Server=67, Client=68."}, {"type": "choice", "q": "TFTP port?", "options": ["20", "21", "22", "69"], "answer": 3, "explain": "TFTP=69, UDP, no auth."}]}, {"title": "Port Numbers - Part 2", "content": "<h3>More Critical Port Numbers</h3>\n<p>These ports are essential for email, monitoring, management, and security. Know them cold ‚Äî they appear in ACLs, firewall rules, and troubleshooting scenarios constantly.</p>\n\n<div class=\"cli\"><span class=\"k\">Port  Proto  Service         What It Does</span>\n110   TCP    POP3            Receive email (downloads to client)\n143   TCP    IMAP            Receive email (syncs, stays on server)\n161   UDP    SNMP            Monitoring: YOU poll the device\n162   UDP    SNMP Traps      Monitoring: DEVICE alerts you\n389   TCP    LDAP            Directory services (Active Directory)\n443   TCP    HTTPS           Encrypted web (TLS/SSL)\n514   UDP    Syslog          Centralized log collection\n636   TCP    LDAPS           LDAP over SSL/TLS\n993   TCP    IMAPS           IMAP over SSL/TLS\n995   TCP    POP3S           POP3 over SSL/TLS\n3389  TCP    RDP             Windows Remote Desktop</div>\n\n<h3>Monitoring Ports ‚Äî SNMP Explained</h3>\n<p><strong>SNMP 161 vs 162 confuses everyone.</strong> Here's the difference:</p>\n<div class=\"cli\"><span class=\"k\">Port 161 (SNMP polling):</span>\nYour monitoring server (Nagios, SolarWinds, PRTG) ASKS the\nrouter \"what's your CPU usage?\" every 5 minutes.\nDirection: Monitor ‚Üí Device (port 161)\n\n<span class=\"k\">Port 162 (SNMP traps):</span>\nSomething goes wrong on the router and it TELLS your\nmonitoring server \"hey, interface just went down!\"\nDirection: Device ‚Üí Monitor (port 162)\n\nOne is pull (161), the other is push (162).</div>\n\n<h3>Secure vs Insecure Protocols</h3>\n<div class=\"cli\"><span class=\"k\">Insecure          Secure Replacement</span>\nTelnet (23)    ‚Üí  SSH (22)\nHTTP (80)      ‚Üí  HTTPS (443)\nFTP (20/21)    ‚Üí  SFTP (22) or FTPS (990)\nSNMP v1/v2c    ‚Üí  SNMPv3 (auth + encryption)\nPOP3 (110)     ‚Üí  POP3S (995)\nIMAP (143)     ‚Üí  IMAPS (993)\nLDAP (389)     ‚Üí  LDAPS (636)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Telnet sends passwords in PLAINTEXT.</strong> Anyone with a packet sniffer on the network can see every keystroke, including your enable password. Always use SSH.</div>", "questions": [{"type": "choice", "q": "HTTPS port?", "options": ["80", "443", "8080", "8443"], "answer": 1, "explain": "HTTPS=443."}, {"type": "choice", "q": "SNMP polling port?", "options": ["161", "162", "514", "389"], "answer": 0, "explain": "SNMP=161, traps=162."}, {"type": "choice", "q": "Syslog port?", "options": ["161", "389", "514", "993"], "answer": 2, "explain": "Syslog=514 UDP."}, {"type": "choice", "q": "RDP port?", "options": ["443", "1433", "3306", "3389"], "answer": 3, "explain": "RDP=3389 TCP."}, {"type": "choice", "q": "LDAP port?", "options": ["143", "389", "443", "636"], "answer": 1, "explain": "LDAP=389, LDAPS=636."}, {"type": "choice", "q": "Why Telnet is dangerous?", "options": ["Slow", "Plaintext including passwords", "High bandwidth", "Deprecated syntax"], "answer": 1, "explain": "Everything visible to sniffers."}]}, {"title": "TCP/IP Model", "content": "<h3>The TCP/IP Model vs OSI</h3>\n<p>The OSI model is the <strong>teaching framework</strong> (7 layers). The TCP/IP model is what the <strong>internet actually runs on</strong> (4 layers). They map to each other, but TCP/IP combines some OSI layers.</p>\n\n<div class=\"cli\"><span class=\"k\">TCP/IP (4 layers)         OSI Equivalent (7 layers)</span>\nApplication               7 Application + 6 Presentation + 5 Session\nTransport                 4 Transport\nInternet                  3 Network\nNetwork Access            2 Data Link + 1 Physical</div>\n\n<h3>What Lives at Each TCP/IP Layer</h3>\n<div class=\"cli\"><span class=\"k\">Application Layer:</span>\n  HTTP, HTTPS, FTP, SSH, Telnet, DNS, DHCP, SMTP, SNMP\n  Anything the user or application directly interacts with.\n  This combines OSI layers 5-7 because in practice they\n  work together and aren't clearly separated.\n\n<span class=\"k\">Transport Layer:</span>\n  TCP (reliable, connection-oriented)\n  UDP (fast, connectionless)\n  Handles port numbers, segmentation, flow control.\n\n<span class=\"k\">Internet Layer:</span>\n  IP (addressing + routing)\n  ICMP (ping, traceroute, error messages)\n  ARP (IP ‚Üí MAC resolution)\n  IGMP (multicast group management)\n\n<span class=\"k\">Network Access Layer:</span>\n  Ethernet (802.3), WiFi (802.11), PPP\n  MAC addressing, frame construction, physical signaling.\n  Everything needed to get bits across a single link.</div>\n\n<p><strong>ARP is special:</strong> ARP resolves IP addresses to MAC addresses. When your PC wants to reach 192.168.1.1, it broadcasts \"Who has 192.168.1.1? Tell me your MAC address.\" The device responds with its MAC, and your PC can build the Ethernet frame.</p>\n\n<div class=\"kp\">üí° <strong>Exam tip:</strong> If asked \"how many layers in TCP/IP?\" the answer is 4. If asked to \"map TCP/IP to OSI,\" know that the Application layer covers OSI 5+6+7 and Network Access covers OSI 1+2.</div>", "questions": [{"type": "choice", "q": "TCP/IP layers?", "options": ["3", "4", "5", "7"], "answer": 1, "explain": "4: App, Transport, Internet, Network Access."}, {"type": "choice", "q": "ICMP = which TCP/IP layer?", "options": ["Application", "Transport", "Internet", "Network Access"], "answer": 2, "explain": "Internet layer with IP."}, {"type": "choice", "q": "ARP maps?", "options": ["Hostname>IP", "IP>MAC", "MAC>IP", "Port>service"], "answer": 1, "explain": "ARP resolves IP to MAC."}]}]}, {"id": "ip_addr", "title": "IP Addressing & Subnetting", "desc": "Master the math. This is the foundation of everything.", "icon": "üî¢", "tier": "Beginner", "lessons": [{"title": "IPv4 Basics", "content": "<h3>IPv4 Addressing ‚Äî The Foundation</h3>\n<p>Every device on a network needs a unique IP address, just like every house needs a unique street address. IPv4 uses 32-bit addresses written as four numbers separated by dots (called \"dotted decimal\"). Each number ranges from 0-255 because each is 8 bits (an octet).</p>\n\n<p><strong>Example:</strong> 192.168.1.100 ‚Äî this is four octets: 192 | 168 | 1 | 100</p>\n\n<h3>Public vs Private Addresses</h3>\n<p>There aren't enough IPv4 addresses for every device on Earth (only ~4.3 billion). So we use <strong>private addresses</strong> inside our networks and <strong>NAT</strong> to share a few public addresses for internet access.</p>\n\n<div class=\"cli\"><span class=\"k\">Private Ranges (RFC 1918) ‚Äî Used INSIDE your network:</span>\n10.0.0.0    to 10.255.255.255    /8   (16 million hosts)\n172.16.0.0  to 172.31.255.255    /12  (1 million hosts)\n192.168.0.0 to 192.168.255.255   /16  (65,000 hosts)\n\n<span class=\"k\">These are NOT routable on the internet.</span>\nYour home network (192.168.1.x), your office (10.x.x.x) ‚Äî\nall private. A router with NAT translates them to a public\nIP when traffic leaves for the internet.\n\n<span class=\"k\">Special Addresses You Must Know:</span>\n127.0.0.1         Loopback (always refers to THIS device)\n169.254.x.x       APIPA ‚Äî means DHCP failed! Device gave\n                   itself a random address. NOT working.\n0.0.0.0           Default route / unspecified\n255.255.255.255   Limited broadcast (stays on local network)\n224.0.0.0/4       Multicast range (224.x.x.x - 239.x.x.x)</div>\n\n<h3>How To Tell Private from Public</h3>\n<p>If an IP starts with 10, it's private. If it's 192.168.anything, it's private. The tricky one is 172 ‚Äî ONLY 172.16 through 172.31 is private. 172.32.x.x is PUBLIC. This trips people up constantly.</p>\n\n<div class=\"kp\">üí° <strong>Real-world:</strong> If a user's PC shows 169.254.x.x, don't troubleshoot routing ‚Äî the PC never got an IP from DHCP. Check the DHCP server, the switch port VLAN, and whether there's an ip helper-address on the gateway.</div>", "questions": [{"type": "choice", "q": "NOT a private range?", "options": ["10.0.0.0/8", "172.16.0.0/12", "192.168.0.0/16", "172.32.0.0/12"], "answer": 3, "explain": "172.32 is public. Private B = 172.16-172.31."}, {"type": "choice", "q": "169.254.x.x means?", "options": ["VPN", "APIPA (no DHCP)", "Multicast", "DNS fail"], "answer": 1, "explain": "APIPA when DHCP server unreachable."}, {"type": "choice", "q": "127.0.0.1 is?", "options": ["Gateway", "Loopback", "Broadcast", "DNS"], "answer": 1, "explain": "Loopback, always local device."}, {"type": "choice", "q": "Multicast range?", "options": ["10.0.0.0/8", "172.16.0.0/12", "224.0.0.0/4", "192.0.0.0/8"], "answer": 2, "explain": "224.0.0.0 - 239.255.255.255 = Class D multicast."}, {"type": "choice", "q": "Is 172.20.5.1 private or public?", "options": ["Private", "Public"], "answer": 0, "explain": "172.20 is within 172.16-172.31 private range."}, {"type": "choice", "q": "Is 172.33.1.1 private or public?", "options": ["Private", "Public"], "answer": 1, "explain": "172.33 is outside the 172.16-172.31 private range."}]}, {"title": "Subnet Masks & CIDR", "content": "<h3>Subnet Masks ‚Äî Dividing Networks</h3>\n<p>A subnet mask tells a device which part of an IP address is the <strong>network portion</strong> and which part is the <strong>host portion</strong>. Think of it like a phone number: the area code identifies the region (network), and the rest identifies the specific phone (host).</p>\n\n<p><strong>CIDR notation</strong> uses a slash followed by the number of network bits: 192.168.1.0<strong>/24</strong> means the first 24 bits are the network, leaving 8 bits for hosts.</p>\n\n<h3>The Subnet Table (MEMORIZE THIS)</h3>\n<div class=\"cli\"><span class=\"k\">CIDR  Subnet Mask         Usable Hosts  Block Size</span>\n/24   255.255.255.0       254           256\n/25   255.255.255.128     126           128\n/26   255.255.255.192     62            64\n/27   255.255.255.224     30            32\n/28   255.255.255.240     14            16\n/29   255.255.255.248     6             8\n/30   255.255.255.252     2             4\n/31   255.255.255.254     2 (P2P only)  2\n/32   255.255.255.255     1 (host route) 1</div>\n\n<h3>Why Subtract 2?</h3>\n<p><strong>Usable hosts = 2^(host bits) - 2</strong></p>\n<p>Every subnet reserves two addresses: the first IP is the <strong>Network Address</strong> (identifies the subnet itself) and the last IP is the <strong>Broadcast Address</strong> (sends to all hosts in the subnet). You can't assign either to a device.</p>\n\n<div class=\"cli\"><span class=\"k\">Example: 192.168.1.0/24</span>\nNetwork:     192.168.1.0       (reserved ‚Äî identifies the subnet)\nFirst host:  192.168.1.1       (usually the gateway)\nLast host:   192.168.1.254     (last assignable)\nBroadcast:   192.168.1.255     (reserved ‚Äî reaches all hosts)\nUsable:      2^8 - 2 = 254 hosts</div>\n\n<h3>Why Subnetting Matters</h3>\n<p>Without subnetting, a company with a /16 would have 65,534 hosts in ONE broadcast domain. Every ARP request, every DHCP discover would hit every single device. Networks become unusable above ~500 hosts in one subnet. Subnetting breaks this into manageable pieces.</p>\n\n<div class=\"kp\">üí° <strong>/30 is standard for point-to-point links</strong> between routers (2 usable IPs ‚Äî one for each end). Don't waste a /24 (254 addresses) on a link that only needs 2.</div>", "questions": [{"type": "choice", "q": "Hosts in /26?", "options": ["64", "62", "30", "126"], "answer": 1, "explain": "2^6-2=62."}, {"type": "choice", "q": "Hosts in /27?", "options": ["14", "30", "32", "62"], "answer": 1, "explain": "2^5-2=30."}, {"type": "choice", "q": "Hosts in /29?", "options": ["2", "6", "8", "14"], "answer": 1, "explain": "2^3-2=6."}, {"type": "choice", "q": "P2P link mask?", "options": ["/24", "/28", "/30", "/32"], "answer": 2, "explain": "/30=2 usable IPs, standard P2P."}, {"type": "choice", "q": "Mask for /27?", "options": ["255.255.255.192", "255.255.255.224", "255.255.255.240", "255.255.255.248"], "answer": 1, "explain": "128+64+32=224."}, {"type": "choice", "q": "Mask for /26?", "options": ["255.255.255.128", "255.255.255.192", "255.255.255.224", "255.255.255.240"], "answer": 1, "explain": "128+64=192."}, {"type": "choice", "q": "Hosts in /25?", "options": ["62", "126", "128", "254"], "answer": 1, "explain": "2^7-2=126."}]}, {"title": "Subnetting Practice", "content": "<h3>Subnetting ‚Äî The Math You MUST Master</h3>\n<p>Given any IP address and mask, you need to quickly calculate: What's the network address? What's the broadcast? What's the usable range? Which subnet does a specific IP belong to? This is the most tested skill in networking.</p>\n\n<h3>The Block Size Method (Fastest)</h3>\n<div class=\"cli\"><span class=\"k\">Step 1:</span> Block size = 256 - last octet of subnet mask\n<span class=\"k\">Step 2:</span> Networks start at multiples of the block size\n<span class=\"k\">Step 3:</span> Your IP falls in the nearest block ‚â§ the IP\n<span class=\"k\">Step 4:</span> Broadcast = next network - 1\n<span class=\"k\">Step 5:</span> Usable range = network+1 to broadcast-1</div>\n\n<h3>Worked Example: 192.168.1.130/26</h3>\n<div class=\"cli\"><span class=\"k\">Step 1:</span> Mask /26 = 255.255.255.192\n         Block = 256 - 192 = <span class=\"k\">64</span>\n\n<span class=\"k\">Step 2:</span> Subnets: .0, .64, .128, .192\n\n<span class=\"k\">Step 3:</span> 130 falls between .128 and .192\n         Network = 192.168.1.<span class=\"k\">128</span>\n\n<span class=\"k\">Step 4:</span> Next subnet = .192, so\n         Broadcast = .192 - 1 = 192.168.1.<span class=\"k\">191</span>\n\n<span class=\"k\">Step 5:</span> Usable: 192.168.1.<span class=\"k\">129</span> to 192.168.1.<span class=\"k\">190</span>\n         That's 62 usable hosts (/26 = 2^6-2 = 62)</div>\n\n<h3>Another Example: 10.10.10.200/28</h3>\n<div class=\"cli\">Mask /28 = 255.255.255.240\nBlock = 256 - 240 = <span class=\"k\">16</span>\nSubnets: .0, .16, .32, .48, .64 ... .192, .208 ...\n200 falls between .192 and .208\nNetwork:   10.10.10.<span class=\"k\">192</span>\nBroadcast: 10.10.10.<span class=\"k\">207</span> (.208-1)\nUsable:    .193 to .206 (14 hosts)</div>\n\n<h3>Quick Reference: How Many Hosts Do I Need?</h3>\n<div class=\"cli\"><span class=\"k\">Hosts needed ‚Üí Minimum prefix</span>\n2 hosts       ‚Üí /30 (point-to-point link)\n6 hosts       ‚Üí /29\n14 hosts      ‚Üí /28\n30 hosts      ‚Üí /27\n62 hosts      ‚Üí /26\n126 hosts     ‚Üí /25\n254 hosts     ‚Üí /24\n510 hosts     ‚Üí /23\n1022 hosts    ‚Üí /22</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Always go one size up</strong> from exactly what you need. If you need 30 hosts, a /27 gives exactly 30 ‚Äî but you have ZERO room for growth. Use a /26 (62 hosts) instead.</div>", "questions": [{"type": "choice", "q": "Need 100 hosts. Smallest subnet?", "options": ["/24 (254)", "/25 (126)", "/26 (62)", "/27 (30)"], "answer": 1, "explain": "/25 gives 126. /26 only 62, not enough."}, {"type": "choice", "q": "192.168.10.0/28 broadcast?", "options": ["192.168.10.15", "192.168.10.16", "192.168.10.31", "192.168.10.255"], "answer": 0, "explain": "Block=16. .0+15=.15."}, {"type": "choice", "q": "First usable in 172.16.5.64/26?", "options": ["172.16.5.64", "172.16.5.65", "172.16.5.1", "172.16.5.66"], "answer": 1, "explain": "Network+1 = .65."}, {"type": "choice", "q": "10.0.0.33 and 10.0.0.46 - same /28?", "options": ["Yes (.32-.47)", "No (different subnets)"], "answer": 0, "explain": "Block=16. .32-.47 is one subnet."}, {"type": "choice", "q": "192.168.1.130/26 - what network?", "options": ["192.168.1.0", "192.168.1.64", "192.168.1.128", "192.168.1.192"], "answer": 2, "explain": "Block=64. 130 falls in .128 block."}, {"type": "choice", "q": "10.10.10.200/28 - broadcast?", "options": ["10.10.10.207", "10.10.10.208", "10.10.10.215", "10.10.10.255"], "answer": 0, "explain": "Block=16. .192+15=.207."}, {"type": "choice", "q": "Need 500 hosts. Minimum prefix?", "options": ["/22 (1022)", "/23 (510)", "/24 (254)", "/21 (2046)"], "answer": 1, "explain": "/23=510 hosts. /24 only 254."}]}, {"title": "Wildcard Masks", "content": "<h3>Wildcard Masks ‚Äî The Inverse of Subnet Masks</h3>\n<p>Wildcard masks are used in <strong>OSPF network statements</strong> and <strong>ACLs</strong>. They're the mathematical inverse of subnet masks: where a subnet mask has a 1, the wildcard has a 0, and vice versa.</p>\n\n<p><strong>Simple rule:</strong> Subtract each octet of the subnet mask from 255.</p>\n\n<div class=\"cli\"><span class=\"k\">Subnet Mask       ‚Üí  Wildcard Mask     Meaning</span>\n255.255.255.0     ‚Üí  0.0.0.255         Match first 3 octets (/24)\n255.255.255.128   ‚Üí  0.0.0.127         Match /25\n255.255.255.192   ‚Üí  0.0.0.63          Match /26\n255.255.255.224   ‚Üí  0.0.0.31          Match /27\n255.255.255.240   ‚Üí  0.0.0.15          Match /28\n255.255.255.248   ‚Üí  0.0.0.7           Match /29\n255.255.255.252   ‚Üí  0.0.0.3           Match /30\n255.255.255.255   ‚Üí  0.0.0.0           Match exactly 1 host\n255.255.0.0       ‚Üí  0.0.255.255       Match first 2 octets (/16)\n255.0.0.0         ‚Üí  0.255.255.255     Match first octet (/8)</div>\n\n<h3>How to Think About It</h3>\n<p>A <strong>0 in the wildcard</strong> means \"this bit MUST match.\" A <strong>1</strong> means \"I don't care.\" So:</p>\n<div class=\"cli\"><span class=\"k\">0.0.0.0</span>   = Every bit must match = exact single host\n<span class=\"k\">0.0.0.255</span> = First 3 octets match, last can be anything = /24\n<span class=\"k\">0.0.0.63</span>  = First 26 bits match = /26 subnet\n\n<span class=\"k\">In OSPF:</span>\nnetwork 192.168.1.0 <span class=\"k\">0.0.0.255</span> area 0\n  ‚Üí \"Enable OSPF on any interface in 192.168.1.0/24\"\n\n<span class=\"k\">In an ACL:</span>\npermit ip 10.0.0.0 <span class=\"k\">0.255.255.255</span> any\n  ‚Üí \"Allow anything from 10.x.x.x\"</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Common mistake:</strong> Using subnet masks where wildcards are needed (or vice versa). OSPF and ACLs use WILDCARDS. Interface IP assignments use SUBNET MASKS. Mixing them up is the #1 configuration error for beginners.</div>", "questions": [{"type": "choice", "q": "Wildcard for /24?", "options": ["0.0.0.0", "0.0.0.255", "255.255.255.0", "0.0.255.255"], "answer": 1, "explain": "255-255=0, 255-0=255."}, {"type": "choice", "q": "Wildcard for single host?", "options": ["0.0.0.0", "0.0.0.1", "255.255.255.255", "0.0.0.255"], "answer": 0, "explain": "0.0.0.0 matches all 32 bits exactly."}, {"type": "choice", "q": "Wildcard for /26?", "options": ["0.0.0.64", "0.0.0.63", "0.0.0.192", "0.0.0.31"], "answer": 1, "explain": "255-192=63."}, {"type": "choice", "q": "Wildcard for /28?", "options": ["0.0.0.15", "0.0.0.16", "0.0.0.240", "0.0.0.31"], "answer": 0, "explain": "255-240=15."}, {"type": "choice", "q": "Wildcard for /16?", "options": ["0.0.0.255", "0.0.255.0", "0.0.255.255", "255.255.0.0"], "answer": 2, "explain": "255-255=0,255-255=0,255-0=255,255-0=255."}]}]}, {"id": "cabling", "title": "Cables & Physical Layer", "desc": "RJ45, fiber, PoE, standards.", "icon": "üîå", "tier": "Beginner", "lessons": [{"title": "Cable Types", "content": "<h3>Network Cabling ‚Äî Layer 1 Fundamentals</h3>\n<p>Nothing works if the physical layer is wrong. A perfectly configured router with a bad cable still shows \"down/down.\" Understanding cable types, distances, and limitations saves hours of troubleshooting.</p>\n\n<h3>Copper (Twisted Pair)</h3>\n<p>Copper cables use electrical signals over twisted pairs of wires inside an RJ-45 connector. The \"twist\" reduces electromagnetic interference. Different categories support different speeds.</p>\n<div class=\"cli\"><span class=\"k\">Category  Max Speed   Max Distance  Notes</span>\nCat5e     1 Gbps     100 meters    Most common installed base\nCat6      10 Gbps    55 meters     (1 Gbps at 100m)\nCat6a     10 Gbps    100 meters    Full 10G at full distance\nCat7      10 Gbps    100 meters    Shielded, rarely used\nCat8      25/40 Gbps 30 meters     Data centers only\n\n<span class=\"k\">Key rule:</span> ALL copper Ethernet maxes out at 100 meters (328 feet).\nBeyond that, you need fiber optic or a repeater/switch.</div>\n\n<h3>Fiber Optic</h3>\n<p>Fiber uses pulses of LIGHT instead of electrical signals. It's immune to electromagnetic interference, supports much longer distances, and carries more bandwidth.</p>\n<div class=\"cli\"><span class=\"k\">Type          Jacket Color  Distance    Light Source</span>\nSingle-mode   Yellow        Up to 80 km  Laser (narrow beam)\nMulti-mode    Orange/Aqua   Up to 550m   LED (wider beam)\n\n<span class=\"k\">Connectors:</span> LC (small), SC (square), ST (twist-lock)\nLC is the modern standard for switches and routers.\n\n<span class=\"k\">When to use fiber:</span>\n‚Ä¢ Distance > 100 meters\n‚Ä¢ Between buildings (outdoor/underground runs)\n‚Ä¢ High-interference environments (near motors, generators)\n‚Ä¢ Need for > 10 Gbps speeds</div>\n\n<h3>Cable Types for Connections</h3>\n<div class=\"cli\"><span class=\"k\">Straight-through:</span> PC‚ÜíSwitch, Router‚ÜíSwitch (different devices)\n<span class=\"k\">Crossover:</span>       Switch‚ÜíSwitch, PC‚ÜíPC (same devices)\n<span class=\"k\">Rollover/Console:</span> PC‚ÜíConsole port (light blue cable, DB-9/USB)\n\n<span class=\"k\">Auto-MDIX:</span> Modern switches detect which cable type you're using\nand adjust automatically. Crossover cables are essentially obsolete\nin modern networks, but know them for the exam.</div>\n\n<div class=\"kp\">üí° <strong>Troubleshooting tip:</strong> CRC errors in <code>show interfaces</code> usually mean a bad cable or connector. Try swapping the cable before changing any configuration.</div>", "questions": [{"type": "choice", "q": "Cat6a at 10G max distance?", "options": ["55m", "100m", "300m", "1km"], "answer": 1, "explain": "Cat6a=100m at 10G."}, {"type": "choice", "q": "Long-distance fiber?", "options": ["Multi-mode", "Single-mode", "Cat6", "Coaxial"], "answer": 1, "explain": "Single-mode (yellow) for km."}, {"type": "choice", "q": "Auto-MDIX eliminates?", "options": ["PoE", "Crossover cables", "Fiber converters", "Patch panels"], "answer": 1, "explain": "Auto-detects cable type needed."}, {"type": "choice", "q": "Multi-mode fiber jacket color?", "options": ["Yellow", "Blue", "Orange/Aqua", "Green"], "answer": 2, "explain": "Multi-mode = orange or aqua."}]}, {"title": "PoE & Ethernet Standards", "content": "<h3>Power over Ethernet (PoE)</h3>\n<p>PoE delivers electrical power AND data over the same Ethernet cable. This is how IP phones, wireless access points, and security cameras get power without separate power outlets at each location.</p>\n\n<div class=\"cli\"><span class=\"k\">Standard    Power Delivered  Common Devices</span>\n802.3af     15.4 watts       IP phones, basic cameras\n802.3at     30 watts         Wireless APs, PTZ cameras\n802.3bt     60-100 watts     High-power APs, thin clients, displays\n\n<span class=\"k\">How PoE works:</span>\n1. Switch sends a low voltage to detect if device needs power\n2. Device responds with its power class\n3. Switch provides the appropriate wattage\n4. If device doesn't support PoE, no power is sent (safe!)</div>\n\n<h3>Ethernet Speed Standards</h3>\n<div class=\"cli\"><span class=\"k\">Name           Speed       Standard      Cable</span>\n10BASE-T       10 Mbps     802.3         Cat3+\n100BASE-TX     100 Mbps    802.3u        Cat5+ (FastEthernet)\n1000BASE-T     1 Gbps      802.3ab       Cat5e+ (GigabitEthernet)\n10GBASE-T      10 Gbps     802.3an       Cat6a\n1000BASE-SX    1 Gbps      802.3z        Multi-mode fiber (550m)\n1000BASE-LX    1 Gbps      802.3z        Single-mode fiber (5km)\n10GBASE-SR     10 Gbps     802.3ae       Multi-mode fiber (400m)\n10GBASE-LR     10 Gbps     802.3ae       Single-mode fiber (10km)</div>\n\n<p><strong>Interface naming on Cisco:</strong> FastEthernet (Fa) = 100 Mbps, GigabitEthernet (Gi/Gig) = 1 Gbps, TenGigabitEthernet (Te) = 10 Gbps.</p>\n\n<div class=\"kp\">üí° <strong>Real world:</strong> When ordering a switch, check the PoE budget. A 48-port switch with 370W PoE budget can only power about 12 devices at 30W each ‚Äî not all 48 ports. Always plan your power budget.</div>", "questions": [{"type": "choice", "q": "PoE+ watts?", "options": ["15.4W", "30W", "60W", "100W"], "answer": 1, "explain": "802.3at=30W."}, {"type": "choice", "q": "1000BASE-T speed?", "options": ["100 Mbps", "1 Gbps", "10 Gbps", "100 Gbps"], "answer": 1, "explain": "1000BASE-T=1 Gbps."}, {"type": "choice", "q": "Common PoE device?", "options": ["Desktop PC", "Server", "Wireless AP", "SAN storage"], "answer": 2, "explain": "APs, IP phones, cameras."}, {"type": "choice", "q": "Max copper Ethernet distance?", "options": ["55m", "100m", "300m", "1km"], "answer": 1, "explain": "100m for all copper Ethernet."}]}]}, {"id": "cli_nav", "title": "IOS CLI Navigation", "desc": "Modes, commands, shortcuts - type it until it's muscle memory.", "icon": "üíª", "tier": "Beginner", "lessons": [{"title": "Mode Navigation", "content": "<h3>IOS Mode Hierarchy ‚Äî Know Where You Are</h3>\n<p>Cisco IOS (Internetwork Operating System) organizes commands into different <strong>modes</strong>, each with its own prompt and permissions. You can't configure an interface from User mode, and you can't run <code>show running-config</code> from User mode either. Knowing which mode you're in ‚Äî and how to get to the right one ‚Äî is fundamental.</p>\n\n<h3>The Mode Hierarchy</h3>\n<div class=\"cli\"><span class=\"k\">Mode                    Prompt               What You Can Do</span>\nUser EXEC               Router>              Limited show commands, ping\nPrivileged EXEC         Router#              ALL show, debug, copy, reload\nGlobal Configuration    Router(config)#      Device-wide settings\nInterface Config        Router(config-if)#   Per-port settings (IP, shutdown)\nLine Config             Router(config-line)# Console/VTY access settings\nRouter Config           Router(config-router)# Routing protocol settings\nVLAN Config             Switch(config-vlan)# Create/name VLANs\nDHCP Config             Router(dhcp-config)# DHCP pool settings\n\n<span class=\"k\">Navigation Commands:</span>\n<span class=\"p\">Router></span> <span class=\"k\">enable</span>                    ‚Üí Privileged EXEC\n<span class=\"p\">Router#</span> <span class=\"k\">configure terminal</span>         ‚Üí Global Config\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0</span>   ‚Üí Interface Config\n<span class=\"p\">Router(config)#</span> <span class=\"k\">line vty 0 4</span>     ‚Üí Line Config\n<span class=\"p\">Router(config)#</span> <span class=\"k\">router ospf 1</span>    ‚Üí Router Config\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">exit</span>          ‚Üí Back one level\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">end</span>           ‚Üí Jump to Privileged from ANYWHERE</div>\n\n<h3>Critical Concepts</h3>\n<p><strong>The \"do\" command:</strong> If you're in config mode and need to run a show command, prefix it with <code>do</code>. Example: <code>do show ip int br</code> from config mode. This saves constantly typing <code>end</code> and <code>configure terminal</code>.</p>\n<p><strong>Tab completion:</strong> Type enough unique characters and hit Tab. <code>sh ip int br</code> + Tab works. Saves massive amounts of typing.</p>\n<p><strong>Context help:</strong> Type <code>?</code> to see available commands at any point. Type <code>sh ?</code> to see what follows \"show\".</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>\"% Invalid input detected\"</strong> means you're in the wrong mode. Check your prompt! If you see <code>Router></code> (no #), you need to <code>enable</code> first.</div>", "questions": [{"type": "type", "q": "Enter privileged mode:", "answer": ["enable", "en"], "prompt": "Router>"}, {"type": "type", "q": "Enter global config:", "answer": ["configure terminal", "conf t", "config t"], "prompt": "Router#"}, {"type": "type", "q": "Enter interface Gi0/0:", "answer": ["interface GigabitEthernet0/0", "int gi0/0", "int g0/0", "interface gi0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Back to privileged EXEC:", "answer": ["end"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Go back one level:", "answer": ["exit"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter line console config:", "answer": ["line console 0", "line con 0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enter VLAN config for VLAN 10:", "answer": ["vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Enter router OSPF config:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}]}, {"title": "Essential Show Commands", "content": "<h3>Show Commands ‚Äî Your Diagnostic Toolkit</h3>\n<p>Show commands are how you <strong>see what's happening</strong> on a device without changing anything. Before making any configuration change, always run show commands first to understand the current state. After making changes, run them again to verify.</p>\n\n<h3>The Top 10 Show Commands (In Order of Importance)</h3>\n<div class=\"cli\"><span class=\"k\">1. show ip interface brief</span> (or sh ip int br)\n   THE most used command in networking. Shows every interface,\n   its IP address, and up/down status in one compact view.\n   This is always your FIRST command when troubleshooting.\n\n<span class=\"k\">2. show running-config</span> (or sh run)\n   The ACTIVE configuration in RAM. This is what the device\n   is actually doing RIGHT NOW. If you made changes but\n   didn't save, they're only here ‚Äî not in startup-config.\n\n<span class=\"k\">3. show startup-config</span> (or sh start)\n   The SAVED configuration in NVRAM. This loads on reboot.\n   If running ‚â† startup, someone made changes but didn't save.\n\n<span class=\"k\">4. show ip route</span> (or sh ip ro)\n   The routing table. Shows every network the router knows\n   how to reach and via which next-hop or interface.\n   Codes: C=Connected, S=Static, O=OSPF, D=EIGRP\n\n<span class=\"k\">5. show interfaces</span> (or sh int [name])\n   Deep statistics: errors, CRC, collisions, input/output\n   rates, drops, queue sizes. Essential for troubleshooting\n   physical and data-link issues.\n\n<span class=\"k\">6. show version</span> (or sh ver)\n   IOS version, uptime, hardware model, RAM/Flash,\n   config-register value, license info.\n\n<span class=\"k\">7. show ip arp</span>\n   ARP cache: IP-to-MAC mappings. Useful for finding\n   which MAC address belongs to which IP.\n\n<span class=\"k\">8. show access-lists</span>\n   All ACLs with match counters. See which rules are\n   actually hitting and which are never matched.\n\n<span class=\"k\">9. show clock</span>\n   Current time. Important because if NTP is wrong, your\n   log timestamps are useless for incident investigation.\n\n<span class=\"k\">10. show history</span>\n    Recent commands typed. Useful for seeing what someone\n    else did (or what you did 5 minutes ago and forgot).</div>\n\n<div class=\"kp\">üí° <strong>Pipeline filters</strong> make show commands powerful: <code>show run | include interface</code> shows only lines with \"interface\". <code>show run | section router ospf</code> shows the full OSPF section. <code>| begin</code>, <code>| exclude</code> also available.</div>", "questions": [{"type": "type", "q": "All interfaces overview:", "answer": ["show ip interface brief", "sh ip int br", "sh ip int brief"], "prompt": "Router#"}, {"type": "type", "q": "Active config:", "answer": ["show running-config", "sh run", "show run"], "prompt": "Router#"}, {"type": "type", "q": "IOS version/uptime:", "answer": ["show version", "sh ver", "sh version"], "prompt": "Router#"}, {"type": "type", "q": "Routing table:", "answer": ["show ip route", "sh ip route", "sh ip ro"], "prompt": "Router#"}, {"type": "type", "q": "Saved config:", "answer": ["show startup-config", "sh start", "show start"], "prompt": "Router#"}, {"type": "type", "q": "Interface errors/stats:", "answer": ["show interfaces", "sh int", "sh interfaces"], "prompt": "Router#"}, {"type": "type", "q": "Current time:", "answer": ["show clock", "sh clock"], "prompt": "Router#"}, {"type": "type", "q": "Command history:", "answer": ["show history", "sh history"], "prompt": "Router#"}]}, {"title": "Filters & Shortcuts", "content": "<h3>Pipeline Filters & Keyboard Shortcuts</h3>\n<p>Cisco IOS has powerful filtering built in. Instead of scrolling through 200 lines of <code>show running-config</code>, you can filter to just what you need. These filters save enormous amounts of time.</p>\n\n<h3>Pipeline Filters ( | )</h3>\n<div class=\"cli\"><span class=\"k\">show run | include [text]</span>\n   Show ONLY lines containing that text.\n   Example: sh run | include interface\n   Shows: \"interface GigabitEthernet0/0\", \"interface Vlan10\"...\n\n<span class=\"k\">show run | section [text]</span>\n   Show the ENTIRE section starting with that text.\n   Example: sh run | section router ospf\n   Shows the complete OSPF config block with all sub-commands.\n\n<span class=\"k\">show run | begin [text]</span>\n   Start displaying from the first line matching that text.\n   Example: sh run | begin line vty\n   Shows everything from \"line vty 0 4\" to end of config.\n\n<span class=\"k\">show run | exclude [text]</span>\n   Show everything EXCEPT lines with that text.\n   Example: sh run | exclude !\n   Hides all comment lines for a cleaner view.</div>\n\n<h3>Keyboard Shortcuts</h3>\n<div class=\"cli\"><span class=\"k\">Navigation:</span>\nTab              Auto-complete command\n?                Show available commands/options\nCtrl+A           Jump to beginning of line\nCtrl+E           Jump to end of line\nUp Arrow         Previous command (recall history)\n\n<span class=\"k\">Control:</span>\nCtrl+Shift+6     ABORT! Stop a running ping or traceroute\nCtrl+C           Cancel current command/entry\nCtrl+Z           Same as typing \"end\" (back to privileged)\n\n<span class=\"k\">The \"do\" prefix:</span>\nFrom ANY config mode, prefix with \"do\" to run exec commands:\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">do show ip int br</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">do ping 10.0.0.1</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">do show run | section interface</span></div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>\"% Ambiguous command\"</strong> means your abbreviation matches multiple commands. Type more characters. <code>sh</code> is ambiguous because it matches \"show\" and \"shutdown\" ‚Äî but <code>sho</code> works because only \"show\" starts with \"sho\".</div>", "questions": [{"type": "type", "q": "Show run lines with 'interface':", "answer": ["show run | include interface", "sh run | include interface", "show running-config | include interface"], "prompt": "Router#"}, {"type": "type", "q": "Show full interface sections:", "answer": ["show run | section interface", "sh run | section interface"], "prompt": "Router#"}, {"type": "type", "q": "Show run starting from 'line':", "answer": ["show run | begin line", "sh run | begin line"], "prompt": "Router#"}, {"type": "type", "q": "Show run hiding lines with 'no':", "answer": ["show run | exclude no", "sh run | exclude no"], "prompt": "Router#"}, {"type": "choice", "q": "Ctrl+Shift+6 does?", "options": ["Clear screen", "Abort operation", "Config mode", "Save"], "answer": 1, "explain": "Aborts running ping/traceroute."}, {"type": "choice", "q": "'% Ambiguous command' means?", "options": ["Not found", "Abbreviation matches multiple", "Permission denied", "Syntax error"], "answer": 1, "explain": "Type more characters to be unique."}, {"type": "type", "q": "Run 'show ip int br' from config mode:", "answer": ["do show ip interface brief", "do sh ip int br", "do show ip int br"], "prompt": "Router(config)#"}]}]}, {"id": "dev_setup", "title": "Device Initial Setup", "desc": "Hostname, passwords, SSH, banners, save config.", "icon": "üîê", "tier": "Beginner", "lessons": [{"title": "Hostname & Banner", "content": "<h3>Hostname & Banner ‚Äî First Steps</h3>\n<p>The first thing you configure on any device is its <strong>hostname</strong>. On a network with 200 switches, you need to instantly know which device you're connected to. Without a hostname, every device just says \"Switch>\" ‚Äî dangerous when you accidentally reload the wrong one.</p>\n\n<div class=\"cli\"><span class=\"k\">Setting a hostname:</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">hostname NYC-SW-FL3</span>\n<span class=\"p\">NYC-SW-FL3(config)#</span>\n\nGood naming conventions: SITE-ROLE-LOCATION\nExamples: NYC-RTR01, DC-CORE-SW1, LA-ACCESS-FL2</div>\n\n<h3>Login Banners</h3>\n<p>A <strong>banner</strong> is a message displayed before or after login. The MOTD (Message of the Day) banner appears to EVERYONE, even before authentication. It serves as a legal warning.</p>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">banner motd # AUTHORIZED ACCESS ONLY. All activity is monitored and recorded. Unauthorized access will be prosecuted. #</span></div>\n\n<h3>Why Banners Matter Legally</h3>\n<p>In many jurisdictions, prosecuting unauthorized access requires proving the person <strong>knew they weren't authorized</strong>. A banner that says \"Welcome!\" could be argued as an invitation. A banner that explicitly states \"authorized personnel only\" and \"activity is monitored\" strengthens your legal position.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>NEVER use \"Welcome\" in a banner.</strong> Attorneys have successfully argued that \"Welcome\" implies an invitation to access the system, potentially weakening prosecution of unauthorized access.</div>", "questions": [{"type": "type", "q": "Set hostname to SW-FLOOR3:", "answer": ["hostname SW-FLOOR3"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set hostname to CORE-RTR:", "answer": ["hostname CORE-RTR"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set MOTD banner:", "answer": ["banner motd #", "banner motd # AUTHORIZED ACCESS ONLY #"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Why no 'Welcome' in banners?", "options": ["Reserved", "Could weaken prosecution", "Syntax error", "Performance"], "answer": 1, "explain": "Implies invitation to access."}]}, {"title": "Passwords", "content": "<h3>Securing Device Access with Passwords</h3>\n<p>A Cisco device out of the box has NO passwords. Anyone who connects to the console port or Telnet gets full access. Securing access is critical ‚Äî and there's a right order to do it.</p>\n\n<h3>Types of Passwords</h3>\n<div class=\"cli\"><span class=\"k\">enable secret [password]</span>\n  Protects privileged EXEC mode (the # prompt).\n  Stored as MD5 hash ‚Äî CANNOT be easily reversed.\n  ALWAYS use this instead of \"enable password.\"\n\n<span class=\"k\">enable password [password]</span>\n  OLDER command. Stored as Type 7 (reversible!).\n  If both exist, \"enable secret\" takes priority.\n  Never use this ‚Äî it's trivially crackable.\n\n<span class=\"k\">service password-encryption</span>\n  Encrypts Type 7 passwords in the config file.\n  Better than plaintext but still easily reversible\n  (Google \"Cisco Type 7 decoder\"). It's a speed bump,\n  not real security. Use \"secret\" wherever possible.</div>\n\n<h3>Console & VTY Passwords</h3>\n<div class=\"cli\"><span class=\"k\">Console (physical access):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">line console 0</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">password ConsolePass1!</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">login</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">logging synchronous</span>    Prevents log messages from interrupting your typing\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">exec-timeout 5 0</span>       Auto-logout after 5 minutes idle\n\n<span class=\"k\">VTY (remote access - Telnet/SSH):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">line vty 0 4</span>             5 simultaneous sessions (0-4)\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">transport input ssh</span>   SSH only (block Telnet!)\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">login local</span>            Use local username database</div>\n\n<div class=\"kp\">üí° <strong>The \"login\" keyword is critical.</strong> Without it, the password line is ignored and anyone can access the console without authentication. Always add <code>login</code> (or <code>login local</code> for username-based auth).</div>", "questions": [{"type": "type", "q": "Set enable secret 'Cisco123':", "answer": ["enable secret Cisco123"], "prompt": "Router(config)#"}, {"type": "type", "q": "Encrypt all passwords:", "answer": ["service password-encryption"], "prompt": "Router(config)#"}, {"type": "type", "q": "Console line config:", "answer": ["line console 0", "line con 0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set console password 'ConPass':", "answer": ["password ConPass"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Require login on console:", "answer": ["login"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Stop log interruptions:", "answer": ["logging synchronous"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "10-min timeout:", "answer": ["exec-timeout 10 0", "exec-timeout 10"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "VTY lines 0-4:", "answer": ["line vty 0 4"], "prompt": "Router(config)#"}]}, {"title": "SSH Setup", "content": "<h3>SSH Configuration ‚Äî Secure Remote Access</h3>\n<p>SSH (Secure Shell) encrypts ALL traffic between your computer and the network device ‚Äî including passwords, commands, and output. Telnet sends everything in plaintext. On any modern network, <strong>SSH is mandatory and Telnet must be disabled</strong>.</p>\n\n<h3>SSH Prerequisites (All Three Required!)</h3>\n<div class=\"cli\"><span class=\"k\">1. Hostname</span> ‚Äî Cannot be the default \"Router\" or \"Switch\"\n<span class=\"k\">2. Domain name</span> ‚Äî Combined with hostname to generate the RSA key\n<span class=\"k\">3. RSA keys</span> ‚Äî The encryption keys generated from hostname.domain\n\nIf ANY of these are missing, SSH will not work.\nIf you try <code>crypto key generate rsa</code> without a hostname\nand domain, IOS will tell you \"Please define a hostname\nand domain-name first.\"</div>\n\n<h3>Complete SSH Setup (Follow This Order)</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">hostname HQ-RTR01</span>                              Step 1\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">ip domain-name corp.local</span>                   Step 2\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">crypto key generate rsa modulus 2048</span>         Step 3\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">ip ssh version 2</span>                             Force v2\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">username admin privilege 15 secret Str0ng!</span>  Local user\n<span class=\"p\">HQ-RTR01(config)#</span> <span class=\"k\">line vty 0 4</span>\n<span class=\"p\">HQ-RTR01(config-line)#</span> <span class=\"k\">transport input ssh</span>                     SSH only\n<span class=\"p\">HQ-RTR01(config-line)#</span> <span class=\"k\">login local</span>                             Use local DB\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip ssh</span>          Shows SSH version, timeout, retries\n<span class=\"p\">Router#</span> <span class=\"k\">show ssh</span>             Shows active SSH sessions</div>\n\n<p><strong>RSA key size:</strong> Use 2048-bit minimum. 1024-bit is considered weak. The key is generated from your hostname + domain name, so if you change either, you need to regenerate keys.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>privilege 15</strong> gives the user immediate access to privileged EXEC mode (no need to type <code>enable</code>). Use this for admin accounts. Use lower privilege levels (1-14) for restricted access.</div>", "questions": [{"type": "type", "q": "Set domain to 'navy.mil':", "answer": ["ip domain-name navy.mil", "ip domain name navy.mil"], "prompt": "Router(config)#"}, {"type": "type", "q": "Generate 2048-bit RSA keys:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "Router(config)#"}, {"type": "type", "q": "Force SSH v2:", "answer": ["ip ssh version 2"], "prompt": "Router(config)#"}, {"type": "type", "q": "SSH-only on VTY:", "answer": ["transport input ssh"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Use local user database:", "answer": ["login local"], "prompt": "Router(config-line)#"}, {"type": "type", "q": "Create user 'netadmin' priv 15 secret 'Pass1':", "answer": ["username netadmin privilege 15 secret Pass1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Verify SSH sessions:", "answer": ["show ssh", "sh ssh"], "prompt": "Router#"}, {"type": "type", "q": "Check SSH config:", "answer": ["show ip ssh", "sh ip ssh"], "prompt": "Router#"}]}, {"title": "Save & Manage Config", "content": "<h3>Configuration Management ‚Äî Save or Lose Everything</h3>\n<p>This might be the most important concept for beginners: <strong>Cisco devices have TWO configurations</strong>, and if you don't understand the difference, you WILL lose hours of work.</p>\n\n<div class=\"cli\"><span class=\"k\">running-config</span> (RAM)\n  The ACTIVE configuration. Every command you type goes here.\n  This is what the device is CURRENTLY doing.\n  <strong>Volatile ‚Äî destroyed on reboot or power loss!</strong>\n\n<span class=\"k\">startup-config</span> (NVRAM)\n  The SAVED configuration. Loads into RAM when device boots.\n  <strong>Non-volatile ‚Äî survives reboot.</strong>\n  Only updates when YOU explicitly copy running to startup.</div>\n\n<h3>Saving Configuration</h3>\n<div class=\"cli\"><span class=\"k\">Two ways to save (they're identical):</span>\n<span class=\"p\">Router#</span> <span class=\"k\">copy running-config startup-config</span>    Full command\n<span class=\"p\">Router#</span> <span class=\"k\">write memory</span>                            Short version\n<span class=\"p\">Router#</span> <span class=\"k\">wr</span>                                      Shortest (most common)\n\n<span class=\"k\">Erasing configuration:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">write erase</span>         Deletes startup-config\n<span class=\"p\">Router#</span> <span class=\"k\">reload</span>              Reboot (now boots with no config)\n\n<span class=\"k\">Running show commands from config mode:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">do show ip int br</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">do show run</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">do wr</span>    ‚Üê Save from config mode!</div>\n\n<h3>The Reboot Nightmare Scenario</h3>\n<p>You spend 2 hours configuring OSPF, VLANs, ACLs, and NAT. Everything works. The power goes out. The device reboots. <strong>If you never ran <code>wr</code>, ALL of that is gone.</strong> The device loads the old startup-config (or no config at all).</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Save early, save often.</strong> After every significant change, run <code>wr</code>. Some engineers save after every change. There's no downside to saving too often ‚Äî but losing 2 hours of work is painful.</div>", "questions": [{"type": "type", "q": "Save (shortest):", "answer": ["wr", "write", "write memory"], "prompt": "Router#"}, {"type": "type", "q": "Save (full):", "answer": ["copy running-config startup-config", "copy run start"], "prompt": "Router#"}, {"type": "type", "q": "Erase startup:", "answer": ["write erase", "wr erase"], "prompt": "Router#"}, {"type": "type", "q": "Reboot:", "answer": ["reload"], "prompt": "Router#"}, {"type": "type", "q": "'show ip int br' from config:", "answer": ["do show ip interface brief", "do sh ip int br"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Running-config location?", "options": ["NVRAM", "Flash", "RAM", "ROM"], "answer": 2, "explain": "RAM, lost on reboot."}]}]}, {"id": "interfaces", "title": "Interface Configuration", "desc": "Assign IPs, status codes, speed/duplex.", "icon": "üîå", "tier": "Beginner", "lessons": [{"title": "Router Interface Config", "content": "<h3>Router Interface Configuration</h3>\n<p>Interfaces are where packets enter and leave a router. Each interface needs an IP address (its identity on that network) and must be administratively enabled. On Cisco routers, <strong>all interfaces are shut down by default</strong> ‚Äî you must explicitly bring them up.</p>\n\n<h3>Basic Interface Configuration</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">interface GigabitEthernet0/0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">description ## Uplink to Core Switch ##</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip address 192.168.1.1 255.255.255.0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">no shutdown</span>\n\n<span class=\"k\">Interface naming:</span>\nGigabitEthernet0/0    or Gi0/0    (1 Gbps)\nFastEthernet0/1       or Fa0/1    (100 Mbps)\nSerial0/0/0           or Se0/0/0  (WAN serial)\nLoopback0             or Lo0      (virtual, always up)\nVlan10                             (SVI on L3 switch)\n\n<span class=\"k\">Descriptions are optional but CRITICAL for operations.</span>\nWhen you see 50 interfaces, descriptions tell you:\n\"## Uplink to Core ##\" vs \"## User VLAN 10 ##\"\nWithout them, you're guessing which cable goes where.</div>\n\n<h3>Loopback Interfaces</h3>\n<p>A loopback is a <strong>virtual interface</strong> that never goes down (no physical cable to fail). It's used for router IDs (OSPF, BGP), management access, and testing. You can create as many as you need.</p>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">interface Loopback0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip address 1.1.1.1 255.255.255.255</span>\n<span class=\"c\">// /32 mask = single host. Standard for loopbacks.</span></div>\n\n<div class=\"kp\">üí° <strong>Use loopback IPs as OSPF/BGP router-IDs.</strong> Physical interfaces can go down, changing the router-ID and disrupting routing. Loopbacks are always up, providing a stable identity.</div>", "questions": [{"type": "type", "q": "Enter Gi0/1:", "answer": ["interface GigabitEthernet0/1", "int gi0/1", "int g0/1", "interface gi0/1"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 10.0.0.1/24:", "answer": ["ip address 10.0.0.1 255.255.255.0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "IP 172.16.1.1/30:", "answer": ["ip address 172.16.1.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Bring up:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Description 'WAN Link':", "answer": ["description WAN Link"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Create Loopback0:", "answer": ["interface Loopback0", "int loopback0", "int lo0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Shut down an interface:", "answer": ["shutdown", "shut"], "prompt": "Router(config-if)#"}]}, {"title": "Status Codes", "content": "<h3>Interface Status Codes ‚Äî Read Them Like a Book</h3>\n<p>When you run <code>show ip interface brief</code>, every interface shows two status fields: <strong>Status</strong> (Layer 1/Physical) and <strong>Protocol</strong> (Layer 2/Data Link). Together they tell you exactly what's wrong.</p>\n\n<div class=\"cli\"><span class=\"k\">Status        Protocol     Meaning</span>\nup            up           ‚úÖ Working perfectly\nup            down         L1 physical ok, L2 problem (encap, keepalives, speed/duplex mismatch, no remote end on serial)\ndown          down         No cable, cable bad, or remote end is shut down. Also: no SFP module in a fiber port\nadministratively down      Someone typed \"shutdown\" ‚Äî deliberately disabled\nerr-disabled  err-disabled Security violation! Port-security, BPDU guard, or other protection feature killed this port</div>\n\n<h3>Troubleshooting by Status</h3>\n<div class=\"cli\"><span class=\"k\">admin down ‚Üí </span>Did someone intentionally shut it? Check with\n  show run interface [name]. Fix: no shutdown\n\n<span class=\"k\">down/down ‚Üí </span>Physical problem. Check:\n  - Is the cable plugged in on both ends?\n  - Is the other end powered on?\n  - Try a different cable / different port\n  - For fiber: check SFP module, check light levels\n\n<span class=\"k\">up/down ‚Üí </span>Layer 2 issue. Check:\n  - Speed/duplex mismatch (both ends should match or auto)\n  - Wrong encapsulation (serial links: PPP vs HDLC)\n  - Clock rate missing on DCE serial interface\n\n<span class=\"k\">err-disabled ‚Üí </span>Security violation. Check:\n  - show interfaces status err-disabled (what caused it?)\n  - show port-security interface [name]\n  - Fix: shut / no shut (after fixing root cause)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>err-disabled doesn't fix itself</strong> by default. You must manually bounce the port (shut / no shut) after addressing the root cause. Or configure auto-recovery: <code>errdisable recovery cause [reason]</code></div>", "questions": [{"type": "choice", "q": "'admin down' means?", "options": ["Cable out", "shutdown cmd", "L2 error", "Port security"], "answer": 1, "explain": "Someone ran 'shutdown'."}, {"type": "choice", "q": "up/down likely?", "options": ["IP conflict", "L2 problem", "Wrong mask", "DNS"], "answer": 1, "explain": "Physical ok, L2 negotiation failed."}, {"type": "type", "q": "Show port status/speed/VLAN:", "answer": ["show interfaces status", "sh int status", "show int status"], "prompt": "Switch#"}, {"type": "type", "q": "Detailed stats on specific port:", "answer": ["show interfaces GigabitEthernet0/1", "sh int gi0/1", "show int gi0/1"], "prompt": "Router#"}]}, {"title": "Speed & Duplex", "content": "<h3>Speed, Duplex & Error Analysis</h3>\n<p>Speed and duplex mismatches are one of the most common causes of poor network performance. When two devices disagree on how fast they should communicate or whether they can send and receive simultaneously, bad things happen.</p>\n\n<div class=\"cli\"><span class=\"k\">Speed:</span> How fast (10/100/1000 Mbps)\n<span class=\"k\">Duplex:</span> Can both sides talk simultaneously?\n  Full-duplex: Send AND receive at the same time (normal)\n  Half-duplex: Take turns (causes collisions, terrible perf)\n\n<span class=\"k\">Best practice:</span> Let both sides auto-negotiate.\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">speed auto</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">duplex auto</span>\n\n<span class=\"k\">Manual override (when needed):</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">speed 1000</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">duplex full</span></div>\n\n<h3>Reading Interface Errors</h3>\n<p>The <code>show interfaces</code> command shows detailed error counters. Each type of error points to a specific problem:</p>\n<div class=\"cli\"><span class=\"k\">Error Type    Cause                          Fix</span>\nCRC errors    Bad cable or connector          Replace cable\nRunts         Frames too small (< 64 bytes)   Usually collisions\nGiants        Frames too large (> 1518 bytes) MTU mismatch, check jumbo frames\nCollisions    Duplex mismatch                 Set both sides to full-duplex\nLate collis.  Cable too long (>100m copper)   Shorten run or use fiber\nInput errors  Combination of above            Check each sub-counter\nOutput drops  Congestion / queue overflow     QoS or upgrade bandwidth</div>\n\n<div class=\"kp\">üí° <strong>The duplex mismatch trap:</strong> If one side is set to auto and the other is hard-coded to full/1000, auto-negotiation may fail. The auto side falls back to half-duplex, causing collisions and terrible performance. Always match settings on both sides.</div>", "questions": [{"type": "type", "q": "Set speed 100:", "answer": ["speed 100"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Set full duplex:", "answer": ["duplex full"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Set auto speed:", "answer": ["speed auto"], "prompt": "Switch(config-if)#"}, {"type": "choice", "q": "CRC errors = ?", "options": ["Software", "Bad cable", "IP conflict", "MTU"], "answer": 1, "explain": "Physical layer: cables/connectors."}, {"type": "choice", "q": "Collisions on modern net = ?", "options": ["Loop", "Duplex mismatch", "Wrong VLAN", "Bad IP"], "answer": 1, "explain": "One side half, other full."}]}]}, {"id": "arp_mac", "title": "ARP, MAC & Switching", "desc": "How devices find each other.", "icon": "üì°", "tier": "Beginner", "lessons": [{"title": "ARP & MAC Tables", "content": "<h3>ARP & MAC Tables ‚Äî How Devices Find Each Other</h3>\n<p>When your computer wants to send data to another device on the same network, it needs two addresses: the <strong>IP address</strong> (Layer 3, logical) and the <strong>MAC address</strong> (Layer 2, physical/hardware). ARP bridges these two worlds.</p>\n\n<h3>ARP ‚Äî Address Resolution Protocol</h3>\n<div class=\"cli\"><span class=\"k\">The Problem:</span>\nYour PC knows it needs to reach 192.168.1.1 (the gateway).\nBut Ethernet frames need a destination MAC address, not IP.\nYour PC doesn't know the gateway's MAC address yet.\n\n<span class=\"k\">The Solution (ARP):</span>\n1. PC broadcasts: \"Who has 192.168.1.1? Tell 192.168.1.10\"\n   (This broadcast goes to every device on the subnet)\n2. Router responds: \"192.168.1.1 is at MAC aa:bb:cc:dd:ee:ff\"\n3. PC caches this in its ARP table for future use\n4. PC builds Ethernet frame with destination MAC and sends it\n\n<span class=\"k\">ARP Cache:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip arp</span>\n  Shows IP ‚Üí MAC mappings the router has learned.\n  Entries timeout after ~4 hours (varies by platform).\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip arp</span>\n  Flush the cache (forces re-learning via ARP).</div>\n\n<h3>MAC Address Table (Switches)</h3>\n<div class=\"cli\"><span class=\"k\">How switches learn:</span>\n1. Frame arrives on port Fa0/1 with source MAC aa:bb:cc:11:22:33\n2. Switch records: \"MAC aa:bb:cc:11:22:33 is on port Fa0/1\"\n3. When a frame arrives for that destination MAC, switch sends\n   it ONLY to Fa0/1 (not flooded to all ports like a hub)\n\n<span class=\"p\">Switch#</span> <span class=\"k\">show mac address-table</span>\n  Shows MAC ‚Üí Port mappings.\n  Dynamic entries age out after 300 seconds (5 min default).\n<span class=\"p\">Switch#</span> <span class=\"k\">clear mac address-table dynamic</span>\n  Flush dynamic entries (forces re-learning).</div>\n\n<div class=\"kp\">üí° <strong>Unknown unicast flooding:</strong> If a switch receives a frame for a MAC not in its table, it floods the frame to ALL ports (except the one it came in on). This is normal for the first frame ‚Äî subsequent frames are forwarded directly.</div>", "questions": [{"type": "type", "q": "View ARP:", "answer": ["show ip arp", "sh ip arp"], "prompt": "Router#"}, {"type": "type", "q": "View MAC table:", "answer": ["show mac address-table", "sh mac address-table"], "prompt": "Switch#"}, {"type": "type", "q": "Clear ARP:", "answer": ["clear ip arp", "clear arp"], "prompt": "Router#"}, {"type": "type", "q": "Clear dynamic MACs:", "answer": ["clear mac address-table dynamic"], "prompt": "Switch#"}, {"type": "choice", "q": "ARP resolves?", "options": ["MAC>IP", "IP>MAC", "Name>IP", "IP>name"], "answer": 1, "explain": "IP to MAC for local delivery."}, {"type": "choice", "q": "Switches learn MACs how?", "options": ["Manual", "Read source MAC of incoming frames", "DHCP", "ARP"], "answer": 1, "explain": "Source MAC + ingress port = table entry."}]}]}, {"id": "basic_tshoot", "title": "Basic Connectivity Testing", "desc": "Ping, traceroute, and first troubleshooting steps.", "icon": "üîç", "tier": "Beginner", "lessons": [{"title": "Ping & Traceroute", "content": "<h3>Ping & Traceroute ‚Äî Your First Troubleshooting Tools</h3>\n<p>Before diving into complex debugging, always start with <strong>ping</strong> (can I reach it?) and <strong>traceroute</strong> (what path do packets take?). These two commands answer 80% of connectivity questions.</p>\n\n<h3>Ping (ICMP Echo Request/Reply)</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">ping 192.168.1.1</span>\n<span class=\"o\">!!!!!  ‚Üê 5 successes</span>\n\n<span class=\"k\">Symbols:</span>\n!  Success ‚Äî reply received\n.  Timeout ‚Äî no reply (packet lost or blocked)\nU  Unreachable ‚Äî a router explicitly said \"can't get there\"\n\n<span class=\"k\">Source-specific ping</span> (critical for troubleshooting!):\n<span class=\"p\">Router#</span> <span class=\"k\">ping 10.0.0.1 source Loopback0</span>\n  Tests reachability FROM a specific interface/IP.\n  If ping works from Gi0/0 but fails from Loopback0,\n  the remote side doesn't have a route back to your loopback.\n\n<span class=\"k\">Extended ping</span> (interactive mode):\n<span class=\"p\">Router#</span> <span class=\"k\">ping</span>\n  Lets you set: repeat count, datagram size, timeout,\n  source interface, and more. Use large sizes (1500+)\n  to test MTU issues.</div>\n\n<h3>Traceroute</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">traceroute 172.16.1.1</span>\n  Shows every router hop between you and the destination.\n  Each hop shows the IP and round-trip time.\n  * * * means that hop didn't respond (often filtered by ACL).\n\n<span class=\"k\">Reading traceroute:</span>\n1  192.168.1.1    1 ms  ‚Üê Your gateway\n2  10.0.0.1       4 ms  ‚Üê Next router\n3  172.16.0.1     8 ms  ‚Üê Getting closer\n4  172.16.1.1    12 ms  ‚Üê Destination reached!</div>\n\n<h3>Troubleshooting Methodology</h3>\n<div class=\"cli\"><span class=\"k\">1. Can I ping my own interface?</span> ‚Üí Tests my local IP stack\n<span class=\"k\">2. Can I ping my gateway?</span> ‚Üí Tests L1/L2 to the next hop\n<span class=\"k\">3. Can I ping the destination?</span> ‚Üí Tests end-to-end routing\n<span class=\"k\">4. Can I ping from the SOURCE the user is using?</span>\n   ‚Üí Use \"ping [dest] source [int]\" to test specific paths</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>First ping often fails (.!!!!)</strong> ‚Äî that first timeout is the ARP resolution happening. The router doesn't have the next-hop's MAC yet, so the first packet gets dropped while ARP resolves. This is NORMAL.</div>", "questions": [{"type": "type", "q": "Ping 10.0.0.1:", "answer": ["ping 10.0.0.1"], "prompt": "Router#"}, {"type": "type", "q": "Ping from Loopback0:", "answer": ["ping 10.0.0.1 source Loopback0", "ping 10.0.0.1 source lo0"], "prompt": "Router#"}, {"type": "type", "q": "Traceroute to 172.16.1.1:", "answer": ["traceroute 172.16.1.1"], "prompt": "Router#"}, {"type": "choice", "q": "'!' in ping = ?", "options": ["Fail", "Success", "Timeout", "Unreachable"], "answer": 1, "explain": "! = reply received."}, {"type": "choice", "q": "'.' in ping = ?", "options": ["Success", "Timeout", "DNS fail", "MTU exceeded"], "answer": 1, "explain": ". = timeout, no reply."}, {"type": "choice", "q": "'U' in ping = ?", "options": ["Success", "Timeout", "Unreachable", "Unknown"], "answer": 2, "explain": "U = ICMP unreachable received."}]}, {"title": "Basic Troubleshooting Steps", "content": "<h3>Systematic Troubleshooting ‚Äî The Bottom-Up Method</h3>\n<p>When something doesn't work, resist the urge to randomly change things. Follow a <strong>structured approach</strong> starting from the physical layer up. Most problems are at Layer 1 (someone unplugged something) or Layer 3 (routing/IP issue).</p>\n\n<h3>The Bottom-Up Approach</h3>\n<div class=\"cli\"><span class=\"k\">Layer 1 (Physical):</span>\n  ‚ñ° Is the link light on? Green = good, Amber = error, Off = bad\n  ‚ñ° Is the cable firmly seated on both ends?\n  ‚ñ° show interfaces [name] ‚Äî look for CRC errors, runts\n  ‚ñ° show interfaces status ‚Äî speed/duplex correct?\n\n<span class=\"k\">Layer 2 (Data Link):</span>\n  ‚ñ° show interfaces status ‚Äî err-disabled? Wrong VLAN?\n  ‚ñ° show mac address-table ‚Äî does the switch see the device?\n  ‚ñ° show vlan brief ‚Äî is the port in the right VLAN?\n  ‚ñ° show spanning-tree ‚Äî is the port in forwarding state?\n\n<span class=\"k\">Layer 3 (Network):</span>\n  ‚ñ° show ip interface brief ‚Äî IP assigned? Interface up/up?\n  ‚ñ° ping [gateway] ‚Äî can I reach my default gateway?\n  ‚ñ° show ip route ‚Äî do I have a route to the destination?\n  ‚ñ° ping [destination] ‚Äî can I reach the target?\n  ‚ñ° traceroute [destination] ‚Äî where does it fail?\n\n<span class=\"k\">Layer 4+ (Transport/Application):</span>\n  ‚ñ° show access-lists ‚Äî is an ACL blocking traffic?\n  ‚ñ° show ip nat translations ‚Äî NAT working?\n  ‚ñ° Is the service actually running on the destination?</div>\n\n<h3>Common Quick Wins</h3>\n<div class=\"cli\"><span class=\"k\">Problem                          Likely Cause</span>\nCan't ping gateway               Wrong IP/mask, wrong VLAN, cable\nCan ping gateway, not server     Missing route, ACL blocking\nIntermittent connectivity        Duplex mismatch, bad cable\nPC gets 169.254.x.x              DHCP not working\n\"admin down\" on interface        Someone ran \"shutdown\"\n\"err-disabled\" on port           Port-security or BPDU guard violation</div>\n\n<div class=\"kp\">üí° <strong>The single most useful command:</strong> <code>show ip interface brief</code>. Run it first, every time. It immediately shows which interfaces are up, which are down, and which have IP addresses.</div>", "questions": [{"type": "type", "q": "First thing - check all interfaces:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}, {"type": "type", "q": "Check default gateway route:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "Check if ACLs are blocking:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "choice", "q": "Start troubleshooting at?", "options": ["Layer 7", "Layer 4", "Layer 3", "Layer 1 (Physical)"], "answer": 3, "explain": "Always check physical first."}, {"type": "choice", "q": "Can ping gateway but not server. Issue is?", "options": ["Local config", "Routing or remote network", "Physical cable", "ARP"], "answer": 1, "explain": "If gateway works, problem is upstream routing or remote side."}]}]}, {"id": "beg_drill1", "title": "CLI Drill: Setup Sprint", "desc": "Type full device setup sequences from memory.", "icon": "‚å®Ô∏è", "tier": "Beginner", "lessons": [{"title": "Full Device Setup", "content": "<h3>Device Setup Sequence</h3><p>Setting up a Cisco device from scratch follows a specific order. Miss a step and SSH won't work, passwords won't stick, or your config disappears on reboot.</p><div class=\"cli\"><span class=\"k\">Setup Order:</span>\n1. <span class=\"k\">hostname</span>        ‚Üí Identity (required for SSH)\n2. <span class=\"k\">enable secret</span>   ‚Üí Protect priv mode (MD5 hash)\n3. <span class=\"k\">service password-encryption</span> ‚Üí Encrypt Type 7\n4. <span class=\"k\">ip domain-name</span>  ‚Üí Required for RSA key generation\n5. <span class=\"k\">crypto key generate rsa</span> ‚Üí Creates SSH keys\n6. <span class=\"k\">username + secret</span> ‚Üí Local user account\n7. <span class=\"k\">line vty 0 4</span>    ‚Üí Remote access config\n8. <span class=\"k\">transport input ssh</span> ‚Üí SSH only (no Telnet!)\n9. <span class=\"k\">login local</span>     ‚Üí Use local database\n10. <span class=\"k\">write memory</span>   ‚Üí SAVE or you lose everything</div><div class=\"wb\">&#x26A0;&#xFE0F; SSH requires THREE things: a hostname, a domain name, AND RSA keys. Missing any one = SSH won't generate.</div>", "questions": [{"type": "type", "q": "Set hostname DIST-SW01:", "answer": ["hostname DIST-SW01"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set enable secret 'C!sc0Lab':", "answer": ["enable secret C!sc0Lab"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Encrypt passwords:", "answer": ["service password-encryption"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set domain name 'corp.net':", "answer": ["ip domain-name corp.net", "ip domain name corp.net"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Generate RSA 2048:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "Switch(config)#"}, {"type": "type", "q": "SSH version 2:", "answer": ["ip ssh version 2"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Create user 'admin' priv 15 secret 'Adm!n1':", "answer": ["username admin privilege 15 secret Adm!n1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Enter VTY 0-15:", "answer": ["line vty 0 15"], "prompt": "Switch(config)#"}, {"type": "type", "q": "SSH only:", "answer": ["transport input ssh"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Local auth:", "answer": ["login local"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Timeout 10 min:", "answer": ["exec-timeout 10 0", "exec-timeout 10"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Console line:", "answer": ["line console 0", "line con 0"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Log sync:", "answer": ["logging synchronous"], "prompt": "Switch(config-line)#"}, {"type": "type", "q": "Banner:", "answer": ["banner motd #", "banner motd # AUTHORIZED ACCESS ONLY #"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Save config:", "answer": ["wr", "write memory", "copy running-config startup-config"], "prompt": "Switch#"}]}, {"title": "Interface Speed Run", "content": "<h3>Interface Configuration Essentials</h3><p>Every interface needs at minimum an IP address and <code>no shutdown</code>. Interfaces are <strong>administratively down</strong> by default on routers.</p><div class=\"cli\"><span class=\"k\">Router Interface:</span>\ninterface GigabitEthernet0/0\n ip address 10.0.0.1 255.255.255.0\n description ## WAN Uplink ##\n no shutdown\n\n<span class=\"k\">Switch Access Port:</span>\ninterface FastEthernet0/1\n switchport mode access\n switchport access vlan 10\n spanning-tree portfast\n\n<span class=\"k\">Status Codes:</span>\nup/up         = Working perfectly\nup/down       = L1 ok, L2 problem (encap/speed)\ndown/down     = No cable or remote end down\nadmin down    = \"shutdown\" command applied\nerr-disabled  = Security violation (port-security, BPDU guard)</div><div class=\"kp\">&#x1F4A1; <strong>show ip interface brief</strong> shows all interfaces in one view. <strong>show interfaces status</strong> (switch only) shows speed/duplex/VLAN.</div>", "questions": [{"type": "type", "q": "Enter Gi0/0:", "answer": ["interface GigabitEthernet0/0", "int gi0/0", "int g0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 10.10.10.1/24:", "answer": ["ip address 10.10.10.1 255.255.255.0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "No shut:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter Gi0/1:", "answer": ["interface GigabitEthernet0/1", "int gi0/1", "int g0/1"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 172.16.1.1/30:", "answer": ["ip address 172.16.1.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "No shut:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter Loopback0:", "answer": ["interface Loopback0", "int loopback0", "int lo0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 1.1.1.1/32:", "answer": ["ip address 1.1.1.1 255.255.255.255"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enter Se0/0/0:", "answer": ["interface Serial0/0/0", "int se0/0/0", "int s0/0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 192.168.100.1/30:", "answer": ["ip address 192.168.100.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check all interfaces:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}]}]}, {"id": "beg_drill2", "title": "CLI Drill: Show Command Blitz", "desc": "Show commands until they're automatic.", "icon": "üîé", "tier": "Beginner", "lessons": [{"title": "Router Show Commands", "content": "<h3>Router Verification Commands</h3><p>These are the commands every network engineer types dozens of times a day. Master them so they become muscle memory.</p><div class=\"cli\"><span class=\"k\">Command                    Purpose</span>\nshow ip interface brief     All IPs + up/down status\nshow running-config         What's running NOW (RAM)\nshow startup-config         What loads on boot (NVRAM)\nshow version                IOS version, uptime, hardware\nshow ip route               How packets get forwarded\nshow interfaces             Errors, CRC, collisions, drops\nshow access-lists           ACL rules + hit counters\nshow ip ospf neighbor       OSPF adjacency status\nshow ip nat translations    Active NAT/PAT table\nshow ip dhcp binding        DHCP leases issued\nshow clock                  Current device time\nshow logging                Recent syslog messages</div><div class=\"kp\">&#x1F4A1; Use <code>do show ip int br</code> from config mode to check interfaces without leaving config.</div>", "questions": [{"type": "type", "q": "Interface overview:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}, {"type": "type", "q": "Full config:", "answer": ["show running-config", "sh run"], "prompt": "Router#"}, {"type": "type", "q": "Saved config:", "answer": ["show startup-config", "sh start"], "prompt": "Router#"}, {"type": "type", "q": "Routing table:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "IOS version:", "answer": ["show version", "sh ver"], "prompt": "Router#"}, {"type": "type", "q": "Interface errors:", "answer": ["show interfaces", "sh int"], "prompt": "Router#"}, {"type": "type", "q": "ARP cache:", "answer": ["show ip arp", "sh ip arp"], "prompt": "Router#"}, {"type": "type", "q": "Time:", "answer": ["show clock", "sh clock"], "prompt": "Router#"}, {"type": "type", "q": "OSPF neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "ACLs with counts:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "NAT translations:", "answer": ["show ip nat translations", "sh ip nat translations"], "prompt": "Router#"}, {"type": "type", "q": "DHCP leases:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}, {"type": "type", "q": "Flash contents:", "answer": ["show flash:", "show flash", "dir flash:"], "prompt": "Router#"}, {"type": "type", "q": "Running protocols:", "answer": ["show ip protocols", "sh ip protocols"], "prompt": "Router#"}, {"type": "type", "q": "CPU usage:", "answer": ["show processes cpu", "sh proc cpu"], "prompt": "Router#"}]}, {"title": "Switch Show Commands", "content": "<h3>Switch Verification Commands</h3><p>Switches add L2-specific commands for VLANs, trunks, MAC tables, and STP that routers don't have.</p><div class=\"cli\"><span class=\"k\">Command                          Purpose</span>\nshow vlan brief                   VLAN list + port assignments\nshow interfaces trunk             Trunks, allowed/native VLANs\nshow mac address-table            Learned MAC-to-port mappings\nshow spanning-tree                STP root, port roles/states\nshow port-security                Port security violations\nshow etherchannel summary         Port-channel bundle status\nshow cdp neighbors                Directly connected devices\nshow interfaces status            Speed/duplex/VLAN per port\nshow vtp status                   VTP mode, revision, domain\nshow interfaces status err-disabled  Security-disabled ports</div><div class=\"kp\">&#x1F4A1; <strong>show int status</strong> is the single best switch command ‚Äî shows speed, duplex, VLAN, and link state for every port at once.</div>", "questions": [{"type": "type", "q": "VLAN assignments:", "answer": ["show vlan brief", "sh vlan br"], "prompt": "Switch#"}, {"type": "type", "q": "Trunk status:", "answer": ["show interfaces trunk", "sh int trunk"], "prompt": "Switch#"}, {"type": "type", "q": "MAC table:", "answer": ["show mac address-table", "sh mac address-table"], "prompt": "Switch#"}, {"type": "type", "q": "STP info:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Port security:", "answer": ["show port-security", "sh port-security"], "prompt": "Switch#"}, {"type": "type", "q": "Port status/speed/VLAN:", "answer": ["show interfaces status", "sh int status"], "prompt": "Switch#"}, {"type": "type", "q": "CDP neighbors:", "answer": ["show cdp neighbors", "sh cdp nei"], "prompt": "Switch#"}, {"type": "type", "q": "EtherChannel:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}, {"type": "type", "q": "VTP status:", "answer": ["show vtp status", "sh vtp status"], "prompt": "Switch#"}, {"type": "type", "q": "Err-disabled ports:", "answer": ["show interfaces status err-disabled", "sh int status err-disabled"], "prompt": "Switch#"}]}]}, {"id": "drill_ports", "title": "Port Number Drills", "desc": "Type port numbers until you dream them.", "icon": "üéØ", "tier": "Beginner", "lessons": [{"title": "Drill: Common Ports A", "content": "<h3>Critical Port Numbers</h3><p>Network services listen on specific port numbers. You <strong>must</strong> memorize these ‚Äî they show up in ACLs, firewall rules, NAT configs, and troubleshooting every day.</p><div class=\"cli\"><span class=\"k\">Port  Proto  Service        Why You Care</span>\n20    TCP    FTP Data       File transfers (data channel)\n21    TCP    FTP Control    File transfers (commands)\n22    TCP    SSH            Secure remote access (ALWAYS use this)\n23    TCP    Telnet         Remote access (NEVER use - plaintext!)\n25    TCP    SMTP           Sending email\n53    Both   DNS            Name resolution (UDP queries, TCP zone xfer)\n67    UDP    DHCP Server    Server listens here\n68    UDP    DHCP Client    Client listens here</div><div class=\"kp\">&#x1F4A1; <strong>Well-known ports</strong> = 0-1023. <strong>Registered</strong> = 1024-49151. <strong>Dynamic/Ephemeral</strong> = 49152-65535.</div><div class=\"wb\">&#x26A0;&#xFE0F; If you see port 23 open on a device, that's a security finding. SSH (22) should replace Telnet everywhere.</div>", "questions": [{"type": "type", "q": "SSH port:", "answer": ["22"], "prompt": "Port>"}, {"type": "type", "q": "Telnet port:", "answer": ["23"], "prompt": "Port>"}, {"type": "type", "q": "HTTP port:", "answer": ["80"], "prompt": "Port>"}, {"type": "type", "q": "HTTPS port:", "answer": ["443"], "prompt": "Port>"}, {"type": "type", "q": "DNS port:", "answer": ["53"], "prompt": "Port>"}, {"type": "type", "q": "FTP data port:", "answer": ["20"], "prompt": "Port>"}, {"type": "type", "q": "FTP control port:", "answer": ["21"], "prompt": "Port>"}, {"type": "type", "q": "SMTP port:", "answer": ["25"], "prompt": "Port>"}, {"type": "type", "q": "DHCP server port:", "answer": ["67"], "prompt": "Port>"}, {"type": "type", "q": "DHCP client port:", "answer": ["68"], "prompt": "Port>"}]}, {"title": "Drill: Common Ports B", "content": "<h3>More Essential Ports</h3><p>These appear less often but are critical for monitoring, management, and troubleshooting.</p><div class=\"cli\"><span class=\"k\">Port  Proto  Service        Why You Care</span>\n69    UDP    TFTP           Simple file xfer (IOS upgrades, no auth!)\n110   TCP    POP3           Receive email (downloads to client)\n123   UDP    NTP            Time sync (critical for logs & certs)\n143   TCP    IMAP           Receive email (stays on server)\n161   UDP    SNMP           Network monitoring (polling)\n162   UDP    SNMP Traps     Network monitoring (alerts TO server)\n389   TCP    LDAP           Directory services (Active Directory)\n443   TCP    HTTPS          Secure web traffic\n514   UDP    Syslog         Centralized logging\n3389  TCP    RDP            Windows Remote Desktop</div><div class=\"kp\">&#x1F4A1; <strong>SNMP 161</strong> = you poll the device. <strong>SNMP 162</strong> = device sends alerts to you. Know the difference!</div>", "questions": [{"type": "type", "q": "TFTP port:", "answer": ["69"], "prompt": "Port>"}, {"type": "type", "q": "SNMP port:", "answer": ["161"], "prompt": "Port>"}, {"type": "type", "q": "SNMP trap port:", "answer": ["162"], "prompt": "Port>"}, {"type": "type", "q": "Syslog port:", "answer": ["514"], "prompt": "Port>"}, {"type": "type", "q": "RDP port:", "answer": ["3389"], "prompt": "Port>"}, {"type": "type", "q": "LDAP port:", "answer": ["389"], "prompt": "Port>"}, {"type": "type", "q": "POP3 port:", "answer": ["110"], "prompt": "Port>"}, {"type": "type", "q": "IMAP port:", "answer": ["143"], "prompt": "Port>"}, {"type": "type", "q": "NTP port:", "answer": ["123"], "prompt": "Port>"}, {"type": "type", "q": "TACACS+ port:", "answer": ["49"], "prompt": "Port>"}]}]}, {"id": "drill_show", "title": "Show Command Drills", "desc": "Type every show command from memory.", "icon": "üéØ", "tier": "Beginner", "lessons": [{"title": "Drill: Router Show Commands", "content": "<h3>Router Show Commands Reference</h3><p>These are the commands you'll type hundreds of times a day. Every troubleshooting session starts with show commands to understand the current state before making changes.</p><div class=\"cli\"><span class=\"k\">Command                    What It Shows</span>\nshow ip interface brief     All interfaces: IP, status, protocol\nshow running-config         Active config in RAM (what's running NOW)\nshow startup-config         Saved config in NVRAM (loads on boot)\nshow version                IOS version, uptime, hardware, license\nshow ip route               Full routing table (how packets get forwarded)\nshow access-lists           All ACLs with match counters\nshow ip arp                 ARP cache (IP-to-MAC mappings)\nshow ip ospf neighbor       OSPF adjacencies and states\nshow ip nat translations    Active NAT/PAT mappings\nshow ip dhcp binding        DHCP leases assigned</div><div class=\"kp\">&#x1F4A1; <strong>Pro tip:</strong> Always check <code>show ip int br</code> first. It tells you instantly which interfaces are up, down, or missing IPs.</div>", "questions": [{"type": "type", "q": "All interface IPs and status:", "answer": ["show ip interface brief", "sh ip int br"], "prompt": "Router#"}, {"type": "type", "q": "Full active configuration:", "answer": ["show running-config", "sh run"], "prompt": "Router#"}, {"type": "type", "q": "Saved configuration:", "answer": ["show startup-config", "sh start"], "prompt": "Router#"}, {"type": "type", "q": "IOS version and uptime:", "answer": ["show version", "sh ver"], "prompt": "Router#"}, {"type": "type", "q": "IP routing table:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "All ACLs with counters:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "ARP cache:", "answer": ["show ip arp", "sh ip arp"], "prompt": "Router#"}, {"type": "type", "q": "OSPF neighbor list:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "NAT translations:", "answer": ["show ip nat translations", "sh ip nat trans"], "prompt": "Router#"}, {"type": "type", "q": "DHCP leases:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}]}, {"title": "Drill: Switch Show Commands", "content": "<h3>Switch-Specific Show Commands</h3><p>Switches have unique show commands for VLANs, trunking, spanning tree, and port security that routers don't have.</p><div class=\"cli\"><span class=\"k\">Command                          What It Shows</span>\nshow vlan brief                   VLAN IDs, names, port assignments\nshow interfaces trunk             Trunk ports, allowed/native VLANs\nshow mac address-table            Learned MAC addresses per port\nshow spanning-tree                STP root, port roles, states\nshow port-security                Security status per port\nshow etherchannel summary         Port-channel bundle status\nshow cdp neighbors                Directly connected Cisco devices\nshow interfaces status            Speed/duplex/VLAN per port\nshow vtp status                   VTP mode, domain, revision\nshow interfaces status err-disabled  Ports shut down by security</div><div class=\"kp\">&#x1F4A1; <strong>show int status</strong> is your best friend on switches. Shows speed, duplex, VLAN, and status of every port in one view.</div>", "questions": [{"type": "type", "q": "VLAN assignments:", "answer": ["show vlan brief", "sh vlan br"], "prompt": "Switch#"}, {"type": "type", "q": "Trunk ports and allowed VLANs:", "answer": ["show interfaces trunk", "sh int trunk"], "prompt": "Switch#"}, {"type": "type", "q": "MAC address table:", "answer": ["show mac address-table", "sh mac address-table"], "prompt": "Switch#"}, {"type": "type", "q": "STP status:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Port security all ports:", "answer": ["show port-security", "sh port-security"], "prompt": "Switch#"}, {"type": "type", "q": "EtherChannel status:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}, {"type": "type", "q": "CDP neighbors:", "answer": ["show cdp neighbors", "sh cdp nei"], "prompt": "Switch#"}, {"type": "type", "q": "Port speed/duplex/VLAN status:", "answer": ["show interfaces status", "sh int status"], "prompt": "Switch#"}, {"type": "type", "q": "VTP status:", "answer": ["show vtp status", "sh vtp status"], "prompt": "Switch#"}, {"type": "type", "q": "Err-disabled ports:", "answer": ["show interfaces status err-disabled", "sh int status err-disabled"], "prompt": "Switch#"}]}]}, {"id": "drill_setup", "title": "Device Setup Speed Run", "desc": "Configure a device from scratch - fastest time wins.", "icon": "‚è±Ô∏è", "tier": "Beginner", "lessons": [{"title": "Full Router Setup", "content": "<h3>Router Initial Setup Checklist</h3><p>When you unbox a new router or do a factory reset, you need to configure it from scratch. This is the standard build sequence every network engineer follows:</p><div class=\"cli\"><span class=\"k\">Step  Command                              Purpose</span>\n1     enable                                Get to privileged mode\n2     configure terminal                    Enter global config\n3     hostname [name]                       Identify the device\n4     enable secret [pass]                  Protect privileged mode (MD5)\n5     service password-encryption           Encrypt Type 7 passwords\n6     ip domain-name [domain]               Required for RSA keys\n7     crypto key generate rsa modulus 2048   Generate SSH keys\n8     ip ssh version 2                      Force secure SSH\n9     username [user] privilege 15 secret [pass]  Create local admin\n10    line vty 0 4 ‚Üí transport input ssh    SSH-only remote access\n11    login local                           Use local user database\n12    write memory                          Save to NVRAM!</div><div class=\"wb\">&#x26A0;&#xFE0F; If you forget <code>write memory</code> and the device reboots, ALL your config is gone. Running-config is RAM only!</div>", "questions": [{"type": "type", "q": "Enter priv mode:", "answer": ["enable", "en"], "prompt": "Router>"}, {"type": "type", "q": "Enter config:", "answer": ["configure terminal", "conf t"], "prompt": "Router#"}, {"type": "type", "q": "Hostname 'HQ-RTR':", "answer": ["hostname HQ-RTR"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable secret 'Str0ng!':", "answer": ["enable secret Str0ng!"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "Encrypt passwords:", "answer": ["service password-encryption"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "Domain 'corp.local':", "answer": ["ip domain-name corp.local", "ip domain name corp.local"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "RSA 2048:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "SSH v2:", "answer": ["ip ssh version 2"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "User 'admin' priv 15 secret 'Admin1':", "answer": ["username admin privilege 15 secret Admin1"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "VTY 0-4:", "answer": ["line vty 0 4"], "prompt": "HQ-RTR(config)#"}, {"type": "type", "q": "SSH only:", "answer": ["transport input ssh"], "prompt": "HQ-RTR(config-line)#"}, {"type": "type", "q": "Local auth:", "answer": ["login local"], "prompt": "HQ-RTR(config-line)#"}, {"type": "type", "q": "Save:", "answer": ["end", "exit"], "prompt": "HQ-RTR(config-line)#"}, {"type": "type", "q": "Write to NVRAM:", "answer": ["wr", "write memory", "copy running-config startup-config"], "prompt": "HQ-RTR#"}]}]}, {"id": "drill_subnet", "title": "Subnetting Speed Drills", "desc": "Calculate subnets under pressure.", "icon": "üßÆ", "tier": "Beginner", "lessons": [{"title": "Subnet Mask Drills", "content": "<h3>Subnet Mask Memorization</h3><p>You need to know these by heart. The subnet mask tells the router which part of an IP is the network vs. the host. Each additional bit in the mask halves the number of available hosts.</p><div class=\"cli\"><span class=\"k\">CIDR  Last Octet  Total IPs  Usable Hosts</span>\n/24   .0          256        254\n/25   .128        128        126\n/26   .192        64         62\n/27   .224        32         30\n/28   .240        16         14\n/29   .248        8          6\n/30   .252        4          2 (point-to-point)\n/16   255.255.0.0            65,534\n/8    255.0.0.0              16,777,214</div><div class=\"kp\">&#x1F4A1; <strong>Quick trick:</strong> Start at /24 = .0 (256). Each prefix adds the next power of 2: .128, .192, .224, .240, .248, .252</div>", "questions": [{"type": "type", "q": "Mask for /24:", "answer": ["255.255.255.0"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /25:", "answer": ["255.255.255.128"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /26:", "answer": ["255.255.255.192"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /27:", "answer": ["255.255.255.224"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /28:", "answer": ["255.255.255.240"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /29:", "answer": ["255.255.255.248"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /30:", "answer": ["255.255.255.252"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /16:", "answer": ["255.255.0.0"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /8:", "answer": ["255.0.0.0"], "prompt": "Mask>"}, {"type": "type", "q": "Mask for /20:", "answer": ["255.255.240.0"], "prompt": "Mask>"}]}, {"title": "Wildcard Mask Drills", "content": "<h3>Wildcard Mask Speed Drill</h3><p>Wildcard masks are the <strong>inverse of subnet masks</strong>. They're required in OSPF <code>network</code> statements and ACLs. The math: <code>255 - subnet octet = wildcard octet</code>. For example, subnet 255.255.255.192 ‚Üí wildcard 0.0.0.63 (because 255-192=63).</p><div class=\"cli\"><span class=\"k\">Quick reference:</span>\n/24 mask .0   ‚Üí WC 0.0.0.255    /25 mask .128 ‚Üí WC 0.0.0.127\n/26 mask .192 ‚Üí WC 0.0.0.63     /27 mask .224 ‚Üí WC 0.0.0.31\n/28 mask .240 ‚Üí WC 0.0.0.15     /29 mask .248 ‚Üí WC 0.0.0.7\n/30 mask .252 ‚Üí WC 0.0.0.3      /32 mask .255 ‚Üí WC 0.0.0.0 (host)\n/16 mask .0.0 ‚Üí WC 0.0.255.255  /8  mask .0.0.0 ‚Üí WC 0.255.255.255\n\n<span class=\"k\">Where wildcards are used:</span>\nOSPF: network 10.0.0.0 <strong>0.0.0.255</strong> area 0\nACL:  permit ip 192.168.1.0 <strong>0.0.0.255</strong> any</div><div class=\"wb\">‚ö†Ô∏è A 0 in the wildcard means \"must match.\" A 1 means \"don't care.\" So 0.0.0.0 = match exactly one host, 0.0.0.255 = match any host in that /24.</div>", "questions": [{"type": "type", "q": "Wildcard for /24:", "answer": ["0.0.0.255"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /26:", "answer": ["0.0.0.63"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /27:", "answer": ["0.0.0.31"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /28:", "answer": ["0.0.0.15"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /29:", "answer": ["0.0.0.7"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /30:", "answer": ["0.0.0.3"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /16:", "answer": ["0.0.255.255"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /8:", "answer": ["0.255.255.255"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for single host:", "answer": ["0.0.0.0"], "prompt": "WC>"}, {"type": "type", "q": "Wildcard for /25:", "answer": ["0.0.0.127"], "prompt": "WC>"}]}]}, {"id": "drill_ad", "title": "Administrative Distance Drill", "desc": "Know which route wins.", "icon": "üìê", "tier": "Beginner", "lessons": [{"title": "AD Values", "content": "<h3>Administrative Distance</h3><p>When multiple routing protocols have a route to the same destination, the router picks the one with the <strong>lowest Administrative Distance</strong>. AD is the \"trustworthiness\" rating.</p><div class=\"cli\"><span class=\"k\">Source              AD    Remember</span>\nConnected           0     Directly attached (most trusted)\nStatic              1     You typed it manually\neBGP                20    External BGP (internet backbone)\nEIGRP (internal)    90    Cisco's fast protocol\nOSPF                110   Open standard workhorse\nRIP                 120   Legacy, slow convergence\nEIGRP (external)    170   Redistributed into EIGRP\niBGP                200   Internal BGP (least trusted dynamic)</div><div class=\"kp\">&#x1F4A1; <strong>Lower AD = more trusted.</strong> If OSPF (110) and EIGRP (90) both know a route, EIGRP wins because 90 < 110.</div><div class=\"wb\">&#x26A0;&#xFE0F; A floating static route uses a higher AD (like 5) so it only activates when the primary route disappears.</div>", "questions": [{"type": "type", "q": "Connected AD:", "answer": ["0"], "prompt": "AD>"}, {"type": "type", "q": "Static AD:", "answer": ["1"], "prompt": "AD>"}, {"type": "type", "q": "eBGP AD:", "answer": ["20"], "prompt": "AD>"}, {"type": "type", "q": "EIGRP (internal) AD:", "answer": ["90"], "prompt": "AD>"}, {"type": "type", "q": "OSPF AD:", "answer": ["110"], "prompt": "AD>"}, {"type": "type", "q": "RIP AD:", "answer": ["120"], "prompt": "AD>"}, {"type": "type", "q": "EIGRP (external) AD:", "answer": ["170"], "prompt": "AD>"}, {"type": "type", "q": "iBGP AD:", "answer": ["200"], "prompt": "AD>"}]}]}, {"id": "drill_modes", "title": "CLI Mode Drills", "desc": "Navigate modes like a pro.", "icon": "üéÆ", "tier": "Beginner", "lessons": [{"title": "Mode Navigation Speed", "content": "<h3>IOS Mode Hierarchy</h3><p>Cisco IOS has a strict mode hierarchy. You must be in the right mode to run specific commands. Think of it as security clearance levels.</p><div class=\"cli\"><span class=\"k\">Mode                Prompt              Access</span>\nUser EXEC           Router>             Basic show commands only\nPrivileged EXEC     Router#             All show, debug, copy, reload\nGlobal Config       Router(config)#     Change device-wide settings\nInterface Config    Router(config-if)#  Change per-port settings\nLine Config         Router(config-line)# Console/VTY settings\nRouter Config       Router(config-router)# Routing protocol settings\nVLAN Config         Switch(config-vlan)# VLAN creation/naming\nDHCP Config         Router(dhcp-config)# DHCP pool settings\n\n<span class=\"k\">Navigation:</span>\nenable              User > Privileged\nconfigure terminal  Privileged > Global Config\ninterface [name]    Global > Interface\nline vty 0 4        Global > Line\nrouter ospf 1       Global > Router\nexit                Go back one level\nend                 Jump to Privileged from anywhere</div>", "questions": [{"type": "type", "q": "User > Privileged:", "answer": ["enable", "en"], "prompt": "Router>"}, {"type": "type", "q": "Privileged > Global Config:", "answer": ["configure terminal", "conf t"], "prompt": "Router#"}, {"type": "type", "q": "Global > Interface Gi0/0:", "answer": ["interface GigabitEthernet0/0", "int gi0/0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Interface VLAN 10:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Global > Line Console:", "answer": ["line console 0", "line con 0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Line VTY:", "answer": ["line vty 0 4"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Router OSPF:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Router EIGRP:", "answer": ["router eigrp 100"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > Router BGP:", "answer": ["router bgp 65001"], "prompt": "Router(config)#"}, {"type": "type", "q": "Global > DHCP Pool:", "answer": ["ip dhcp pool MYPOOL"], "prompt": "Router(config)#"}, {"type": "type", "q": "Interface > back to Global:", "answer": ["exit"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Any config > Privileged:", "answer": ["end"], "prompt": "Router(config-router)#"}]}]}, {"id": "drill_cable", "title": "Cable & Standard Drills", "desc": "Know your physical layer cold.", "icon": "üéØ", "tier": "Beginner", "lessons": [{"title": "Physical Layer Speed Round", "content": "<h3>Physical Layer Facts</h3><p>Layer 1 is where networking begins ‚Äî actual cables, connectors, signals. Get these wrong and nothing else matters.</p><div class=\"cli\"><span class=\"k\">Cable Standards:</span>\nCat5e   1 Gbps    100m    Most common installed base\nCat6    10 Gbps   55m     (1 Gbps at 100m)\nCat6a   10 Gbps   100m    Full 10G at full distance\n\n<span class=\"k\">Fiber Optic:</span>\nSingle-mode (yellow jacket)  - Kilometers range, laser\nMulti-mode (orange/aqua)     - ~550m, LED, cheaper\n\n<span class=\"k\">Power over Ethernet:</span>\n802.3af  (PoE)    15.4W   IP phones, basic cameras\n802.3at  (PoE+)   30W     Wireless APs, PTZ cameras\n802.3bt  (PoE++)  60-100W High-power devices\n\n<span class=\"k\">Ethernet Speeds:</span>\nFastEthernet    100 Mbps   (100BASE-TX)\nGigabitEthernet 1 Gbps     (1000BASE-T)\n10GigE          10 Gbps    (10GBASE-T)\n\n<span class=\"k\">Connectors:</span> RJ-45=copper, LC/SC=fiber, DB-9=serial console\n<span class=\"k\">Console:</span> 9600 baud, 8 data, No parity, 1 stop (8-N-1)</div>", "questions": [{"type": "choice", "q": "Cat5e max speed?", "options": ["100 Mbps", "1 Gbps", "10 Gbps", "100 Gbps"], "answer": 1, "explain": "1 Gbps, 100m."}, {"type": "choice", "q": "Cat6 at 10G max dist?", "options": ["55m", "100m", "300m", "1km"], "answer": 0, "explain": "55m at 10G (100m at 1G)."}, {"type": "choice", "q": "Single-mode fiber color?", "options": ["Orange", "Aqua", "Yellow", "Blue"], "answer": 2, "explain": "Yellow=SMF."}, {"type": "choice", "q": "802.3af PoE watts?", "options": ["15.4W", "30W", "60W", "100W"], "answer": 0, "explain": "15.4W standard PoE."}, {"type": "choice", "q": "FastEthernet speed?", "options": ["10 Mbps", "100 Mbps", "1 Gbps", "10 Gbps"], "answer": 1, "explain": "100 Mbps."}, {"type": "choice", "q": "Console baud rate?", "options": ["4800", "9600", "19200", "115200"], "answer": 1, "explain": "9600 8-N-1."}, {"type": "choice", "q": "RJ-45 used for?", "options": ["Fiber", "Ethernet copper", "Serial", "USB"], "answer": 1, "explain": "Standard Ethernet connector."}, {"type": "choice", "q": "10GBASE-T needs minimum?", "options": ["Cat5", "Cat5e", "Cat6", "Cat6a for 100m"], "answer": 3, "explain": "Cat6a for 100m at 10G."}, {"type": "choice", "q": "Crossover cable: switch to switch?", "options": ["Required", "Not needed with Auto-MDIX", "Never works", "Only fiber"], "answer": 1, "explain": "Auto-MDIX handles it."}, {"type": "choice", "q": "LC connector is for?", "options": ["Copper", "Fiber", "Serial", "Power"], "answer": 1, "explain": "LC/SC are fiber connectors."}]}]}, {"id": "vlans", "title": "VLANs & Trunking", "desc": "Segment, trunk, and route between VLANs.", "icon": "üîÄ", "tier": "Intermediate", "lessons": [{"title": "Creating VLANs", "content": "<h3>VLANs ‚Äî Virtual LANs</h3>\n<p>A VLAN divides one physical switch into multiple <strong>isolated broadcast domains</strong>. Without VLANs, every device on a switch is in the same network ‚Äî one broadcast storm, one virus, one misconfigured device affects EVERYONE.</p>\n\n<p><strong>Real-world analogy:</strong> Think of an office building. Without VLANs, every department shares one giant open room ‚Äî HR, Engineering, Accounting all hearing each other's conversations. VLANs put walls between departments while sharing the same physical building (switch).</p>\n\n<h3>Why VLANs Matter</h3>\n<div class=\"cli\"><span class=\"k\">Without VLANs:</span>\nAll 200 PCs share one broadcast domain.\nEvery ARP, DHCP discover, and broadcast hits every device.\nNetwork becomes unusable above ~500 hosts.\nNo security separation between departments.\n\n<span class=\"k\">With VLANs:</span>\nEngineering (VLAN 10): 50 PCs in their own broadcast domain\nAccounting (VLAN 20): 30 PCs isolated from Engineering\nGuest WiFi (VLAN 100): Completely separated from corporate\nServer (VLAN 50): Restricted access via ACLs on the router</div>\n\n<h3>Configuration</h3>\n<div class=\"cli\"><span class=\"k\">Step 1: Create the VLAN</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">vlan 10</span>\n<span class=\"p\">Switch(config-vlan)#</span> <span class=\"k\">name ENGINEERING</span>\n\n<span class=\"k\">Step 2: Assign ports to the VLAN</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface FastEthernet0/1</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport mode access</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport access vlan 10</span>\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Switch#</span> <span class=\"k\">show vlan brief</span>   Lists all VLANs and their ports</div>\n\n<p><strong>VLAN 1 is the default.</strong> All ports start in VLAN 1. Never use VLAN 1 for production traffic ‚Äî it's a security best practice to move everything to numbered VLANs and leave VLAN 1 empty.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Devices in different VLANs CANNOT communicate</strong> without a router or L3 switch performing inter-VLAN routing. VLANs are isolated by design ‚Äî that's the whole point.</div>", "questions": [{"type": "type", "q": "Create VLAN 30:", "answer": ["vlan 30"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name it 'SERVERS':", "answer": ["name SERVERS"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Set port as access:", "answer": ["switchport mode access"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Assign to VLAN 20:", "answer": ["switchport access vlan 20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Verify VLANs:", "answer": ["show vlan brief", "sh vlan br", "show vlan"], "prompt": "Switch#"}, {"type": "type", "q": "Delete VLAN 50:", "answer": ["no vlan 50"], "prompt": "Switch(config)#"}, {"type": "choice", "q": "VLAN 10 talk to VLAN 20 without routing?", "options": ["Yes", "No - needs router/L3 switch"], "answer": 1, "explain": "VLANs isolate broadcast domains."}]}, {"title": "Trunk Links", "content": "<h3>Trunk Links ‚Äî Carrying Multiple VLANs</h3>\n<p>An <strong>access port</strong> belongs to one VLAN. A <strong>trunk port</strong> carries traffic for MULTIPLE VLANs between switches (or between a switch and a router). Trunks use <strong>802.1Q tagging</strong> ‚Äî each frame gets a 4-byte tag inserted that identifies which VLAN it belongs to.</p>\n\n<h3>How 802.1Q Trunking Works</h3>\n<div class=\"cli\"><span class=\"k\">Without trunking:</span>\nYou'd need a separate physical cable between switches\nfor every VLAN. 10 VLANs = 10 cables. Terrible.\n\n<span class=\"k\">With 802.1Q trunking:</span>\nONE cable carries ALL VLANs. Each frame gets tagged with\nits VLAN ID. The receiving switch reads the tag and puts\nthe frame in the correct VLAN. Efficient and scalable.</div>\n\n<h3>Configuration</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport mode trunk</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport trunk allowed vlan 10,20,30</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport trunk native vlan 99</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport nonegotiate</span>\n\n<span class=\"k\">Managing allowed VLANs:</span>\nswitchport trunk allowed vlan 10,20,30       Set specific list\nswitchport trunk allowed vlan add 40          Add one more\nswitchport trunk allowed vlan remove 20       Remove one\nswitchport trunk allowed vlan all             Allow all (default)</div>\n\n<h3>Native VLAN</h3>\n<p>The <strong>native VLAN</strong> is the one VLAN that goes UNTAGGED across the trunk. By default it's VLAN 1. For security, always change it to an unused VLAN (like 99 or 999) and make sure it matches on both sides.</p>\n\n<h3>DTP (Dynamic Trunking Protocol)</h3>\n<p>DTP automatically negotiates trunk/access mode. <strong>Disable it on every port.</strong> An attacker can exploit DTP to form a trunk with your switch and access ALL VLANs (VLAN hopping attack).</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Native VLAN mismatch</strong> between two trunk ports causes STP issues, broken VLANs, and security vulnerabilities. Always verify with <code>show interfaces trunk</code> that both sides match.</div>", "questions": [{"type": "type", "q": "Set as trunk:", "answer": ["switchport mode trunk"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Allow VLANs 10,20:", "answer": ["switchport trunk allowed vlan 10,20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Add VLAN 30 to trunk:", "answer": ["switchport trunk allowed vlan add 30"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Native VLAN 99:", "answer": ["switchport trunk native vlan 99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Disable DTP:", "answer": ["switchport nonegotiate"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Verify trunks:", "answer": ["show interfaces trunk", "sh int trunk"], "prompt": "Switch#"}, {"type": "type", "q": "Remove VLAN 20 from trunk:", "answer": ["switchport trunk allowed vlan remove 20"], "prompt": "Switch(config-if)#"}]}, {"title": "Inter-VLAN Routing", "content": "<h3>Inter-VLAN Routing ‚Äî Connecting VLANs Together</h3>\n<p>VLANs isolate broadcast domains, but users in different VLANs still need to communicate (Engineering needs to reach the file server in Server VLAN). This requires a <strong>Layer 3 device</strong> ‚Äî either an external router or an L3 switch.</p>\n\n<h3>Method 1: Router-on-a-Stick (Small Networks)</h3>\n<div class=\"cli\"><span class=\"k\">How it works:</span>\nOne physical router interface splits into virtual\nsub-interfaces, one per VLAN. The switch trunks all\nVLANs to the router on a single link.\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0.10</span>               Sub-interface for VLAN 10\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">encapsulation dot1q 10</span>     Tag VLAN 10\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">ip address 192.168.10.1 255.255.255.0</span>\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0.20</span>               Sub-interface for VLAN 20\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">encapsulation dot1q 20</span>     Tag VLAN 20\n<span class=\"p\">Router(config-subif)#</span> <span class=\"k\">ip address 192.168.20.1 255.255.255.0</span>\n\n<span class=\"k\">Limitation:</span> ALL inter-VLAN traffic bottlenecks through one link.\nFine for small offices, bad for enterprise.</div>\n\n<h3>Method 2: L3 Switch with SVIs (Enterprise Standard)</h3>\n<div class=\"cli\"><span class=\"k\">How it works:</span>\nThe switch itself routes between VLANs at wire speed\nusing Switch Virtual Interfaces (SVIs). No external\nrouter needed. This is what enterprise networks use.\n\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">ip routing</span>                        Enable L3 forwarding!\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface vlan 10</span>                  Create SVI\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip address 192.168.10.1 255.255.255.0</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">no shutdown</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface vlan 20</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip address 192.168.20.1 255.255.255.0</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">no shutdown</span>\n\n<span class=\"k\">Users set their default gateway to the SVI IP of their VLAN.</span></div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Three things that keep SVIs down:</strong> 1) Forgot <code>ip routing</code>. 2) The VLAN doesn't exist. 3) No ports are active in that VLAN. All three must be true for the SVI to come up.</div>", "questions": [{"type": "type", "q": "Create sub-interface for VLAN 30:", "answer": ["interface Gi0/0.30", "int gi0/0.30"], "prompt": "Router(config)#"}, {"type": "type", "q": "Encapsulation for VLAN 30:", "answer": ["encapsulation dot1q 30"], "prompt": "Router(config-subif)#"}, {"type": "type", "q": "Enable L3 routing on switch:", "answer": ["ip routing"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Create SVI VLAN 10:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "IP 192.168.10.1/24 on SVI:", "answer": ["ip address 192.168.10.1 255.255.255.0"], "prompt": "Switch(config-if)#"}]}, {"title": "VTP", "content": "<h3>VTP ‚Äî VLAN Trunking Protocol</h3>\n<p>VTP automatically synchronizes VLAN databases across switches in the same domain. In theory, this means you create a VLAN on one switch and it appears on all switches. In practice, <strong>VTP has destroyed more networks than it's helped</strong>.</p>\n\n<h3>VTP Modes</h3>\n<div class=\"cli\"><span class=\"k\">Server</span> (default) ‚Äî Can create/modify/delete VLANs.\n   Sends VTP updates to other switches.\n\n<span class=\"k\">Client</span> ‚Äî Receives VLAN info from servers.\n   CANNOT create/modify/delete VLANs locally.\n\n<span class=\"k\">Transparent</span> ‚Äî Ignores VTP updates from others.\n   Manages its own VLANs locally. Passes VTP frames through.\n   <strong>THIS IS THE SAFEST MODE.</strong></div>\n\n<h3>The VTP Disaster Scenario</h3>\n<p>VTP uses a <strong>revision number</strong>. Every time a VLAN is added or deleted, the revision number increments. When two switches connect, the one with the HIGHER revision number wins and overwrites the other's VLAN database.</p>\n\n<div class=\"cli\"><span class=\"k\">The nightmare:</span>\n1. You pull a switch out of a lab (revision number: 50)\n2. Your production network has revision number: 30\n3. You plug the lab switch into production\n4. Lab switch has higher revision ‚Üí OVERWRITES production\n5. VLANs that exist in production but not in lab: DELETED\n6. Every port in those deleted VLANs: instantly disconnected\n7. Massive outage across the entire VTP domain</div>\n\n<h3>Best Practice: Use VTP Transparent Mode</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config)#</span> <span class=\"k\">vtp mode transparent</span>    Safe! Manages VLANs locally only.\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">vtp domain CORP</span>          Set domain name\n<span class=\"p\">Switch#</span> <span class=\"k\">show vtp status</span>               Check mode and revision</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Many enterprise networks disable VTP entirely</strong> by setting all switches to transparent mode. It's more manual work to create VLANs on each switch, but it eliminates the catastrophic failure mode described above. The 5 minutes of extra work is worth preventing a network-wide outage.</div>", "questions": [{"type": "type", "q": "VTP transparent (safe):", "answer": ["vtp mode transparent"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set VTP domain 'CORP':", "answer": ["vtp domain CORP"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Check VTP:", "answer": ["show vtp status", "sh vtp status"], "prompt": "Switch#"}, {"type": "choice", "q": "VTP danger?", "options": ["Bandwidth", "Can delete all VLANs", "Conflicts with STP", "Slows trunks"], "answer": 1, "explain": "Higher revision can overwrite VLAN database."}]}]}, {"id": "static_rt", "title": "Static & Default Routes", "desc": "Manual routing.", "icon": "üß≠", "tier": "Intermediate", "lessons": [{"title": "Routing Table", "content": "<h3>Understanding the Routing Table</h3>\n<p>The routing table is the <strong>brain of the router</strong>. Every time a packet arrives, the router looks up the destination IP in this table to decide where to send it. No matching route = packet gets dropped.</p>\n\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">show ip route</span>\nCodes: C - connected, S - static, O - OSPF, D - EIGRP,\n       B - BGP, R - RIP, L - local, S* - candidate default\n\nGateway of last resort is 10.0.0.1 to network 0.0.0.0\n\n C    192.168.1.0/24 is directly connected, Gi0/0\n L    192.168.1.1/32 is directly connected, Gi0/0\n S    10.10.0.0/16 [1/0] via 192.168.1.254\n O    172.16.0.0/16 [110/20] via 10.0.0.2, 00:05:32, Gi0/1\n D    10.20.0.0/24 [90/3072] via 10.0.0.3, Gi0/2\n S*   0.0.0.0/0 [1/0] via 10.0.0.1</div>\n\n<h3>Reading Route Entries</h3>\n<div class=\"cli\"><span class=\"k\">O 172.16.0.0/16 [110/20] via 10.0.0.2, 00:05:32, Gi0/1</span>\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îÇ          ‚îÇ          ‚îÇ\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îÇ          ‚îÇ          ‚îî Exit interface\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îÇ          ‚îî Time since learned\n‚îÇ                  ‚îÇ  ‚îÇ       ‚îî Next-hop IP address\n‚îÇ                  ‚îÇ  ‚îî Metric (cost within the protocol)\n‚îÇ                  ‚îî Administrative Distance\n‚îî Route source (O = OSPF)</div>\n\n<h3>Administrative Distance ‚Äî Which Route Wins?</h3>\n<p>When multiple routing protocols know a route to the same destination, the router installs the one with the <strong>lowest Administrative Distance</strong>. AD represents how \"trustworthy\" the source is.</p>\n<div class=\"cli\"><span class=\"k\">Source          AD    Trustworthiness</span>\nConnected       0     I'm directly attached (most trusted)\nStatic          1     An admin typed this manually\neBGP            20    External BGP (internet backbone)\nEIGRP internal  90    Cisco's fast protocol\nOSPF            110   Open standard, most widely deployed\nRIP             120   Legacy protocol, slow convergence\nEIGRP external  170   Routes redistributed into EIGRP\niBGP            200   Internal BGP (least trusted dynamic)</div>\n\n<div class=\"kp\">üí° <strong>Lower AD wins.</strong> If OSPF (110) and EIGRP (90) both know a route to 10.0.0.0/24, EIGRP's route is installed because 90 < 110. The OSPF route is kept as a backup in case EIGRP's route disappears.</div>", "questions": [{"type": "type", "q": "View routing table:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "choice", "q": "C means?", "options": ["Configured", "Connected", "Cached", "CIDR"], "answer": 1, "explain": "Directly connected."}, {"type": "choice", "q": "OSPF AD?", "options": ["1", "90", "110", "120"], "answer": 2, "explain": "OSPF=110."}, {"type": "choice", "q": "EIGRP AD?", "options": ["1", "90", "110", "120"], "answer": 1, "explain": "EIGRP=90."}, {"type": "choice", "q": "Static vs OSPF: which installs?", "options": ["OSPF", "Static (AD 1 < 110)"], "answer": 1, "explain": "Lower AD wins."}, {"type": "choice", "q": "S* means?", "options": ["Static summary", "Default route", "Suspect", "EIGRP successor"], "answer": 1, "explain": "S* = candidate default."}]}, {"title": "Configuring Routes", "content": "<h3>Static Routes ‚Äî Manual Routing</h3>\n<p>Static routes are manually configured by the administrator. They're simple, predictable, and use zero bandwidth (no routing protocol traffic). But they don't adapt to changes ‚Äî if a link fails, you must manually update the route.</p>\n\n<h3>Static Route Syntax</h3>\n<div class=\"cli\"><span class=\"k\">ip route [destination] [mask] [next-hop or exit-interface]</span>\n\n<span class=\"k\">Standard static route:</span>\n<span class=\"p\">R(config)#</span> <span class=\"k\">ip route 10.10.0.0 255.255.0.0 192.168.1.254</span>\n  \"To reach 10.10.0.0/16, send packets to 192.168.1.254\"\n\n<span class=\"k\">Default route (gateway of last resort):</span>\n<span class=\"p\">R(config)#</span> <span class=\"k\">ip route 0.0.0.0 0.0.0.0 203.0.113.1</span>\n  \"If no other route matches, send it to 203.0.113.1\"\n  This is your internet route ‚Äî the \"when in doubt, go here\" route.\n\n<span class=\"k\">Floating static route (backup):</span>\n<span class=\"p\">R(config)#</span> <span class=\"k\">ip route 10.10.0.0 255.255.0.0 192.168.2.254 5</span>\n  That trailing \"5\" is the Administrative Distance.\n  Normal static AD = 1. By setting it to 5, this route\n  only installs if the primary route (OSPF AD=110 or\n  another static AD=1) disappears. It's a backup path.</div>\n\n<h3>When to Use Static Routes</h3>\n<div class=\"cli\"><span class=\"k\">Use static routes for:</span>\n‚Ä¢ Default routes to the internet\n‚Ä¢ Stub networks with only one way in/out\n‚Ä¢ Backup paths (floating static, higher AD)\n‚Ä¢ Small networks where dynamic protocols are overkill\n\n<span class=\"k\">DON'T use static routes for:</span>\n‚Ä¢ Large networks (too many routes to manage manually)\n‚Ä¢ Networks that change frequently\n‚Ä¢ Redundant topologies (they can't detect failures)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Static routes have NO failure detection.</strong> If the next-hop becomes unreachable but the local interface stays up, the static route stays in the table and packets get black-holed. Use IP SLA tracking or floating statics to handle this.</div>", "questions": [{"type": "type", "q": "Default via 10.0.0.1:", "answer": ["ip route 0.0.0.0 0.0.0.0 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "172.16.0.0/16 via 10.1.1.2:", "answer": ["ip route 172.16.0.0 255.255.0.0 10.1.1.2"], "prompt": "Router(config)#"}, {"type": "type", "q": "192.168.50.0/24 via 10.0.0.5:", "answer": ["ip route 192.168.50.0 255.255.255.0 10.0.0.5"], "prompt": "Router(config)#"}, {"type": "type", "q": "Remove default via 10.0.0.1:", "answer": ["no ip route 0.0.0.0 0.0.0.0 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Floating static?", "options": ["DHCP", "Higher AD, backup only", "Floats", "Load balances"], "answer": 1, "explain": "Only activates when primary fails."}]}]}, {"id": "ospf", "title": "OSPF Routing", "desc": "Link-state, areas, neighbors, configuration.", "icon": "üåê", "tier": "Intermediate", "lessons": [{"title": "OSPF Concepts", "content": "<h3>OSPF ‚Äî Open Shortest Path First</h3>\n<p>OSPF is the most widely deployed interior routing protocol. It's an open standard (not Cisco-proprietary), scales to thousands of routers, and converges quickly when links fail. If you learn one routing protocol deeply, make it OSPF.</p>\n\n<h3>How OSPF Works</h3>\n<div class=\"cli\"><span class=\"k\">OSPF is a link-state protocol. Here's what that means:</span>\n1. Every router discovers its neighbors (via Hello packets)\n2. Every router shares its link information with ALL routers\n3. Every router builds an identical map of the entire network\n4. Each router runs Dijkstra's SPF algorithm on this map\n5. The algorithm finds the shortest path to every destination\n6. These shortest paths become the routing table entries\n\n<span class=\"k\">Compare to distance-vector (like RIP):</span>\nDistance-vector: \"My neighbor told me he can reach X in 3 hops\"\nLink-state: \"I have the complete map. I can calculate the best\n            path to X myself.\"</div>\n\n<h3>Key OSPF Concepts</h3>\n<div class=\"cli\"><span class=\"k\">Areas:</span>\nOSPF divides networks into areas to reduce LSA flooding.\nArea 0 = Backbone. ALL other areas must connect to Area 0.\nSingle-area OSPF = everything in Area 0 (simple, common).\n\n<span class=\"k\">Hello/Dead Timers:</span>\nBroadcast networks: Hello 10 sec, Dead 40 sec\nNBMA networks: Hello 30 sec, Dead 120 sec\nIf no Hello received within Dead time ‚Üí neighbor is DEAD.\n\n<span class=\"k\">DR/BDR (Designated Router / Backup DR):</span>\nOn multi-access networks (Ethernet), OSPF elects a DR and BDR.\nInstead of every router talking to every other router,\neveryone talks to the DR. Reduces overhead from N¬≤ to N.\nElection: Highest priority wins (default 1). Tie: highest RID.\n\n<span class=\"k\">Cost = Reference Bandwidth / Interface Bandwidth</span>\nDefault ref BW = 100 Mbps. So FastEthernet cost = 1, GigE = 1.\nProblem: Both 100M and 1G have cost 1! Fix:\n  auto-cost reference-bandwidth 10000\n\n<span class=\"k\">Neighbor Requirements (ALL must match):</span>\n‚Ä¢ Same area ID on the shared link\n‚Ä¢ Same subnet and mask\n‚Ä¢ Same Hello/Dead timers\n‚Ä¢ Same authentication\n‚Ä¢ Same MTU (or use ip ospf mtu-ignore)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>OSPF stuck in INIT state?</strong> You see the neighbor's Hello but your Router-ID isn't in it. Usually means mismatched area, subnet, or timers. Check all five neighbor requirements.</div>", "questions": [{"type": "choice", "q": "OSPF type?", "options": ["Distance-vector", "Link-state", "Path-vector", "Hybrid"], "answer": 1, "explain": "Link-state, full topology."}, {"type": "choice", "q": "Area 0?", "options": ["Default", "Backbone", "Management", "Stub"], "answer": 1, "explain": "All areas connect to 0."}, {"type": "choice", "q": "Hello interval broadcast?", "options": ["5", "10", "30", "60"], "answer": 1, "explain": "10s broadcast, 30s NBMA."}, {"type": "choice", "q": "Algorithm?", "options": ["Bellman-Ford", "Dijkstra SPF", "DUAL", "BGP path"], "answer": 1, "explain": "Shortest Path First."}, {"type": "choice", "q": "Different areas on same link = neighbors?", "options": ["Yes", "No"], "answer": 1, "explain": "Must be same area."}]}, {"title": "OSPF Config", "content": "<h3>OSPF Configuration ‚Äî Step by Step</h3>\n<p>OSPF configuration tells the router which interfaces to enable OSPF on and which area they belong to. The <code>network</code> command doesn't advertise a network ‚Äî it <strong>activates OSPF on matching interfaces</strong>.</p>\n\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">router ospf 1</span>\n  Process ID (1) is LOCAL only ‚Äî doesn't have to match other routers!\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">router-id 1.1.1.1</span>\n  Unique identifier. Use a loopback IP. If not set, OSPF picks\n  the highest loopback IP, then highest physical IP.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 192.168.1.0 0.0.0.255 area 0</span>\n  \"Enable OSPF on any interface with an IP in 192.168.1.0/24\n   and place it in Area 0.\"\n  NOTE: Uses WILDCARD mask (inverse of subnet mask)!\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 10.0.0.0 0.0.0.3 area 0</span>\n  Enable OSPF on the 10.0.0.0/30 point-to-point link.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">passive-interface GigabitEthernet0/1</span>\n  Don't send OSPF Hellos out Gi0/1 (LAN-facing ports).\n  The network is still advertised ‚Äî just no neighbor attempts.\n  Use on all LAN/user-facing interfaces.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">default-information originate</span>\n  Tell OSPF to advertise the default route to other routers.\n  Requires a default route to exist in the routing table\n  (unless you add \"always\" keyword).</div>\n\n<h3>Alternative: Per-Interface OSPF</h3>\n<div class=\"cli\"><span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip ospf 1 area 0</span>\n  Cleaner method ‚Äî directly enables OSPF on this interface.\n  No wildcard masks needed. Many engineers prefer this.</div>\n\n<div class=\"kp\">üí° <strong>Common mistake:</strong> Using subnet masks instead of wildcard masks in the network statement. <code>network 192.168.1.0 255.255.255.0 area 0</code> is WRONG. Must be <code>0.0.0.255</code>.</div>", "questions": [{"type": "type", "q": "Start OSPF 1:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Router-id 2.2.2.2:", "answer": ["router-id 2.2.2.2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "10.0.0.0/24 in area 0:", "answer": ["network 10.0.0.0 0.0.0.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "172.16.0.0/16 in area 1:", "answer": ["network 172.16.0.0 0.0.255.255 area 1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive Gi0/1:", "answer": ["passive-interface GigabitEthernet0/1", "passive-interface gi0/1", "passive-interface g0/1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise default:", "answer": ["default-information originate"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Check neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "choice", "q": "Wildcard for /24?", "options": ["255.255.255.0", "0.0.0.255", "0.0.0.0", "255.0.0.0"], "answer": 1, "explain": "Inverse of subnet mask."}]}, {"title": "OSPF Verification", "content": "<h3>OSPF Verification & Troubleshooting</h3>\n<p>After configuring OSPF, you must verify it's working. OSPF neighbors should reach FULL state (or 2WAY for non-DR/BDR on multi-access). Any other state means something is wrong.</p>\n\n<div class=\"cli\"><span class=\"k\">show ip ospf neighbor</span>\n  THE most important OSPF command. Shows:\n  - Neighbor ID (their Router-ID)\n  - State (FULL = working, see states below)\n  - Dead Time (counting down ‚Äî resets on each Hello)\n  - Address (neighbor's IP on shared link)\n  - Interface (local interface to that neighbor)\n\n<span class=\"k\">Neighbor States (in order):</span>\nDOWN ‚Üí INIT ‚Üí 2WAY ‚Üí EXSTART ‚Üí EXCHANGE ‚Üí LOADING ‚Üí FULL\n\nStuck in INIT? ‚Üí One-way communication (check subnet/area/timers)\nStuck in EXSTART? ‚Üí Usually MTU mismatch\nFULL = Working perfectly\n\n<span class=\"k\">Other verification commands:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip ospf interface brief</span>\n  Shows which interfaces run OSPF, their area, cost, and state.\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip ospf database</span>\n  The Link-State Database. Every router in the area should have\n  an identical copy. Mismatch = problem.\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip route ospf</span>\n  Shows ONLY OSPF-learned routes (filters out connected/static).\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip protocols</span>\n  Shows all routing protocols running, their networks, and timers.</div>\n\n<h3>Tuning OSPF</h3>\n<div class=\"cli\"><span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip ospf cost 50</span>\n  Manually set OSPF cost on an interface (overrides calculation).\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">auto-cost reference-bandwidth 10000</span>\n  Change ref BW to 10 Gbps so GigE and 10GigE have different costs.\n  Must be set identically on ALL routers in the OSPF domain!\n\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip ospf process</span>\n  Restart OSPF process. Required after changing router-id.\n  Causes brief routing disruption ‚Äî use with caution in production.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>If auto-cost reference-bandwidth differs between routers,</strong> they'll calculate different costs for the same links, causing suboptimal routing or loops. Always set it identically everywhere.</div>", "questions": [{"type": "type", "q": "OSPF interfaces:", "answer": ["show ip ospf interface brief", "sh ip ospf int br"], "prompt": "Router#"}, {"type": "type", "q": "LSDB:", "answer": ["show ip ospf database", "sh ip ospf database"], "prompt": "Router#"}, {"type": "type", "q": "Set cost 50:", "answer": ["ip ospf cost 50"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Reset OSPF:", "answer": ["clear ip ospf process"], "prompt": "Router#"}, {"type": "type", "q": "Running protocols:", "answer": ["show ip protocols", "sh ip protocols"], "prompt": "Router#"}, {"type": "choice", "q": "INIT state = ?", "options": ["Area mismatch", "One-way communication", "Wrong RID", "High metric"], "answer": 1, "explain": "INIT = we see their Hello but our RID not in it."}]}]}, {"id": "eigrp", "title": "EIGRP Routing", "desc": "Cisco's hybrid protocol. Fast convergence, simple config.", "icon": "‚ö°", "tier": "Intermediate", "lessons": [{"title": "EIGRP Concepts", "content": "<h3>EIGRP ‚Äî Enhanced Interior Gateway Routing Protocol</h3>\n<p>EIGRP is Cisco's advanced routing protocol (now also an open standard). It combines the best of distance-vector simplicity with link-state speed. EIGRP converges faster than OSPF in many scenarios because it pre-calculates backup routes.</p>\n\n<h3>Why EIGRP is Special</h3>\n<div class=\"cli\"><span class=\"k\">Key advantages over OSPF:</span>\n‚Ä¢ Faster convergence (pre-calculated backup routes)\n‚Ä¢ Unequal-cost load balancing (with variance command)\n‚Ä¢ Simpler configuration (no areas to design)\n‚Ä¢ Lower CPU usage (no SPF calculation)\n\n<span class=\"k\">Key facts:</span>\n‚Ä¢ Algorithm: DUAL (Diffusing Update Algorithm)\n‚Ä¢ AD: Internal = 90, External = 170\n‚Ä¢ Protocol: Sends to 224.0.0.10\n‚Ä¢ Hello timers: 5 sec (fast links), 60 sec (slow links)\n‚Ä¢ Hold time: 3√ó Hello (15 sec / 180 sec)\n‚Ä¢ Supports VLSM and route summarization\n‚Ä¢ AS number must match between neighbors!</div>\n\n<h3>Successor & Feasible Successor</h3>\n<div class=\"cli\"><span class=\"k\">Successor:</span>\n  The BEST route to a destination. This goes in the routing table.\n  Like your daily commute ‚Äî the fastest way to work.\n\n<span class=\"k\">Feasible Successor:</span>\n  A pre-qualified BACKUP route. Already calculated and ready.\n  If the Successor fails, EIGRP switches to the Feasible\n  Successor INSTANTLY ‚Äî no recalculation needed!\n  Like knowing a backup route to work in case of an accident.\n\n<span class=\"k\">Feasibility Condition:</span>\n  A route qualifies as Feasible Successor ONLY if its\n  Reported Distance (what the neighbor says) is LESS THAN\n  the current Feasible Distance (your best route's total cost).\n  This guarantees the backup is loop-free.</div>\n\n<h3>EIGRP Metric</h3>\n<div class=\"cli\"><span class=\"k\">Default metric uses:</span>\n  Bandwidth (minimum along the path) ‚Äî primary factor\n  Delay (cumulative along the path) ‚Äî primary factor\n\n<span class=\"k\">Not used by default (K-values off):</span>\n  Reliability, Load, MTU\n\n<span class=\"k\">Unequal-cost load balancing:</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">variance 2</span>\n  \"Use any path with metric up to 2√ó the best path.\"\n  ONLY EIGRP can do this. OSPF only does equal-cost.</div>\n\n<div class=\"kp\">üí° <strong>EIGRP's killer feature is Feasible Successors.</strong> When a link fails, OSPF has to recalculate the entire topology (seconds). EIGRP just installs the pre-calculated backup (milliseconds).</div>", "questions": [{"type": "choice", "q": "EIGRP AD (internal)?", "options": ["1", "90", "110", "170"], "answer": 1, "explain": "Internal=90, External=170."}, {"type": "choice", "q": "EIGRP algorithm?", "options": ["Dijkstra", "DUAL", "Bellman-Ford", "SPF"], "answer": 1, "explain": "DUAL = Diffusing Update Algorithm."}, {"type": "choice", "q": "EIGRP multicast address?", "options": ["224.0.0.5", "224.0.0.6", "224.0.0.10", "224.0.0.1"], "answer": 2, "explain": "EIGRP uses 224.0.0.10."}, {"type": "choice", "q": "EIGRP Hello on fast links?", "options": ["5 sec", "10 sec", "30 sec", "60 sec"], "answer": 0, "explain": "5s fast, 60s slow (T1 or slower)."}, {"type": "choice", "q": "EIGRP supports unequal-cost load balancing?", "options": ["Yes (with variance)", "No, equal-cost only"], "answer": 0, "explain": "'variance' command enables unequal-cost paths."}]}, {"title": "EIGRP Configuration", "content": "<h3>EIGRP Configuration</h3>\n<p>EIGRP is simpler to configure than OSPF ‚Äî no areas, no DR/BDR elections, no router-id required (though recommended). Just enable it, advertise your networks, and make sure AS numbers match.</p>\n\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">router eigrp 100</span>\n  AS number 100. MUST match on both sides of every link!\n  Unlike OSPF process ID (local only), EIGRP AS number is significant.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 192.168.1.0 0.0.0.255</span>\n  Enable EIGRP on interfaces in 192.168.1.0/24.\n  Uses wildcard masks (same as OSPF).\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 10.0.0.0</span>\n  Classful: enables EIGRP on ALL 10.x.x.x interfaces.\n  Shortcut when all interfaces in that major network participate.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">no auto-summary</span>\n  CRITICAL! Without this, EIGRP summarizes routes at classful\n  boundaries (10.0.0.0/8, 172.16.0.0/16, 192.168.0.0/24).\n  This causes routing black holes. ALWAYS disable auto-summary.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">eigrp router-id 1.1.1.1</span>\n  Explicit router-ID (recommended). Without it, EIGRP picks\n  the highest loopback IP, then highest physical IP.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">passive-interface GigabitEthernet0/1</span>\n  Don't send EIGRP Hellos on LAN-facing ports.\n\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">variance 2</span>\n  Enable unequal-cost load balancing (EIGRP only!).</div>\n\n<h3>Verification</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">show ip eigrp neighbors</span>     Neighbor table (uptime, hold time)\n<span class=\"p\">Router#</span> <span class=\"k\">show ip eigrp topology</span>      Successors + Feasible Successors\n<span class=\"p\">Router#</span> <span class=\"k\">show ip eigrp interfaces</span>    Which interfaces run EIGRP\n<span class=\"p\">Router#</span> <span class=\"k\">show ip route eigrp</span>         EIGRP-learned routes only</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>AS number mismatch = no neighbors.</strong> Unlike OSPF where process ID is local, EIGRP's AS number MUST match between routers. If Router A uses <code>router eigrp 100</code> and Router B uses <code>router eigrp 200</code>, they will never become neighbors.</div>", "questions": [{"type": "type", "q": "Start EIGRP AS 100:", "answer": ["router eigrp 100"], "prompt": "Router(config)#"}, {"type": "type", "q": "Advertise 10.0.0.0/24:", "answer": ["network 10.0.0.0 0.0.0.255"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Disable auto-summary:", "answer": ["no auto-summary"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive Gi0/2:", "answer": ["passive-interface GigabitEthernet0/2", "passive-interface gi0/2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Check EIGRP neighbors:", "answer": ["show ip eigrp neighbors", "sh ip eigrp neighbors", "sh ip eigrp nei"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP topology table:", "answer": ["show ip eigrp topology", "sh ip eigrp topology", "sh ip eigrp topo"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP interfaces:", "answer": ["show ip eigrp interfaces", "sh ip eigrp interfaces", "sh ip eigrp int"], "prompt": "Router#"}, {"type": "choice", "q": "AS numbers must?", "options": ["Be unique", "Match on both sides", "Be above 100", "Be even"], "answer": 1, "explain": "Both routers need the same AS number."}]}]}, {"id": "acls", "title": "Access Control Lists", "desc": "Standard, extended, named - drill every variation.", "icon": "üö´", "tier": "Intermediate", "lessons": [{"title": "Standard ACLs", "content": "<h3>Standard Access Control Lists (ACLs 1-99)</h3>\n<p>ACLs are the <strong>firewall rules of the router</strong>. They inspect packets and decide: permit (let it through) or deny (drop it). Standard ACLs are the simplest type ‚Äî they filter based on <strong>source IP address only</strong>.</p>\n\n<h3>How ACLs Work</h3>\n<div class=\"cli\"><span class=\"k\">Processing order:</span>\n1. Router checks each ACL line top to bottom\n2. First match wins ‚Äî packet is permitted or denied\n3. If NO line matches ‚Üí implicit \"deny any\" drops the packet\n\n<span class=\"k\">Standard ACL syntax:</span>\naccess-list [1-99] [permit|deny] [source] [wildcard]\n\n<span class=\"k\">Examples:</span>\naccess-list 10 deny 192.168.1.0 0.0.0.255\n  ‚Üí Block everything from 192.168.1.0/24\n\naccess-list 10 deny host 10.0.0.5\n  ‚Üí Block one specific host (wildcard 0.0.0.0)\n\naccess-list 10 permit any\n  ‚Üí Allow everything else (CRITICAL ‚Äî without this,\n     implicit deny blocks ALL remaining traffic!)\n\n<span class=\"k\">Apply to an interface:</span>\ninterface Gi0/0\n ip access-group 10 in     ‚Üê Filter inbound traffic\n ip access-group 10 out    ‚Üê Filter outbound traffic</div>\n\n<h3>Placement Rule</h3>\n<p><strong>Standard ACLs go near the DESTINATION.</strong> Because they only match source IPs, placing them near the source would block that source from reaching EVERYTHING ‚Äî not just the intended target.</p>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>The invisible deny:</strong> Every ACL ends with an implicit <code>deny any</code> that you can't see in the config. If you create an ACL with only deny statements, EVERYTHING gets blocked. Always add <code>permit any</code> at the end unless you intentionally want to block all unmatched traffic.</div>", "questions": [{"type": "type", "q": "Deny host 10.0.0.5 in ACL 10:", "answer": ["access-list 10 deny host 10.0.0.5", "access-list 10 deny 10.0.0.5 0.0.0.0"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny 172.16.0.0/16 in ACL 20:", "answer": ["access-list 20 deny 172.16.0.0 0.0.255.255"], "prompt": "Router(config)#"}, {"type": "type", "q": "Permit all in ACL 10:", "answer": ["access-list 10 permit any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply ACL 10 inbound:", "answer": ["ip access-group 10 in"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "View ACLs:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "Remove ACL from interface:", "answer": ["no ip access-group 10 in"], "prompt": "Router(config-if)#"}, {"type": "choice", "q": "No match = ?", "options": ["Permit", "Implicit deny", "Log", "Forward"], "answer": 1, "explain": "Invisible deny any at end."}]}, {"title": "Extended ACLs", "content": "<h3>Extended ACLs (100-199) ‚Äî Surgical Precision</h3>\n<p>Extended ACLs filter by <strong>source IP, destination IP, protocol, AND port number</strong>. This lets you write rules like \"allow HTTP to the web server but block SSH\" ‚Äî impossible with standard ACLs.</p>\n\n<div class=\"cli\"><span class=\"k\">Syntax:</span>\naccess-list [100-199] [permit|deny] [protocol]\n  [source wildcard] [destination wildcard] eq [port]\n\n<span class=\"k\">Real examples:</span>\naccess-list 100 permit tcp any host 10.0.0.100 eq 443\n  ‚Üí Allow HTTPS to server 10.0.0.100 from anywhere\n\naccess-list 100 deny tcp any any eq 23\n  ‚Üí Block all Telnet everywhere\n\naccess-list 100 permit icmp any any\n  ‚Üí Allow ping (ICMP) everywhere\n\naccess-list 100 deny ip any any log\n  ‚Üí Deny everything else and LOG it (useful for troubleshooting)</div>\n\n<h3>Placement Rule</h3>\n<p><strong>Extended ACLs go near the SOURCE.</strong> Because they can match specific destinations and ports, you can safely place them close to the traffic origin without accidentally blocking legitimate traffic to other destinations.</p>\n\n<h3>Named ACLs (Preferred)</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended WEB-FILTER</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 80</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 443</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">deny ip any any</span>\n\nNamed ACLs are preferred because:\n‚Ä¢ Descriptive names (WEB-FILTER vs number 100)\n‚Ä¢ Can insert/delete individual lines\n‚Ä¢ Can reorder rules without deleting entire ACL</div>\n\n<div class=\"kp\">üí° <strong>The \"eq\" keyword</strong> means \"equal to port.\" You can also use: <code>gt</code> (greater than), <code>lt</code> (less than), <code>range 80 443</code> (port range), <code>neq</code> (not equal to).</div>", "questions": [{"type": "type", "q": "Permit HTTP to host 10.0.0.5 from any:", "answer": ["access-list 100 permit tcp any host 10.0.0.5 eq 80"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny Telnet from any to any:", "answer": ["access-list 100 deny tcp any any eq 23", "access-list 100 deny tcp any any eq telnet"], "prompt": "Router(config)#"}, {"type": "type", "q": "Permit ICMP (ping) from any to any:", "answer": ["access-list 100 permit icmp any any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny SSH to 172.16.0.0/24 from 10.0.0.0/8:", "answer": ["access-list 100 deny tcp 10.0.0.0 0.255.255.255 172.16.0.0 0.0.0.255 eq 22"], "prompt": "Router(config)#"}, {"type": "choice", "q": "Extended ACL placement?", "options": ["Near dest", "Near source", "Core only", "Firewall only"], "answer": 1, "explain": "Close to source to stop early."}, {"type": "choice", "q": "'eq 443' means?", "options": ["443 packets", "Port 443 HTTPS", "443ms", "Error 443"], "answer": 1, "explain": "Port 443 HTTPS."}]}, {"title": "Named ACLs", "content": "<h3>Named ACLs ‚Äî The Modern Approach</h3>\n<p>Named ACLs replace numbered ACLs with descriptive names and add the ability to insert, delete, or reorder individual rules ‚Äî something impossible with numbered ACLs.</p>\n\n<div class=\"cli\"><span class=\"k\">Named Standard ACL:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list standard BLOCK-GUEST</span>\n<span class=\"p\">Router(config-std-nacl)#</span> <span class=\"k\">deny 192.168.100.0 0.0.0.255</span>\n<span class=\"p\">Router(config-std-nacl)#</span> <span class=\"k\">permit any</span>\n\n<span class=\"k\">Named Extended ACL:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended WEB-ONLY</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 80</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 443</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">deny ip any any</span>\n\n<span class=\"k\">Apply to interface:</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip access-group WEB-ONLY in</span>\n\n<span class=\"k\">Apply to VTY (restrict remote access):</span>\n<span class=\"p\">Router(config-line)#</span> <span class=\"k\">access-class ALLOW-MGMT in</span>\n  ‚Üí Only IPs permitted by ALLOW-MGMT can SSH/Telnet to the device.\n  ‚Üí Use this to restrict management access to admin VLANs only.</div>\n\n<h3>Editing Named ACLs</h3>\n<div class=\"cli\"><span class=\"k\">View with sequence numbers:</span>\nshow ip access-list WEB-ONLY\n  10 permit tcp any any eq 80\n  20 permit tcp any any eq 443\n  30 deny ip any any\n\n<span class=\"k\">Insert a rule between 10 and 20:</span>\nip access-list extended WEB-ONLY\n 15 permit tcp any any eq 8080     ‚Üê Inserts at sequence 15\n\n<span class=\"k\">Delete a specific rule:</span>\nip access-list extended WEB-ONLY\n no 20                              ‚Üê Removes line 20</div>\n\n<div class=\"kp\">üí° <strong>Always use <code>show access-lists</code></strong> to verify. It shows match counts per rule ‚Äî if a deny rule has 0 matches, it's either in the wrong place or the traffic pattern is different than expected.</div>", "questions": [{"type": "type", "q": "Create named extended 'BLOCK-TELNET':", "answer": ["ip access-list extended BLOCK-TELNET"], "prompt": "Router(config)#"}, {"type": "type", "q": "Create named standard 'ALLOW-MGMT':", "answer": ["ip access-list standard ALLOW-MGMT"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny all IP:", "answer": ["deny ip any any"], "prompt": "Router(config-ext-nacl)#"}, {"type": "type", "q": "Permit any (standard):", "answer": ["permit any"], "prompt": "Router(config-std-nacl)#"}, {"type": "type", "q": "Apply 'WEB-ONLY' inbound:", "answer": ["ip access-group WEB-ONLY in"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Apply to VTY lines:", "answer": ["access-class ALLOW-MGMT in"], "prompt": "Router(config-line)#"}]}]}, {"id": "nat", "title": "NAT & PAT", "desc": "Private to public translation.", "icon": "üé≠", "tier": "Intermediate", "lessons": [{"title": "NAT Types", "content": "<h3>NAT ‚Äî Network Address Translation</h3>\n<p>NAT solves the IPv4 address shortage. Your entire office (hundreds of devices with private IPs) shares a few public IP addresses to access the internet. Your home router does this too ‚Äî it's called PAT.</p>\n\n<h3>Three Types of NAT</h3>\n<div class=\"cli\"><span class=\"k\">Static NAT (1:1)</span>\n  One private IP maps to one public IP. Permanent.\n  Used for servers that need to be reachable from outside.\n  Example: Web server 192.168.1.100 ‚Üî 203.0.113.50\n\n<span class=\"k\">Dynamic NAT (Pool)</span>\n  Private IPs mapped to a POOL of public IPs on demand.\n  When the pool runs out, new connections fail.\n  Rarely used in modern networks (wasteful).\n\n<span class=\"k\">PAT / NAT Overload (Many:1)</span>\n  HUNDREDS of devices share ONE public IP address.\n  Differentiates connections using port numbers.\n  Your home router, your office ‚Äî this is everywhere.\n  192.168.1.10:52431 ‚Üí 203.0.113.1:<strong>10001</strong>\n  192.168.1.11:49876 ‚Üí 203.0.113.1:<strong>10002</strong></div>\n\n<h3>NAT Terminology</h3>\n<div class=\"cli\"><span class=\"k\">Inside Local</span>   = Private IP of your device (192.168.1.10)\n<span class=\"k\">Inside Global</span>  = Public IP after translation (203.0.113.1)\n<span class=\"k\">Outside Local</span>  = How you see the remote server (usually same as Global)\n<span class=\"k\">Outside Global</span> = Real IP of the remote server (8.8.8.8)\n\n<span class=\"k\">Think of it this way:</span>\n\"Inside\" = your network. \"Outside\" = the internet.\n\"Local\" = before translation. \"Global\" = after translation.</div>\n\n<div class=\"kp\">üí° <strong>PAT is the most common NAT type by far.</strong> It's what allows 200 office PCs to browse the internet through a single public IP. The router tracks connections using unique source port numbers.</div>", "questions": [{"type": "choice", "q": "PAT = ?", "options": ["Static NAT", "Dynamic NAT", "NAT Overload", "Port forwarding"], "answer": 2, "explain": "Many-to-one using ports."}, {"type": "choice", "q": "Inside Local = ?", "options": ["Public IP", "Private LAN IP", "Remote server", "ISP"], "answer": 1, "explain": "Private RFC 1918 address."}, {"type": "choice", "q": "1:1 NAT for servers?", "options": ["PAT", "Dynamic", "Static NAT", "Overload"], "answer": 2, "explain": "Static maps one private to one public."}]}, {"title": "NAT Config", "content": "<h3>NAT Configuration</h3>\n<p>NAT configuration has three steps: define what gets translated (ACL), define how (NAT command), and mark interfaces as inside or outside.</p>\n\n<h3>PAT (Overload) ‚Äî Most Common</h3>\n<div class=\"cli\"><span class=\"k\">Step 1: Define inside traffic</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">access-list 1 permit 192.168.0.0 0.0.255.255</span>\n\n<span class=\"k\">Step 2: Enable PAT on the WAN interface</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip nat inside source list 1 interface Gi0/1 overload</span>\n  \"Translate source IPs matching ACL 1 to the IP of Gi0/1.\n   The 'overload' keyword enables PAT (many-to-one).\"\n\n<span class=\"k\">Step 3: Mark interfaces</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip nat inside</span>       ‚Üê LAN-facing\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Gi0/1</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip nat outside</span>      ‚Üê WAN-facing</div>\n\n<h3>Static NAT ‚Äî For Servers</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">ip nat inside source static 192.168.1.100 203.0.113.50</span>\n  \"Always translate 192.168.1.100 to 203.0.113.50 and vice versa.\"\n  Server is now reachable from the internet at 203.0.113.50.</div>\n\n<h3>Verification</h3>\n<div class=\"cli\"><span class=\"p\">Router#</span> <span class=\"k\">show ip nat translations</span>  Active translation table\n<span class=\"p\">Router#</span> <span class=\"k\">show ip nat statistics</span>    Hit/miss counters, active translations\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip nat translation *</span> Flush all translations (use carefully!)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Both <code>ip nat inside</code> AND <code>ip nat outside</code> are required.</strong> If you forget either one, NAT silently does nothing ‚Äî packets pass through untranslated. This is the #1 NAT troubleshooting issue.</div>", "questions": [{"type": "type", "q": "Mark inside:", "answer": ["ip nat inside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Mark outside:", "answer": ["ip nat outside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "View translations:", "answer": ["show ip nat translations", "sh ip nat translations"], "prompt": "Router#"}, {"type": "type", "q": "NAT stats:", "answer": ["show ip nat statistics", "sh ip nat statistics"], "prompt": "Router#"}, {"type": "type", "q": "Clear NAT:", "answer": ["clear ip nat translation *"], "prompt": "Router#"}, {"type": "type", "q": "Static NAT 192.168.1.5 to 203.0.113.5:", "answer": ["ip nat inside source static 192.168.1.5 203.0.113.5"], "prompt": "Router(config)#"}, {"type": "choice", "q": "'overload' = ?", "options": ["Load balance", "PAT many-to-one", "Redundancy", "Faster"], "answer": 1, "explain": "Uses port numbers to share one IP."}]}]}, {"id": "stp", "title": "Spanning Tree Protocol", "desc": "Prevent loops, manage redundancy.", "icon": "üå≤", "tier": "Intermediate", "lessons": [{"title": "STP Basics", "content": "<h3>Spanning Tree Protocol ‚Äî Preventing Layer 2 Loops</h3>\n<p>Redundant links between switches are essential for reliability. But at Layer 2, redundant paths create <strong>loops</strong> ‚Äî and L2 loops are catastrophic. Unlike L3 where packets have a TTL and eventually die, L2 frames loop FOREVER, multiplying with each pass. A single loop can crash an entire network in seconds.</p>\n\n<h3>What STP Does</h3>\n<div class=\"cli\"><span class=\"k\">The problem:</span>\nSwitch A connects to Switch B via two links (redundancy).\nA broadcast frame enters Switch A. It sends copies out both links.\nSwitch B receives both copies, sends them back out both links.\nThis repeats infinitely. Broadcast storm. CPU 100%. Network dead.\n\n<span class=\"k\">The solution (STP):</span>\nSTP detects the redundant path and BLOCKS one of the links.\nTraffic flows through the unblocked path only.\nIf the active link fails, STP unblocks the backup automatically.</div>\n\n<h3>How STP Elects the Root Bridge</h3>\n<div class=\"cli\"><span class=\"k\">1. Root Bridge Election:</span>\n  Every switch has a Bridge ID = Priority (default 32768) + MAC\n  <strong>Lowest Bridge ID wins</strong> and becomes the Root Bridge.\n  All other switches calculate their best path TO the root.\n\n<span class=\"k\">2. Port Roles:</span>\n  Root Port       ‚Üí Best path TO the root (one per non-root switch)\n  Designated Port ‚Üí Best port on each network segment\n  Blocked Port    ‚Üí Redundant, not forwarding (prevents loops)\n\n<span class=\"k\">3. Port States (Classic STP):</span>\n  Blocking   ‚Üí Not forwarding, listening for BPDUs\n  Listening  ‚Üí 15 seconds, processing BPDUs\n  Learning   ‚Üí 15 seconds, learning MACs but not forwarding\n  Forwarding ‚Üí Normal operation, sending and receiving frames\n\n<span class=\"k\">Total convergence: ~50 seconds</span> (Blocking ‚Üí Forwarding)\nThat's 50 seconds of downtime when a topology changes!</div>\n\n<div class=\"kp\">üí° <strong>To control which switch is root:</strong> Set its priority lower than 32768. <code>spanning-tree vlan 1 root primary</code> sets priority to 24576 (or 4096 less than current root). In production, ALWAYS manually set your core switch as root.</div>", "questions": [{"type": "type", "q": "Set root VLAN 1:", "answer": ["spanning-tree vlan 1 root primary"], "prompt": "Switch(config)#"}, {"type": "type", "q": "View STP:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Priority 4096 VLAN 10:", "answer": ["spanning-tree vlan 10 priority 4096"], "prompt": "Switch(config)#"}, {"type": "choice", "q": "Default priority?", "options": ["4096", "24576", "32768", "61440"], "answer": 2, "explain": "32768 default."}, {"type": "choice", "q": "Classic STP convergence?", "options": ["1s", "30s", "50s", "2min"], "answer": 2, "explain": "~50 sec total."}, {"type": "choice", "q": "STP prevents?", "options": ["IP conflicts", "L2 loops/broadcast storms", "Routing loops", "VLAN mismatch"], "answer": 1, "explain": "Blocks redundant L2 paths."}]}, {"title": "RSTP & Protection", "content": "<h3>Rapid PVST+ & STP Protection Features</h3>\n<p>Classic STP takes ~50 seconds to converge. In a modern network, that's unacceptable. <strong>Rapid PVST+</strong> converges in under 1 second. Combined with protection features, it makes STP reliable and fast.</p>\n\n<h3>Rapid PVST+ (Always Enable This)</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config)#</span> <span class=\"k\">spanning-tree mode rapid-pvst</span>\n  Converges in <1 second instead of 50 seconds.\n  Per-VLAN spanning tree (each VLAN has its own STP instance).\n  This should be your DEFAULT on every switch.</div>\n\n<h3>Protection Features (Critical for Security)</h3>\n<div class=\"cli\"><span class=\"k\">PortFast</span> ‚Äî Skip STP on access ports\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">spanning-tree portfast</span>\n  Access ports (PCs, printers) go straight to Forwarding.\n  Without PortFast, users wait 30-50 seconds after plugging in.\n  NEVER enable on trunk/uplink ports!\n\n<span class=\"k\">BPDU Guard</span> ‚Äî Protect against unauthorized switches\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">spanning-tree bpduguard enable</span>\n  If a BPDU is received on this port, IMMEDIATELY err-disable it.\n  Someone plugged in a switch? Port goes down instantly.\n  Always pair with PortFast on access ports.\n\n<span class=\"k\">Root Guard</span> ‚Äî Protect root bridge election\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">spanning-tree guard root</span>\n  Prevents a port from becoming a root port.\n  If a superior BPDU arrives, the port goes to inconsistent state.\n  Use on ports facing other switches that should NEVER be root.\n\n<span class=\"k\">Global PortFast (all access ports):</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">spanning-tree portfast default</span>\n  Enables PortFast on ALL access ports automatically.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>PortFast + BPDU Guard = standard pair for every access port.</strong> PortFast gives instant connectivity. BPDU Guard prevents someone from plugging in a rogue switch and disrupting your STP topology.</div>", "questions": [{"type": "type", "q": "Enable Rapid PVST+:", "answer": ["spanning-tree mode rapid-pvst"], "prompt": "Switch(config)#"}, {"type": "type", "q": "PortFast on port:", "answer": ["spanning-tree portfast"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "PortFast globally:", "answer": ["spanning-tree portfast default"], "prompt": "Switch(config)#"}, {"type": "type", "q": "BPDU Guard:", "answer": ["spanning-tree bpduguard enable"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Root Guard:", "answer": ["spanning-tree guard root"], "prompt": "Switch(config-if)#"}, {"type": "choice", "q": "BPDU Guard on BPDU?", "options": ["Blocks", "Err-disables port", "Guards root", "Prevents storms"], "answer": 1, "explain": "Immediately err-disables."}]}]}, {"id": "wireless", "title": "Wireless Fundamentals", "desc": "802.11 standards, WLC, LWAP, security modes.", "icon": "üì∂", "tier": "Intermediate", "lessons": [{"title": "WiFi Standards", "content": "<h3>Wireless Networking (802.11)</h3>\n<p>WiFi is everywhere ‚Äî laptops, phones, IoT devices, warehouse scanners. Understanding wireless standards, channels, and architecture is essential because wireless problems are some of the most common helpdesk tickets.</p>\n\n<h3>802.11 Standards</h3>\n<div class=\"cli\"><span class=\"k\">Standard   Band        Max Speed     Name     Notes</span>\n802.11a    5 GHz      54 Mbps       ‚Äî        Less interference, shorter range\n802.11b    2.4 GHz    11 Mbps       ‚Äî        First popular WiFi, obsolete\n802.11g    2.4 GHz    54 Mbps       ‚Äî        Replaced b, still obsolete\n802.11n    Both       600 Mbps      WiFi 4   MIMO (multiple antennas)\n802.11ac   5 GHz only 6.9 Gbps      WiFi 5   MU-MIMO, beamforming, current\n802.11ax   Both       9.6 Gbps      WiFi 6   OFDMA, better in dense envs</div>\n\n<h3>Channels & Interference</h3>\n<div class=\"cli\"><span class=\"k\">2.4 GHz band:</span>\nOnly 3 non-overlapping channels: <strong>1, 6, 11</strong>\n14 total channels but they overlap each other.\nAdjacent-channel interference kills performance.\nAlso used by: microwaves, Bluetooth, baby monitors, cordless phones\n\n<span class=\"k\">5 GHz band:</span>\nMANY non-overlapping channels: 36, 40, 44, 48, 52, 56, 60, 64...\nLess interference, more capacity, shorter range.\nSome channels require DFS (Dynamic Frequency Selection) for radar.</div>\n\n<h3>Enterprise Wireless Architecture</h3>\n<div class=\"cli\"><span class=\"k\">Autonomous APs</span> (small business):\n  Each AP configured individually. Works for 1-3 APs.\n  Doesn't scale. No centralized management.\n\n<span class=\"k\">Lightweight AP (LWAP) + Wireless LAN Controller (WLC)</span>:\n  APs are \"dumb\" ‚Äî all intelligence lives in the WLC.\n  WLC manages: channels, power, security, roaming, firmware.\n  APs communicate with WLC via CAPWAP protocol.\n  CAPWAP Control: UDP 5246 | CAPWAP Data: UDP 5247\n  This is the enterprise standard for 10+ APs.</div>\n\n<div class=\"kp\">üí° <strong>Site survey rule:</strong> In 2.4 GHz, assign every AP one of channels 1, 6, or 11. Adjacent APs should use different channels. If two nearby APs use the same channel, they share airtime (co-channel interference). If they use overlapping channels (like 1 and 3), they create noise that's even worse.</div>", "questions": [{"type": "choice", "q": "WiFi 6 standard?", "options": ["802.11ac", "802.11ax", "802.11n", "802.11g"], "answer": 1, "explain": "802.11ax = WiFi 6, dual-band 9.6 Gbps."}, {"type": "choice", "q": "Non-overlapping 2.4 GHz channels?", "options": ["1,3,5", "1,5,9", "1,6,11", "1,4,8"], "answer": 2, "explain": "1, 6, 11 don't overlap."}, {"type": "choice", "q": "Enterprise WiFi architecture?", "options": ["Autonomous APs", "LWAP + WLC (controller)", "Mesh only", "Ad-hoc"], "answer": 1, "explain": "Lightweight APs managed by wireless LAN controller."}, {"type": "choice", "q": "802.11ac band?", "options": ["2.4 GHz only", "5 GHz only", "Both", "6 GHz"], "answer": 1, "explain": "802.11ac (WiFi 5) = 5 GHz only."}]}, {"title": "Wireless Security", "content": "<h3>Wireless Security</h3>\n<p>Wireless signals travel through walls. Anyone within range can potentially intercept traffic or try to connect. Proper security isn't optional ‚Äî it's the difference between a secure network and an open door.</p>\n\n<h3>Security Standards (Worst to Best)</h3>\n<div class=\"cli\"><span class=\"k\">WEP</span> (Wired Equivalent Privacy) ‚Äî 1999\n  ‚ùå COMPLETELY BROKEN. Can be cracked in minutes.\n  Uses RC4 encryption with static keys.\n  Never use WEP for anything. Ever.\n\n<span class=\"k\">WPA</span> (WiFi Protected Access) ‚Äî 2003\n  ‚ö†Ô∏è Better, but TKIP encryption is now weak.\n  Was a stopgap while WPA2 was developed.\n  Legacy devices may require it.\n\n<span class=\"k\">WPA2</span> (WiFi Protected Access 2) ‚Äî 2004\n  ‚úÖ Current standard. Uses AES/CCMP encryption.\n  Mandatory for all modern deployments.\n  Two modes: Personal (PSK) and Enterprise (802.1X).\n\n<span class=\"k\">WPA3</span> (WiFi Protected Access 3) ‚Äî 2018\n  ‚úÖ Newest. Uses SAE (Simultaneous Auth of Equals).\n  Protects against offline dictionary attacks.\n  Forward secrecy. Still rolling out.</div>\n\n<h3>Personal vs Enterprise Mode</h3>\n<div class=\"cli\"><span class=\"k\">WPA2-Personal (PSK):</span>\n  Shared password. Everyone uses the same password.\n  Simple to set up. Fine for home and small offices.\n  Problem: If one person leaves, you should change the\n  password for everyone. People rarely do.\n\n<span class=\"k\">WPA2-Enterprise (802.1X):</span>\n  Each user has unique credentials (username/password or cert).\n  Authenticates through a RADIUS server (like Cisco ISE).\n  When someone leaves, disable their account ‚Äî done.\n  Scalable, auditable, proper enterprise security.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Hidden SSIDs don't provide security.</strong> Your SSID is still broadcast in probe requests and association frames. Any wireless scanner can find hidden networks. Rely on proper encryption (WPA2/WPA3), not SSID hiding.</div>", "questions": [{"type": "choice", "q": "Current WiFi security standard?", "options": ["WEP", "WPA", "WPA2 (AES)", "WPA3"], "answer": 2, "explain": "WPA2 with AES/CCMP is current standard. WPA3 emerging."}, {"type": "choice", "q": "Enterprise WiFi auth uses?", "options": ["PSK only", "802.1X + RADIUS", "WEP key", "MAC filtering"], "answer": 1, "explain": "802.1X with RADIUS for per-user authentication."}, {"type": "choice", "q": "WEP is?", "options": ["Current standard", "Broken, never use", "Enterprise only", "Latest version"], "answer": 1, "explain": "WEP cracked in minutes. Completely insecure."}, {"type": "choice", "q": "CAPWAP data port?", "options": ["443", "5246", "5247", "8443"], "answer": 2, "explain": "Control=5246, Data=5247."}]}]}, {"id": "int_drill1", "title": "CLI Drill: VLAN & Routing Sprint", "desc": "Full VLAN+routing config from scratch.", "icon": "‚å®Ô∏è", "tier": "Intermediate", "lessons": [{"title": "VLAN Factory", "content": "<h3>VLAN Configuration Review</h3><p>VLANs segment a switch into isolated broadcast domains. Devices in different VLANs <strong>cannot communicate</strong> without a router or L3 switch.</p><div class=\"cli\"><span class=\"k\">Create + assign:</span>\nvlan 10                         Create VLAN\n name ENGINEERING               Give it a name\ninterface Fa0/1\n switchport mode access          Set as access port\n switchport access vlan 10       Assign to VLAN\n\n<span class=\"k\">Trunk (carries multiple VLANs):</span>\ninterface Gi0/1\n switchport mode trunk           Enable 802.1Q trunking\n switchport trunk native vlan 99 Untagged VLAN (security!)\n switchport trunk allowed vlan 10,20,30\n switchport nonegotiate          Disable DTP (security!)\n\n<span class=\"k\">Inter-VLAN routing options:</span>\nRouter-on-a-stick: subinterfaces + encapsulation dot1q\nL3 Switch SVIs:    ip routing + interface vlan [id]</div><div class=\"wb\">&#x26A0;&#xFE0F; Native VLAN mismatch = STP issues + security risk. Always change native from VLAN 1 and match both sides!</div>", "questions": [{"type": "type", "q": "Create VLAN 10:", "answer": ["vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name DATA:", "answer": ["name DATA"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Create VLAN 20:", "answer": ["vlan 20"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name VOICE:", "answer": ["name VOICE"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Create VLAN 99:", "answer": ["vlan 99"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name MANAGEMENT:", "answer": ["name MANAGEMENT"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Enter Fa0/1:", "answer": ["interface FastEthernet0/1", "int fa0/1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Access mode:", "answer": ["switchport mode access"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "VLAN 10:", "answer": ["switchport access vlan 10"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enter Gi0/1 (uplink):", "answer": ["interface GigabitEthernet0/1", "int gi0/1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trunk mode:", "answer": ["switchport mode trunk"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Native VLAN 99:", "answer": ["switchport trunk native vlan 99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Allow 10,20,99:", "answer": ["switchport trunk allowed vlan 10,20,99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "No DTP:", "answer": ["switchport nonegotiate"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enable L3 routing:", "answer": ["ip routing"], "prompt": "Switch(config)#"}, {"type": "type", "q": "SVI VLAN 10:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "IP 192.168.10.1/24:", "answer": ["ip address 192.168.10.1 255.255.255.0"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "No shut:", "answer": ["no shutdown", "no shut"], "prompt": "Switch(config-if)#"}]}, {"title": "Routing Sprint", "content": "<h3>Routing Sprint</h3><p>This drill tests your ability to configure <strong>static routes, OSPF, and EIGRP</strong> from memory. In production, you need to switch between protocols fluently ‚Äî a single typo in a wildcard mask or AS number can black-hole traffic.</p><div class=\"cli\"><span class=\"k\">Key syntax differences:</span>\nStatic: ip route [net] [<strong>subnet mask</strong>] [next-hop]\nOSPF:   network [net] [<strong>wildcard mask</strong>] area [num]\nEIGRP:  network [net] [<strong>wildcard mask</strong>]\n\n<span class=\"k\">Static uses subnet masks. OSPF/EIGRP use wildcard masks!</span>\nThis is the most common config mistake for beginners.\n\n<span class=\"k\">AD values (lower wins):</span>\nConnected=0, Static=1, EIGRP=90, OSPF=110, RIP=120\n\n<span class=\"k\">Show commands per protocol:</span>\nshow ip route static  | show ip route ospf | show ip route eigrp</div>", "questions": [{"type": "type", "q": "Start OSPF 1:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Router-ID 3.3.3.3:", "answer": ["router-id 3.3.3.3"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "10.0.0.0/24 area 0:", "answer": ["network 10.0.0.0 0.0.0.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "192.168.1.0/24 area 0:", "answer": ["network 192.168.1.0 0.0.0.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "172.16.0.0/16 area 1:", "answer": ["network 172.16.0.0 0.0.255.255 area 1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive Gi0/2:", "answer": ["passive-interface GigabitEthernet0/2", "passive-interface gi0/2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Redistribute default:", "answer": ["default-information originate"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Default route via 203.0.113.1:", "answer": ["ip route 0.0.0.0 0.0.0.0 203.0.113.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Static 10.10.0.0/16 via 10.0.0.2:", "answer": ["ip route 10.10.0.0 255.255.0.0 10.0.0.2"], "prompt": "Router(config)#"}, {"type": "type", "q": "Check routes:", "answer": ["show ip route", "sh ip route"], "prompt": "Router#"}, {"type": "type", "q": "Check OSPF neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}]}]}, {"id": "int_drill2", "title": "CLI Drill: ACL Builder", "desc": "Write ACLs from requirements until automatic.", "icon": "üõ°Ô∏è", "tier": "Intermediate", "lessons": [{"title": "Standard ACL Drills", "content": "<h3>Standard ACLs Review</h3><p>Standard ACLs (1-99) filter by <strong>source IP only</strong>. Place them <strong>close to the destination</strong> because they can't distinguish traffic types.</p><div class=\"cli\"><span class=\"k\">Syntax:</span>\naccess-list [1-99] permit|deny [source] [wildcard]\naccess-list [1-99] permit any\n\n<span class=\"k\">Examples:</span>\naccess-list 10 deny 192.168.1.0 0.0.0.255    Block /24\naccess-list 10 deny host 10.0.0.5            Block one host\naccess-list 10 permit any                     Allow everything else\n\n<span class=\"k\">Apply to interface:</span>\ninterface Gi0/0\n ip access-group 10 in|out\n\n<span class=\"k\">Apply to VTY (remote access):</span>\nline vty 0 4\n access-class 10 in</div><div class=\"wb\">&#x26A0;&#xFE0F; There is an invisible <code>deny any</code> at the END of every ACL. If you don't add <code>permit any</code>, EVERYTHING gets blocked!</div>", "questions": [{"type": "type", "q": "ACL 10: deny 10.0.0.0/8:", "answer": ["access-list 10 deny 10.0.0.0 0.255.255.255"], "prompt": "Router(config)#"}, {"type": "type", "q": "ACL 10: permit rest:", "answer": ["access-list 10 permit any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply ACL 10 out on Gi0/0:", "answer": ["ip access-group 10 out"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "ACL 20: deny host 192.168.1.100:", "answer": ["access-list 20 deny host 192.168.1.100", "access-list 20 deny 192.168.1.100 0.0.0.0"], "prompt": "Router(config)#"}, {"type": "type", "q": "ACL 20: permit 192.168.1.0/24:", "answer": ["access-list 20 permit 192.168.1.0 0.0.0.255"], "prompt": "Router(config)#"}, {"type": "type", "q": "ACL 20: deny everything else:", "answer": ["access-list 20 deny any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Named standard 'MGMT-ACCESS':", "answer": ["ip access-list standard MGMT-ACCESS"], "prompt": "Router(config)#"}, {"type": "type", "q": "Permit 10.0.0.0/24:", "answer": ["permit 10.0.0.0 0.0.0.255"], "prompt": "Router(config-std-nacl)#"}, {"type": "type", "q": "Apply to VTY:", "answer": ["access-class MGMT-ACCESS in"], "prompt": "Router(config-line)#"}]}, {"title": "Extended ACL Drills", "content": "<h3>Extended ACLs Review</h3><p>Extended ACLs (100-199) filter by source, destination, protocol, AND port. Place them <strong>close to the source</strong> to stop unwanted traffic early.</p><div class=\"cli\"><span class=\"k\">Syntax:</span>\naccess-list [100-199] permit|deny [protocol]\n  [source wildcard] [dest wildcard] eq [port]\n\n<span class=\"k\">Examples:</span>\naccess-list 100 permit tcp any host 10.0.0.5 eq 80     HTTP to server\naccess-list 100 deny tcp any any eq 23                  Block Telnet\naccess-list 100 permit icmp any any                     Allow ping\naccess-list 100 deny ip any any log                     Deny+log rest\n\n<span class=\"k\">Named ACLs (preferred):</span>\nip access-list extended WEB-FILTER\n permit tcp any any eq 80\n permit tcp any any eq 443\n deny ip any any\n\n<span class=\"k\">Key ports:</span> eq 22=SSH, eq 23=Telnet, eq 80=HTTP, eq 443=HTTPS</div><div class=\"kp\">&#x1F4A1; <strong>\"eq\"</strong> means \"equal to port\". You can also use <strong>gt</strong> (greater than), <strong>lt</strong> (less than), <strong>range</strong> for port ranges.</div>", "questions": [{"type": "type", "q": "100: permit HTTP from 10.0.0.0/24 to any:", "answer": ["access-list 100 permit tcp 10.0.0.0 0.0.0.255 any eq 80"], "prompt": "Router(config)#"}, {"type": "type", "q": "100: permit HTTPS from 10.0.0.0/24 to any:", "answer": ["access-list 100 permit tcp 10.0.0.0 0.0.0.255 any eq 443"], "prompt": "Router(config)#"}, {"type": "type", "q": "100: permit DNS from any to 8.8.8.8:", "answer": ["access-list 100 permit udp any host 8.8.8.8 eq 53"], "prompt": "Router(config)#"}, {"type": "type", "q": "100: permit ICMP any to any:", "answer": ["access-list 100 permit icmp any any"], "prompt": "Router(config)#"}, {"type": "type", "q": "100: deny all with log:", "answer": ["access-list 100 deny ip any any log"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply 100 inbound on Gi0/0:", "answer": ["ip access-group 100 in"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Named ext 'DENY-SSH':", "answer": ["ip access-list extended DENY-SSH"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny SSH from 192.168.0.0/16:", "answer": ["deny tcp 192.168.0.0 0.0.255.255 any eq 22"], "prompt": "Router(config-ext-nacl)#"}, {"type": "type", "q": "Permit all else:", "answer": ["permit ip any any"], "prompt": "Router(config-ext-nacl)#"}, {"type": "type", "q": "Verify ACLs:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}]}]}, {"id": "drill_vlan", "title": "VLAN Speed Drills", "desc": "Configure VLANs, trunks, SVIs from memory.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "Full VLAN + Trunk Setup", "content": "<h3>Complete VLAN Build</h3><p>Building a proper VLAN infrastructure requires creating VLANs, assigning access ports, configuring trunks, and setting native VLAN for security.</p><div class=\"cli\"><span class=\"k\">Build sequence:</span>\n1. Create VLANs and name them\n2. Assign access ports to VLANs\n3. Configure uplinks as trunks\n4. Set native VLAN (never use VLAN 1!)\n5. Limit allowed VLANs on trunks\n6. Disable DTP on all trunk ports\n\n<span class=\"k\">Verification:</span>\nshow vlan brief          ‚Üí Port-to-VLAN mapping\nshow interfaces trunk    ‚Üí Trunk status, allowed VLANs\nshow interfaces status   ‚Üí Speed/duplex/VLAN per port</div><div class=\"kp\">&#x1F4A1; <strong>Best practice:</strong> Only allow needed VLANs on trunks. Don't leave \"allowed all\" (default) ‚Äî it's a VLAN hopping risk.</div>", "questions": [{"type": "type", "q": "Create VLAN 10:", "answer": ["vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name 'USERS':", "answer": ["name USERS"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Create VLAN 20:", "answer": ["vlan 20"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name 'SERVERS':", "answer": ["name SERVERS"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Create VLAN 99:", "answer": ["vlan 99"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Name 'NATIVE':", "answer": ["name NATIVE"], "prompt": "Switch(config-vlan)#"}, {"type": "type", "q": "Enter Fa0/1:", "answer": ["interface FastEthernet0/1", "int fa0/1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Access mode:", "answer": ["switchport mode access"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "VLAN 10:", "answer": ["switchport access vlan 10"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enter Gi0/1 (uplink):", "answer": ["interface GigabitEthernet0/1", "int gi0/1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trunk mode:", "answer": ["switchport mode trunk"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Native 99:", "answer": ["switchport trunk native vlan 99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Allow 10,20,99:", "answer": ["switchport trunk allowed vlan 10,20,99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Disable DTP:", "answer": ["switchport nonegotiate"], "prompt": "Switch(config-if)#"}]}, {"title": "Inter-VLAN + SVI Setup", "content": "<h3>L3 Switch Inter-VLAN Routing</h3><p>An L3 switch uses SVIs (Switch Virtual Interfaces) to route between VLANs without needing an external router. This is the modern enterprise standard.</p><div class=\"cli\"><span class=\"k\">Requirements:</span>\n1. <span class=\"k\">ip routing</span>              ‚Üí Enable L3 forwarding\n2. <span class=\"k\">interface vlan [id]</span>      ‚Üí Create SVI per VLAN\n3. IP address on each SVI              ‚Üí Gateway for that VLAN\n4. <span class=\"k\">no shutdown</span> on each SVI  ‚Üí SVIs are down by default!\n5. VLAN must exist AND have active ports\n\n<span class=\"k\">SVI = the default gateway</span> for all devices in that VLAN.\nHosts set their gateway to the SVI IP.\n\n<span class=\"k\">Alternative: Router-on-a-stick</span>\nUses subinterfaces: int Gi0/0.10\nencapsulation dot1q 10\nip address 192.168.10.1 255.255.255.0</div><div class=\"wb\">&#x26A0;&#xFE0F; SVI won't come up if: VLAN doesn't exist, no ports in that VLAN, or forgot <code>ip routing</code>.</div>", "questions": [{"type": "type", "q": "Enable L3 routing:", "answer": ["ip routing"], "prompt": "Switch(config)#"}, {"type": "type", "q": "SVI VLAN 10:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "IP 192.168.10.1/24:", "answer": ["ip address 192.168.10.1 255.255.255.0"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Bring up:", "answer": ["no shutdown", "no shut"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "SVI VLAN 20:", "answer": ["interface vlan 20", "int vlan 20"], "prompt": "Switch(config)#"}, {"type": "type", "q": "IP 192.168.20.1/24:", "answer": ["ip address 192.168.20.1 255.255.255.0"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Bring up:", "answer": ["no shutdown", "no shut"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Default route via 10.0.0.1:", "answer": ["ip route 0.0.0.0 0.0.0.0 10.0.0.1"], "prompt": "Switch(config)#"}]}]}, {"id": "drill_ospf", "title": "OSPF Speed Drills", "desc": "Full OSPF config from scratch.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "Complete OSPF Setup", "content": "<h3>OSPF Full Configuration</h3><p>OSPF is the most commonly deployed interior routing protocol. It uses link-state advertisements and the Dijkstra algorithm to find shortest paths.</p><div class=\"cli\"><span class=\"k\">Configuration sequence:</span>\nrouter ospf 1                            Process ID (local only)\n router-id 1.1.1.1                       Unique ID (use loopback)\n network [net] [wildcard] area [num]      Activate on interfaces\n passive-interface [int]                  Suppress hellos on LAN\n default-information originate            Advertise default route\n auto-cost reference-bandwidth 10000      Fix cost for 10G+\n\n<span class=\"k\">Critical requirements for neighbors:</span>\n‚Ä¢ Same area on shared link\n‚Ä¢ Same subnet and mask\n‚Ä¢ Same Hello/Dead timers (10/40 default)\n‚Ä¢ Same authentication\n‚Ä¢ Same MTU (or ignore with ip ospf mtu-ignore)\n\n<span class=\"k\">Verification:</span>\nshow ip ospf neighbor      ‚Üí Neighbor states (FULL = good)\nshow ip route ospf         ‚Üí OSPF-learned routes only\nshow ip ospf interface br  ‚Üí OSPF-enabled interfaces</div>", "questions": [{"type": "type", "q": "Start OSPF process 1:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Router-ID 1.1.1.1:", "answer": ["router-id 1.1.1.1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 10.0.0.0/30 area 0:", "answer": ["network 10.0.0.0 0.0.0.3 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 192.168.1.0/24 area 0:", "answer": ["network 192.168.1.0 0.0.0.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 172.16.0.0/16 area 1:", "answer": ["network 172.16.0.0 0.0.255.255 area 1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive on Gi0/2 (LAN):", "answer": ["passive-interface GigabitEthernet0/2", "passive-interface gi0/2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Inject default route:", "answer": ["default-information originate"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Set ref BW 10000:", "answer": ["auto-cost reference-bandwidth 10000"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Verify neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "Verify routes:", "answer": ["show ip route ospf", "sh ip route ospf"], "prompt": "Router#"}]}]}, {"id": "drill_acl", "title": "ACL Speed Drills", "desc": "Write ACLs from memory under pressure.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "ACL Scenario Drills", "content": "<h3>Real-World ACL Scenarios</h3><p>ACLs in production aren't simple one-liners. You need to think about what to block, what to allow, and the order matters ‚Äî first match wins.</p><div class=\"cli\"><span class=\"k\">Common real-world ACLs:</span>\n\n<span class=\"c\">// Protect a web server: allow HTTP/HTTPS, block Telnet, allow ping</span>\naccess-list 100 deny tcp any host 10.0.0.5 eq 23\naccess-list 100 permit tcp any host 10.0.0.5 eq 80\naccess-list 100 permit tcp any host 10.0.0.5 eq 443\naccess-list 100 permit icmp any any\naccess-list 100 deny ip any any log\n\n<span class=\"k\">ACL Rules:</span>\n‚Ä¢ Processed top-down, first match wins\n‚Ä¢ Implicit deny all at the end\n‚Ä¢ Standard (1-99): source only ‚Üí place near destination\n‚Ä¢ Extended (100-199): src+dst+proto ‚Üí place near source\n‚Ä¢ Named ACLs allow editing individual lines</div><div class=\"kp\">&#x1F4A1; <strong>show access-lists</strong> shows hit counters. Zero matches on a deny rule? It's probably in the wrong place.</div>", "questions": [{"type": "type", "q": "Block 10.0.0.0/8 from web server 172.16.1.100:", "answer": ["access-list 100 deny tcp 10.0.0.0 0.255.255.255 host 172.16.1.100 eq 80"], "prompt": "Router(config)#"}, {"type": "type", "q": "Allow HTTPS from anywhere to server:", "answer": ["access-list 100 permit tcp any host 172.16.1.100 eq 443"], "prompt": "Router(config)#"}, {"type": "type", "q": "Block all Telnet:", "answer": ["access-list 100 deny tcp any any eq 23", "access-list 100 deny tcp any any eq telnet"], "prompt": "Router(config)#"}, {"type": "type", "q": "Allow DNS queries:", "answer": ["access-list 100 permit udp any any eq 53"], "prompt": "Router(config)#"}, {"type": "type", "q": "Allow ICMP (ping):", "answer": ["access-list 100 permit icmp any any"], "prompt": "Router(config)#"}, {"type": "type", "q": "Deny everything else + log:", "answer": ["access-list 100 deny ip any any log"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply inbound on Gi0/0:", "answer": ["ip access-group 100 in"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check hit counts:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}]}]}, {"id": "drill_nat", "title": "NAT/PAT Drills", "desc": "Full NAT configurations from memory.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "Complete NAT Setup", "content": "<h3>NAT/PAT Full Configuration</h3><p>NAT translates private IPs (RFC 1918) to public IPs for internet access. PAT (overload) lets hundreds of devices share one public IP using port numbers.</p><div class=\"cli\"><span class=\"k\">PAT (most common):</span>\naccess-list 1 permit 192.168.0.0 0.0.255.255   Define inside hosts\nip nat inside source list 1 interface Gi0/1 overload\n ‚Üí \"overload\" = PAT (many-to-one using ports)\n\ninterface Gi0/0\n ip nat inside              Mark LAN-facing interface\ninterface Gi0/1\n ip nat outside             Mark WAN-facing interface\n\n<span class=\"k\">Static NAT (servers):</span>\nip nat inside source static 192.168.1.100 203.0.113.50\n ‚Üí 1:1 mapping, server always reachable at public IP\n\n<span class=\"k\">Verification:</span>\nshow ip nat translations   ‚Üí Active translation table\nshow ip nat statistics     ‚Üí Hit counts, misses\nclear ip nat translation * ‚Üí Flush all (careful!)</div><div class=\"wb\">&#x26A0;&#xFE0F; Both <code>ip nat inside</code> AND <code>ip nat outside</code> are required. Missing either = NAT silently does nothing.</div>", "questions": [{"type": "type", "q": "ACL for inside network:", "answer": ["access-list 1 permit 192.168.0.0 0.0.255.255"], "prompt": "Router(config)#"}, {"type": "type", "q": "PAT overload on Gi0/1:", "answer": ["ip nat inside source list 1 interface GigabitEthernet0/1 overload", "ip nat inside source list 1 interface gi0/1 overload"], "prompt": "Router(config)#"}, {"type": "type", "q": "Mark Gi0/0 as inside:", "answer": ["ip nat inside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Mark Gi0/1 as outside:", "answer": ["ip nat outside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Static NAT .100 to .50:", "answer": ["ip nat inside source static 192.168.1.100 203.0.113.50"], "prompt": "Router(config)#"}, {"type": "type", "q": "View translations:", "answer": ["show ip nat translations", "sh ip nat trans"], "prompt": "Router#"}, {"type": "type", "q": "View stats:", "answer": ["show ip nat statistics", "sh ip nat stat"], "prompt": "Router#"}, {"type": "type", "q": "Clear all translations:", "answer": ["clear ip nat translation *"], "prompt": "Router#"}]}]}, {"id": "drill_routing", "title": "Routing Protocol Mix", "desc": "OSPF, EIGRP, static - all mixed up.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "Mixed Routing Drills", "content": "<h3>Multi-Protocol Routing</h3><p>Enterprise networks often run multiple routing protocols. You need to know the syntax differences and when each protocol's routes appear.</p><div class=\"cli\"><span class=\"k\">Protocol Comparison:</span>\n           OSPF          EIGRP         Static\nStart:     router ospf 1 router eigrp 100 ip route...\nNetwork:   + wildcard    + wildcard      + subnet mask\nIdentify:  Process ID    AS number       N/A\nAD:        110           90              1\nVerify:    sh ip ospf nei sh ip eigrp nei sh ip route static\nRoutes:    sh ip route O  sh ip route D   sh ip route S\n\n<span class=\"k\">Filtering routes by protocol:</span>\nshow ip route ospf       Only OSPF routes (O, OIA, OE1, OE2)\nshow ip route eigrp      Only EIGRP routes (D, D EX)\nshow ip route static     Only static routes (S, S*)\nshow ip route connected  Only connected routes (C, L)</div><div class=\"kp\">&#x1F4A1; Both OSPF and EIGRP use <strong>wildcard masks</strong> in their network statements. Static routes use <strong>subnet masks</strong>. Don't mix them up!</div>", "questions": [{"type": "type", "q": "OSPF: advertise 10.1.0.0/16 area 0:", "answer": ["network 10.1.0.0 0.0.255.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "EIGRP: advertise 172.16.0.0/24:", "answer": ["network 172.16.0.0 0.0.0.255"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Static: 10.10.0.0/16 via 192.168.1.1:", "answer": ["ip route 10.10.0.0 255.255.0.0 192.168.1.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Default route via 10.0.0.1:", "answer": ["ip route 0.0.0.0 0.0.0.0 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "OSPF: check neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP: check neighbors:", "answer": ["show ip eigrp neighbors", "sh ip eigrp nei"], "prompt": "Router#"}, {"type": "type", "q": "Show OSPF routes only:", "answer": ["show ip route ospf", "sh ip route ospf"], "prompt": "Router#"}, {"type": "type", "q": "Show EIGRP routes only:", "answer": ["show ip route eigrp", "sh ip route eigrp"], "prompt": "Router#"}, {"type": "type", "q": "Show static routes only:", "answer": ["show ip route static", "sh ip route static"], "prompt": "Router#"}, {"type": "type", "q": "Show connected routes only:", "answer": ["show ip route connected", "sh ip route connected"], "prompt": "Router#"}]}, {"title": "Route Filtering & Redistribution", "content": "<h3>Controlling Route Advertisements</h3><p>By default, routing protocols advertise on every enabled interface and share all learned routes. You need to control this for security and efficiency.</p><div class=\"cli\"><span class=\"k\">Passive Interface:</span>\npassive-interface Gi0/0          Stop hellos on one port\npassive-interface default         Stop ALL, then enable specific:\n no passive-interface Gi0/1       Re-enable where needed\n\n<span class=\"k\">Default Route Injection:</span>\ndefault-information originate     OSPF: share your default route\n ‚Üí Requires a default route to exist in routing table\n ‚Üí Add \"always\" to advertise even without one\n\n<span class=\"k\">Redistribution (mixing protocols):</span>\nredistribute static subnets       Bring static into OSPF\nredistribute connected subnets    Bring connected into OSPF\nredistribute eigrp 100 subnets    Bring EIGRP into OSPF\n\n<span class=\"k\">OSPF Cost Tuning:</span>\nauto-cost reference-bandwidth 10000  Fix for 10G links\nip ospf cost 50                      Manual cost per-interface</div><div class=\"wb\">&#x26A0;&#xFE0F; <strong>passive-interface default</strong> is a best practice ‚Äî silences everything, then you enable only the interfaces that need routing.</div>", "questions": [{"type": "type", "q": "OSPF: passive Gi0/0:", "answer": ["passive-interface GigabitEthernet0/0", "passive-interface gi0/0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "OSPF: advertise default:", "answer": ["default-information originate"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "EIGRP: no auto-summary:", "answer": ["no auto-summary"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "OSPF: redistribute static:", "answer": ["redistribute static subnets"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "OSPF: redistribute connected:", "answer": ["redistribute connected subnets"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "OSPF: set ref BW 10000:", "answer": ["auto-cost reference-bandwidth 10000"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "OSPF: cost 50 on interface:", "answer": ["ip ospf cost 50"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "OSPF: router-id 3.3.3.3:", "answer": ["router-id 3.3.3.3"], "prompt": "Router(config-router)#"}]}]}, {"id": "drill_stp", "title": "STP Deep Drill", "desc": "Election, states, protection features.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "STP Mastery", "content": "<h3>Spanning Tree Protocol Deep Dive</h3><p>STP prevents Layer 2 loops by selectively blocking redundant paths. Without STP, a single loop creates a broadcast storm that crashes the network in seconds.</p><div class=\"cli\"><span class=\"k\">Election Process:</span>\n1. Root Bridge = Lowest Bridge ID (Priority + MAC)\n2. Default priority = 32768 (must be multiple of 4096)\n3. Root Ports = Best path TO root on non-root switches\n4. Designated Ports = Best path on each segment\n5. Blocked Ports = Everything else\n\n<span class=\"k\">Port States:</span> Blocking ‚Üí Listening(15s) ‚Üí Learning(15s) ‚Üí Forwarding\n<span class=\"k\">Rapid PVST+:</span> Converges in <1 second vs ~50 sec classic\n\n<span class=\"k\">Protection Features:</span>\nPortFast       ‚Üí Skip STP on access ports (instant forwarding)\nBPDU Guard     ‚Üí Err-disable if BPDU received (protect access ports)\nRoot Guard     ‚Üí Prevent port from becoming root (protect topology)\nLoop Guard     ‚Üí Prevent blocked port from forwarding on link failure\n\n<span class=\"k\">Set priority:</span>\nspanning-tree vlan 10 root primary    ‚Üí Sets priority to 24576\nspanning-tree vlan 10 priority 4096  ‚Üí Manual priority</div>", "questions": [{"type": "type", "q": "Set root for VLAN 10:", "answer": ["spanning-tree vlan 10 root primary"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Priority 8192 VLAN 1:", "answer": ["spanning-tree vlan 1 priority 8192"], "prompt": "Switch(config)#"}, {"type": "type", "q": "View STP for VLAN 10:", "answer": ["show spanning-tree vlan 10", "sh spanning-tree vlan 10"], "prompt": "Switch#"}, {"type": "type", "q": "Rapid PVST+:", "answer": ["spanning-tree mode rapid-pvst"], "prompt": "Switch(config)#"}, {"type": "type", "q": "PortFast on port:", "answer": ["spanning-tree portfast"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "BPDU Guard:", "answer": ["spanning-tree bpduguard enable"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Root Guard:", "answer": ["spanning-tree guard root"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Loop Guard:", "answer": ["spanning-tree guard loop"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "PortFast global:", "answer": ["spanning-tree portfast default"], "prompt": "Switch(config)#"}, {"type": "type", "q": "BPDU Filter:", "answer": ["spanning-tree bpdufilter enable"], "prompt": "Switch(config-if)#"}, {"type": "choice", "q": "Root bridge has priority?", "options": ["Highest", "Lowest", "32768", "Random"], "answer": 1, "explain": "Lowest priority wins."}, {"type": "choice", "q": "STP priority must be multiple of?", "options": ["256", "1024", "4096", "8192"], "answer": 2, "explain": "Increments of 4096."}]}]}, {"id": "drill_eigrp2", "title": "EIGRP Deep Drill", "desc": "Full EIGRP mastery.", "icon": "üéØ", "tier": "Intermediate", "lessons": [{"title": "EIGRP Advanced", "content": "<h3>EIGRP Advanced Features</h3><p>EIGRP uses the DUAL algorithm to pre-calculate backup routes (Feasible Successors), enabling sub-second failover without recalculating the entire topology.</p><div class=\"cli\"><span class=\"k\">Key Concepts:</span>\nSuccessor          = Best route (installed in routing table)\nFeasible Successor = Pre-qualified backup (instant failover!)\nFeasibility Cond.  = Reported distance < Feasible distance\n\n<span class=\"k\">Advanced Config:</span>\nrouter eigrp 100\n eigrp router-id 2.2.2.2           Explicit RID\n variance 2                         Unequal-cost load balance!\n passive-interface default           Silence all, enable specific\n no passive-interface Gi0/0          Enable where needed\n no auto-summary                     Always disable auto-summary\n\n<span class=\"k\">Verification:</span>\nshow ip eigrp topology        Successors + Feasible Successors\nshow ip eigrp neighbors       Neighbor table (hold times!)\nshow ip eigrp interfaces      Which interfaces run EIGRP\nshow ip eigrp traffic         Hello/update/query/reply counts</div><div class=\"kp\">&#x1F4A1; <strong>Variance 2</strong> means \"use any path with metric up to 2x the best\". This is EIGRP's killer feature ‚Äî no other IGP does unequal-cost load balancing.</div>", "questions": [{"type": "type", "q": "EIGRP AS 200:", "answer": ["router eigrp 200"], "prompt": "Router(config)#"}, {"type": "type", "q": "Network 192.168.0.0/16:", "answer": ["network 192.168.0.0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Set router-id:", "answer": ["eigrp router-id 2.2.2.2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Variance 2:", "answer": ["variance 2"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Passive default:", "answer": ["passive-interface default"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Un-passive Gi0/0:", "answer": ["no passive-interface GigabitEthernet0/0", "no passive-interface gi0/0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Check topology:", "answer": ["show ip eigrp topology", "sh ip eigrp topo"], "prompt": "Router#"}, {"type": "type", "q": "Check interfaces:", "answer": ["show ip eigrp interfaces", "sh ip eigrp int"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP traffic stats:", "answer": ["show ip eigrp traffic", "sh ip eigrp traffic"], "prompt": "Router#"}, {"type": "choice", "q": "Successor vs Feasible Successor?", "options": ["Backup vs primary", "Primary best route vs qualified backup", "Same thing", "External vs internal"], "answer": 1, "explain": "Successor=best, Feasible Successor=pre-qualified backup."}]}]}, {"id": "port_sec", "title": "Port Security & L2 Hardening", "desc": "Sticky MACs, DHCP Snooping, DAI, storm control.", "icon": "üõ°Ô∏è", "tier": "Advanced", "lessons": [{"title": "Port Security", "content": "<h3>Port Security ‚Äî Control Who Connects</h3>\n<p>Without port security, anyone can walk up to a wall jack, plug in, and join your network. Port security limits the number of MAC addresses allowed on a port and defines what happens when someone violates that limit.</p>\n\n<h3>How It Works</h3>\n<div class=\"cli\"><span class=\"k\">Concept:</span>\nEach port gets a maximum number of allowed MAC addresses.\nThe switch learns MACs dynamically, statically, or via \"sticky.\"\nIf a new MAC appears when the limit is reached ‚Üí VIOLATION.\n\n<span class=\"k\">Configuration:</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport mode access</span>           Required first!\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport port-security</span>          Enable\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport port-security maximum 2</span> Max 2 MACs\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport port-security mac-address sticky</span>\n  Auto-learn MACs and save to running-config.\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport port-security violation shutdown</span>\n\n<span class=\"k\">Violation Modes:</span>\nshutdown  ‚Üí Port goes err-disabled. Must manually recover. (Most secure)\nrestrict  ‚Üí Drops violating frames, logs, increments counter. Port stays up.\nprotect   ‚Üí Silently drops. No log, no counter. (Least visible)</div>\n\n<h3>Recovering from Err-Disable</h3>\n<div class=\"cli\"><span class=\"k\">Manual recovery:</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">shutdown</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">no shutdown</span>\n\n<span class=\"k\">Automatic recovery:</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">errdisable recovery cause psecure-violation</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">errdisable recovery interval 300</span>  (seconds)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Port security only works on ACCESS ports.</strong> You must set <code>switchport mode access</code> first. It won't work on trunk ports or dynamic ports.</div>", "questions": [{"type": "type", "q": "Enable port-security:", "answer": ["switchport port-security"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Max 3 MACs:", "answer": ["switchport port-security maximum 3"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Sticky learning:", "answer": ["switchport port-security mac-address sticky"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Violation restrict:", "answer": ["switchport port-security violation restrict"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Check all ports:", "answer": ["show port-security", "sh port-security"], "prompt": "Switch#"}, {"type": "type", "q": "Check Fa0/5:", "answer": ["show port-security interface Fa0/5", "sh port-security int fa0/5"], "prompt": "Switch#"}, {"type": "type", "q": "Err-disable recovery:", "answer": ["errdisable recovery cause psecure-violation"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Recovery interval 600:", "answer": ["errdisable recovery interval 600"], "prompt": "Switch(config)#"}]}, {"title": "DHCP Snooping & DAI", "content": "<h3>DHCP Snooping & Dynamic ARP Inspection</h3>\n<p>These are Layer 2 security features that prevent two common attacks: <strong>rogue DHCP servers</strong> (someone sets up an unauthorized DHCP server) and <strong>ARP spoofing/poisoning</strong> (man-in-the-middle attacks).</p>\n\n<h3>DHCP Snooping</h3>\n<div class=\"cli\"><span class=\"k\">The attack:</span> An attacker connects a rogue DHCP server to the network.\nIt hands out fake gateway IPs, redirecting all traffic through the\nattacker's machine (man-in-the-middle).\n\n<span class=\"k\">The solution:</span> DHCP snooping marks ports as TRUSTED or UNTRUSTED.\nOnly trusted ports (uplinks to real DHCP server) can send DHCP offers.\nAccess ports are untrusted by default ‚Äî DHCP offers are blocked.\n\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">ip dhcp snooping</span>                   Enable globally\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">ip dhcp snooping vlan 10,20</span>         Specify VLANs\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip dhcp snooping trust</span>            Trust uplinks only\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip dhcp snooping limit rate 15</span>    Rate-limit access ports\n\nDHCP snooping also builds a <strong>binding table</strong>: maps IP‚ÜíMAC‚ÜíPort‚ÜíVLAN.\nThis table is used by DAI and IP Source Guard.</div>\n\n<h3>Dynamic ARP Inspection (DAI)</h3>\n<div class=\"cli\"><span class=\"k\">The attack:</span> ARP spoofing. Attacker sends fake ARP replies saying\n\"I am the gateway!\" All traffic now routes through the attacker.\n\n<span class=\"k\">The solution:</span> DAI validates ARP packets against the DHCP snooping\nbinding table. If the IP-to-MAC mapping doesn't match, ARP is dropped.\n\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">ip arp inspection vlan 10,20</span>       Enable per VLAN\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">ip arp inspection trust</span>           Trust uplinks\n\n<span class=\"k\">Prerequisite:</span> DHCP snooping MUST be enabled first!\nDAI reads the snooping binding table to validate ARP.</div>\n\n<div class=\"kp\">üí° <strong>Deployment order matters:</strong> Enable DHCP snooping first and let the binding table populate (wait for DHCP renewals). Then enable DAI. Enabling DAI before bindings exist will block legitimate ARP from statically-addressed devices.</div>", "questions": [{"type": "type", "q": "Enable snooping:", "answer": ["ip dhcp snooping"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Snooping VLANs 10,20:", "answer": ["ip dhcp snooping vlan 10,20"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trust uplink:", "answer": ["ip dhcp snooping trust"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Rate limit 20:", "answer": ["ip dhcp snooping limit rate 20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enable DAI VLAN 10:", "answer": ["ip arp inspection vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trust DAI port:", "answer": ["ip arp inspection trust"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "View snooping bindings:", "answer": ["show ip dhcp snooping binding", "sh ip dhcp snooping binding"], "prompt": "Switch#"}, {"type": "choice", "q": "DAI prevents?", "options": ["MAC flood", "ARP spoofing", "DHCP starvation", "VLAN hopping"], "answer": 1, "explain": "Validates ARP against snooping table."}]}, {"title": "Storm Control & Misc", "content": "<h3>Storm Control & Additional Hardening</h3>\n<p>A broadcast storm can bring down an entire Layer 2 network. Storm control limits how much broadcast, multicast, or unicast traffic a port can receive, shutting down the port if thresholds are exceeded.</p>\n\n<div class=\"cli\"><span class=\"k\">Storm Control:</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">storm-control broadcast level 20</span>    Max 20% broadcast\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">storm-control multicast level 10</span>    Max 10% multicast\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">storm-control action shutdown</span>       Err-disable on breach\n  Alternatively: \"trap\" (send SNMP alert) or \"shutdown\" (kill port)\n\n<span class=\"k\">The level is a percentage of interface bandwidth.</span>\nOn a 1 Gbps port, \"level 20\" = 200 Mbps of broadcast traffic\nbefore the port shuts down.</div>\n\n<h3>Securing Unused Ports</h3>\n<p>Every unused port is a physical security vulnerability. An attacker, a curious employee, or a rogue device can plug in and potentially access your network.</p>\n<div class=\"cli\"><span class=\"k\">Standard unused port procedure:</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface range Fa0/20 - 24</span>\n<span class=\"p\">Switch(config-if-range)#</span> <span class=\"k\">switchport mode access</span>        Prevent trunk negotiation\n<span class=\"p\">Switch(config-if-range)#</span> <span class=\"k\">switchport access vlan 999</span>    Black-hole VLAN\n<span class=\"p\">Switch(config-if-range)#</span> <span class=\"k\">shutdown</span>                      Disable the port\n<span class=\"p\">Switch(config-if-range)#</span> <span class=\"k\">no cdp enable</span>                Don't leak device info\n<span class=\"p\">Switch(config-if-range)#</span> <span class=\"k\">switchport nonegotiate</span>        No DTP\n\nCreate VLAN 999 but never create an SVI for it and never\nadd routing. Even if a port is accidentally enabled, traffic\ngoes nowhere.</div>\n\n<div class=\"kp\">üí° <strong>Check for err-disabled ports regularly:</strong> <code>show interfaces status err-disabled</code>. These ports are down due to security violations. They won't come back up until you fix the cause and bounce the port.</div>", "questions": [{"type": "type", "q": "Broadcast storm control 20%:", "answer": ["storm-control broadcast level 20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Storm action shutdown:", "answer": ["storm-control action shutdown"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Select range Fa0/20-24:", "answer": ["interface range Fa0/20 - 24", "interface range FastEthernet0/20 - 24", "int range fa0/20-24"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Put unused ports in VLAN 999:", "answer": ["switchport access vlan 999"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Show err-disabled ports:", "answer": ["show interfaces status err-disabled", "sh int status err-disabled"], "prompt": "Switch#"}]}]}, {"id": "etherchannel", "title": "EtherChannel", "desc": "LACP, PAgP, troubleshooting.", "icon": "üîó", "tier": "Advanced", "lessons": [{"title": "EtherChannel Config", "content": "<h3>EtherChannel ‚Äî Link Aggregation</h3>\n<p>EtherChannel bundles 2-8 physical links into one logical link. You get increased bandwidth AND redundancy ‚Äî if one link fails, traffic redistributes across remaining links without any STP reconvergence.</p>\n\n<h3>Protocols</h3>\n<div class=\"cli\"><span class=\"k\">LACP</span> (Link Aggregation Control Protocol) ‚Äî IEEE 802.3ad\n  Industry standard. Use this.\n  Modes: active (initiate) / passive (respond only)\n  active + active = forms ‚úÖ\n  active + passive = forms ‚úÖ\n  passive + passive = NEVER forms ‚ùå\n\n<span class=\"k\">PAgP</span> (Port Aggregation Protocol) ‚Äî Cisco proprietary\n  Modes: desirable (initiate) / auto (respond only)\n  Same logic: one side must initiate.\n\n<span class=\"k\">Static (on)</span> ‚Äî No protocol, forced bundling\n  Both sides set to \"on.\" No negotiation.\n  Dangerous: if config doesn't match, you get loops.</div>\n\n<h3>Configuration</h3>\n<div class=\"cli\"><span class=\"p\">Switch(config)#</span> <span class=\"k\">interface range Gi0/1 - 2</span>\n<span class=\"p\">Switch(config-if-range)#</span> <span class=\"k\">channel-group 1 mode active</span>    LACP\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">interface Port-channel1</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">switchport mode trunk</span>            Configure HERE\n\n<span class=\"k\">Critical rules:</span>\n‚Ä¢ All member ports MUST match: speed, duplex, VLAN config, trunk mode\n‚Ä¢ Configure the Port-channel interface, NOT individual members\n‚Ä¢ Mismatched ports show as (s)uspended in show etherchannel summary\n‚Ä¢ LACP and PAgP cannot be mixed ‚Äî both sides same protocol</div>\n\n<div class=\"cli\"><span class=\"k\">Verification:</span>\nshow etherchannel summary     Flags: S=L2, P=bundled, s=suspended\nshow etherchannel detail      Full LACP/PAgP negotiation details\nshow etherchannel load-balance  Hash algorithm for traffic distribution</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>If ports show (s)uspended,</strong> there's a config mismatch between the member ports. Check speed, duplex, VLAN assignment, and trunk mode. All must be identical.</div>", "questions": [{"type": "type", "q": "Range Gi0/1-4:", "answer": ["interface range GigabitEthernet0/1 - 4", "int range gi0/1-4", "int range gi0/1 - 4"], "prompt": "Switch(config)#"}, {"type": "type", "q": "LACP active group 1:", "answer": ["channel-group 1 mode active"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "PAgP desirable group 2:", "answer": ["channel-group 2 mode desirable"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Enter Port-channel1:", "answer": ["interface Port-channel1", "int port-channel1", "int po1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Verify:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}, {"type": "type", "q": "Detail:", "answer": ["show etherchannel detail", "sh etherchannel detail"], "prompt": "Switch#"}, {"type": "type", "q": "Load balance method:", "answer": ["show etherchannel load-balance", "sh etherchannel load-balance"], "prompt": "Switch#"}, {"type": "choice", "q": "LACP standard?", "options": ["Cisco", "IEEE 802.3ad", "IEEE 802.1Q", "RFC 2328"], "answer": 1, "explain": "IEEE 802.3ad."}, {"type": "choice", "q": "LACP + PAgP compatible?", "options": ["Yes", "No"], "answer": 1, "explain": "Must match same protocol."}, {"type": "choice", "q": "Ports (s)uspended = ?", "options": ["Wrong LACP", "Config mismatch", "STP", "Wrong VLAN"], "answer": 1, "explain": "Speed/duplex/VLAN mismatch."}]}]}, {"id": "dhcp_svc", "title": "DHCP, DNS & Services", "desc": "DHCP pools, relay, NTP, syslog, CDP.", "icon": "üìã", "tier": "Advanced", "lessons": [{"title": "DHCP Server", "content": "<h3>IOS DHCP Server ‚Äî Automatic IP Assignment</h3>\n<p>DHCP (Dynamic Host Configuration Protocol) automatically assigns IP addresses, gateways, DNS servers, and other settings to devices. Without DHCP, you'd have to manually configure the IP on every device ‚Äî fine for 10 devices, impossible for 1,000.</p>\n\n<h3>DHCP Process (DORA)</h3>\n<div class=\"cli\"><span class=\"k\">D</span>iscover ‚Üí Client broadcasts \"I need an IP!\"\n<span class=\"k\">O</span>ffer    ‚Üí Server offers an available IP\n<span class=\"k\">R</span>equest  ‚Üí Client says \"I'll take that one\"\n<span class=\"k\">A</span>ck      ‚Üí Server confirms and records the lease</div>\n\n<h3>IOS DHCP Server Configuration</h3>\n<div class=\"cli\"><span class=\"k\">Step 1: Exclude static IPs</span> (do this FIRST!)\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip dhcp excluded-address 192.168.1.1 192.168.1.20</span>\n  Reserve .1-.20 for gateways, servers, printers, APs, etc.\n\n<span class=\"k\">Step 2: Create the pool</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip dhcp pool OFFICE</span>\n<span class=\"p\">Router(dhcp-config)#</span> <span class=\"k\">network 192.168.1.0 255.255.255.0</span>\n<span class=\"p\">Router(dhcp-config)#</span> <span class=\"k\">default-router 192.168.1.1</span>          Default gateway\n<span class=\"p\">Router(dhcp-config)#</span> <span class=\"k\">dns-server 8.8.8.8 8.8.4.4</span>        DNS servers\n<span class=\"p\">Router(dhcp-config)#</span> <span class=\"k\">domain-name corp.local</span>             Domain suffix\n<span class=\"p\">Router(dhcp-config)#</span> <span class=\"k\">lease 7</span>                            7-day lease\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip dhcp binding</span>    Who has which IP (MAC, lease time)\n<span class=\"p\">Router#</span> <span class=\"k\">show ip dhcp pool</span>       Pool utilization (how full?)\n<span class=\"p\">Router#</span> <span class=\"k\">show ip dhcp conflict</span>   Duplicate IP detections</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Always exclude static IPs BEFORE creating the pool.</strong> If the pool assigns an IP that a server already uses statically, you get an IP conflict and both devices lose connectivity.</div>", "questions": [{"type": "type", "q": "Exclude .1-.10:", "answer": ["ip dhcp excluded-address 192.168.1.1 192.168.1.10"], "prompt": "Router(config)#"}, {"type": "type", "q": "Pool 'OFFICE':", "answer": ["ip dhcp pool OFFICE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Network 192.168.1.0/24:", "answer": ["network 192.168.1.0 255.255.255.0"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Gateway 192.168.1.1:", "answer": ["default-router 192.168.1.1"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "DNS 8.8.8.8:", "answer": ["dns-server 8.8.8.8"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Lease 7 days:", "answer": ["lease 7"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "View leases:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}, {"type": "type", "q": "Pool stats:", "answer": ["show ip dhcp pool", "sh ip dhcp pool"], "prompt": "Router#"}]}, {"title": "DHCP Relay", "content": "<h3>DHCP Relay (ip helper-address)</h3>\n<p>DHCP uses broadcast messages, and <strong>broadcasts don't cross routers</strong>. If your DHCP server is on a different subnet than your clients, clients will never receive an IP ‚Äî unless the local router relays the DHCP broadcasts as unicast to the server.</p>\n\n<div class=\"cli\"><span class=\"k\">The problem:</span>\nVLAN 10 clients (192.168.10.x) need DHCP.\nDHCP server is on VLAN 1 (10.0.0.50).\nClient broadcasts \"DHCP Discover\" on VLAN 10.\nRouter receives it on Gi0/0 but doesn't forward broadcasts.\nClient never gets an IP ‚Üí 169.254.x.x APIPA address.\n\n<span class=\"k\">The solution: ip helper-address</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface GigabitEthernet0/0</span>    ‚Üê Client-facing interface\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip helper-address 10.0.0.50</span>  ‚Üê DHCP server IP\n\nThe router converts the DHCP broadcast into a unicast\ndirected at 10.0.0.50, adds the client's subnet info\n(GiAddr field), and the DHCP server knows which pool to use.</div>\n\n<h3>What ip helper-address Actually Forwards</h3>\n<p>ip helper-address doesn't only forward DHCP. It forwards <strong>8 UDP services</strong> by default:</p>\n<div class=\"cli\">UDP 67/68  DHCP/BOOTP\nUDP 69     TFTP\nUDP 37     Time\nUDP 49     TACACS\nUDP 53     DNS\nUDP 137    NetBIOS Name\nUDP 138    NetBIOS Datagram</div>\n\n<div class=\"kp\">üí° <strong>Troubleshooting tip:</strong> Client getting 169.254.x.x? Check: 1) DHCP server running? 2) ip helper-address configured on the client's gateway interface? 3) Is the gateway interface the one in the correct VLAN? 4) DHCP pool has matching network statement?</div>", "questions": [{"type": "type", "q": "Relay to 10.1.1.100:", "answer": ["ip helper-address 10.1.1.100"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "DHCP conflicts:", "answer": ["show ip dhcp conflict", "sh ip dhcp conflict"], "prompt": "Router#"}, {"type": "type", "q": "Server stats:", "answer": ["show ip dhcp server statistics", "sh ip dhcp server statistics"], "prompt": "Router#"}, {"type": "choice", "q": "169.254.x.x on VLAN 30, DHCP on VLAN 1:", "options": ["Wrong pool", "Missing ip helper-address", "DHCP full", "Wrong mask"], "answer": 1, "explain": "Broadcasts don't cross subnets."}, {"type": "choice", "q": "ip helper forwards?", "options": ["Only DHCP", "DHCP, TFTP, DNS, TACACS + more", "All UDP", "All broadcasts"], "answer": 1, "explain": "8 UDP services by default."}]}, {"title": "NTP, Syslog, CDP/LLDP", "content": "<h3>NTP, Syslog & Discovery Protocols</h3>\n<p>These three services form the <strong>operational backbone</strong> of network management. NTP keeps time synchronized, Syslog centralizes logs, and CDP/LLDP discover neighboring devices.</p>\n\n<h3>NTP (Network Time Protocol)</h3>\n<div class=\"cli\"><span class=\"k\">Why it matters:</span> Every log entry, certificate validation, DHCP lease,\nand authentication event depends on accurate time. If your clocks are\nwrong, your logs are useless for incident investigation.\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ntp server 10.0.0.1</span>          Point to NTP server\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ntp server 10.0.0.2</span>          Redundant NTP server\n<span class=\"p\">Router#</span> <span class=\"k\">show ntp status</span>                   Synced? Stratum? Offset?\n<span class=\"p\">Router#</span> <span class=\"k\">show clock</span>                        Current device time</div>\n\n<h3>Syslog (Centralized Logging)</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">logging 10.0.0.50</span>                 Syslog server IP\n<span class=\"p\">Router(config)#</span> <span class=\"k\">logging trap informational</span>         Log level 6 and above\n<span class=\"p\">Router(config)#</span> <span class=\"k\">service timestamps log datetime msec</span> Add timestamps!\n\n<span class=\"k\">Syslog Levels:</span> 0=Emergency, 1=Alert, 2=Critical, 3=Error,\n4=Warning, 5=Notification, 6=Informational, 7=Debugging\nCommon: \"informational\" (6) captures most useful events.</div>\n\n<h3>CDP & LLDP (Neighbor Discovery)</h3>\n<div class=\"cli\"><span class=\"k\">CDP</span> (Cisco Discovery Protocol) ‚Äî Cisco proprietary\n<span class=\"p\">Switch#</span> <span class=\"k\">show cdp neighbors</span>       See connected Cisco devices\n<span class=\"p\">Switch#</span> <span class=\"k\">show cdp neighbors detail</span> IP addresses, platform, IOS version\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">no cdp enable</span>    Disable on untrusted ports\n\n<span class=\"k\">LLDP</span> (Link Layer Discovery Protocol) ‚Äî IEEE standard\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">lldp run</span>            Enable globally (off by default!)\n<span class=\"p\">Switch#</span> <span class=\"k\">show lldp neighbors</span>      See connected devices (any vendor)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Disable CDP on external-facing ports.</strong> CDP reveals your device model, IOS version, IP addresses, and VLAN info ‚Äî valuable reconnaissance data for attackers. Use <code>no cdp enable</code> on ports facing untrusted networks.</div>", "questions": [{"type": "type", "q": "NTP server 10.0.0.1:", "answer": ["ntp server 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "NTP status:", "answer": ["show ntp status", "sh ntp status"], "prompt": "Router#"}, {"type": "type", "q": "Syslog to 10.0.0.50:", "answer": ["logging 10.0.0.50"], "prompt": "Router(config)#"}, {"type": "type", "q": "Log timestamps:", "answer": ["service timestamps log datetime msec", "service timestamps log datetime"], "prompt": "Router(config)#"}, {"type": "type", "q": "CDP neighbors:", "answer": ["show cdp neighbors", "sh cdp nei"], "prompt": "Switch#"}, {"type": "type", "q": "CDP detail:", "answer": ["show cdp neighbors detail", "sh cdp nei detail"], "prompt": "Switch#"}, {"type": "type", "q": "Disable CDP per-port:", "answer": ["no cdp enable"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enable LLDP:", "answer": ["lldp run"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Show LLDP:", "answer": ["show lldp neighbors", "sh lldp neighbors"], "prompt": "Switch#"}]}]}, {"id": "wan_tun", "title": "WAN & GRE Tunnels", "desc": "Site-to-site, tunnel config, WAN types.", "icon": "üåç", "tier": "Advanced", "lessons": [{"title": "GRE Tunnels", "content": "<h3>GRE Tunnels ‚Äî Virtual Point-to-Point Links</h3>\n<p>GRE (Generic Routing Encapsulation) creates a virtual tunnel between two routers across the internet. It wraps your original packet inside a new IP packet, effectively creating a direct \"pipe\" between two sites, even if they're separated by the public internet.</p>\n\n<div class=\"cli\"><span class=\"k\">How GRE works:</span>\nOriginal packet: [IP Header: src=192.168.1.10 dst=192.168.2.20]\nAfter GRE: [New IP: src=203.0.113.1 dst=203.0.113.5][GRE][Original packet]\n\nThe outer IP header gets the packet across the internet.\nThe receiving router strips the GRE wrapper and forwards the\noriginal packet into the local network.\n\n<span class=\"k\">Configuration:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">interface Tunnel0</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip address 172.16.0.1 255.255.255.252</span>   Tunnel IP\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">tunnel source GigabitEthernet0/0</span>         Local public int\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">tunnel destination 203.0.113.5</span>            Remote public IP\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">no shutdown</span></div>\n\n<p>After the tunnel is up, you can run routing protocols (OSPF, EIGRP) across it, or add static routes through the tunnel's IP. The remote site's private networks become reachable.</p>\n\n<div class=\"cli\"><span class=\"k\">Key facts:</span>\n‚Ä¢ GRE overhead: 24 bytes (20 IP + 4 GRE header)\n‚Ä¢ MTU impact: Effective MTU drops from 1500 to 1476\n‚Ä¢ GRE is NOT encrypted. Add IPsec for encryption (GRE over IPsec)\n‚Ä¢ Tunnel source/destination must be reachable via the underlay routing</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>GRE tunnels are NOT secure by themselves.</strong> Traffic inside is plaintext. Always combine with IPsec encryption for any production VPN. GRE+IPsec is the standard combo.</div>", "questions": [{"type": "type", "q": "Create Tunnel0:", "answer": ["interface Tunnel0", "int tunnel0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 172.16.0.1/30:", "answer": ["ip address 172.16.0.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Source Gi0/0:", "answer": ["tunnel source GigabitEthernet0/0", "tunnel source gi0/0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Dest 203.0.113.5:", "answer": ["tunnel destination 203.0.113.5"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check tunnel:", "answer": ["show interface Tunnel0", "sh int tunnel0"], "prompt": "Router#"}, {"type": "choice", "q": "GRE overhead?", "options": ["0", "24 bytes", "48", "8"], "answer": 1, "explain": "20-byte IP + 4-byte GRE = 24."}]}, {"title": "WAN Types", "content": "<h3>WAN Technologies</h3>\n<p>WANs connect LANs across geographic distances. Choosing the right WAN technology balances cost, speed, reliability, and complexity. Modern networks typically combine multiple WAN types.</p>\n\n<div class=\"cli\"><span class=\"k\">WAN Type         Speed        Cost     Use Case</span>\nLeased Line      T1(1.5M)-    High     Dedicated, guaranteed bandwidth.\n                 10G                   Point-to-point. Most reliable.\n\nMPLS             1M-10G       Med-High Provider-managed VPN between sites.\n                                       Guaranteed SLA, traffic engineering.\n                                       Standard enterprise WAN.\n\nMetro Ethernet   10M-100G     Medium   Ethernet service over provider fiber.\n                                       Simple, high-speed, metro-area.\n\nInternet VPN     Varies       Low      IPsec/GRE over public internet.\n                                       Cheapest. No bandwidth guarantee.\n                                       Subject to internet congestion.\n\nSD-WAN           Multiple     Medium   Software-defined. Uses multiple links\n                                       (MPLS + broadband + LTE) and routes\n                                       traffic intelligently. Central management.\n                                       The modern enterprise standard.\n\n<span class=\"k\">Serial Encapsulations:</span>\nHDLC  ‚Äî Cisco default for serial links (Cisco proprietary)\nPPP   ‚Äî Open standard. Supports authentication (PAP/CHAP).\n        Use PPP if connecting to non-Cisco equipment.</div>\n\n<div class=\"kp\">üí° <strong>SD-WAN is the future of enterprise WAN.</strong> Instead of expensive MPLS everywhere, SD-WAN uses cheap broadband + cellular as primary/backup, with the SD-WAN controller making intelligent per-application routing decisions.</div>", "questions": [{"type": "choice", "q": "Cheapest WAN?", "options": ["Leased line", "MPLS", "Internet VPN", "Metro-E"], "answer": 2, "explain": "Public internet + encryption."}, {"type": "choice", "q": "Cisco default serial?", "options": ["PPP", "HDLC", "GRE", "Frame Relay"], "answer": 1, "explain": "HDLC is Cisco default."}, {"type": "choice", "q": "SD-WAN benefit?", "options": ["Faster", "Multiple WAN links + central mgmt", "Better encryption", "Lower latency"], "answer": 1, "explain": "Combines MPLS, broadband, LTE intelligently."}]}]}, {"id": "hsrp", "title": "FHRP: HSRP/VRRP/GLBP", "desc": "Gateway redundancy.", "icon": "üîÑ", "tier": "Advanced", "lessons": [{"title": "HSRP Config", "content": "<h3>HSRP ‚Äî Hot Standby Router Protocol</h3>\n<p>HSRP provides <strong>default gateway redundancy</strong>. Two (or more) routers share a virtual IP address. Clients use this virtual IP as their gateway. If the active router fails, the standby takes over ‚Äî clients never notice.</p>\n\n<div class=\"cli\"><span class=\"k\">How HSRP works:</span>\nRouter A (active):  Real IP 192.168.10.2, priority 110\nRouter B (standby): Real IP 192.168.10.3, priority 100\nVirtual IP:         192.168.10.1 ‚Üê This is the gateway for all clients\n\nClients set gateway = 192.168.10.1 (the virtual IP)\nRouter A (higher priority) handles all traffic\nIf Router A fails ‚Üí Router B takes over the virtual IP\nClients keep sending to .1 and never know anything changed\n\n<span class=\"k\">Configuration:</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">standby 1 ip 192.168.10.1</span>     Virtual IP\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">standby 1 priority 110</span>        Higher = active (default 100)\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">standby 1 preempt</span>             Reclaim active on recovery\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">standby 1 timers 1 3</span>          Fast timers (1s hello, 3s dead)\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">standby 1 track Gi0/0 20</span>      Lower priority if WAN fails\n\n<span class=\"k\">Without preempt:</span> If Router A goes down and comes back, Router B\nstays active. Router A becomes standby. Preempt lets A take back over.\n\n<span class=\"k\">FHRP comparison:</span>\nHSRP  ‚Äî Cisco proprietary. Active/Standby model.\nVRRP  ‚Äî Open standard (RFC 5798). Master/Backup model. Similar to HSRP.\nGLBP  ‚Äî Cisco proprietary. Active/Active load balancing across gateways.</div>\n\n<div class=\"kp\">üí° <strong>Track command explained:</strong> <code>standby 1 track Gi0/0 20</code> means \"if Gi0/0 goes down, subtract 20 from my priority.\" If priority drops below the standby router's priority, failover occurs. This handles the scenario where the router is up but its WAN link is dead.</div>", "questions": [{"type": "type", "q": "VIP 10.0.0.1 group 1:", "answer": ["standby 1 ip 10.0.0.1"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Priority 120:", "answer": ["standby 1 priority 120"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Preempt:", "answer": ["standby 1 preempt"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Timers 1/3:", "answer": ["standby 1 timers 1 3"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Track Gi0/1 decrement 20:", "answer": ["standby 1 track GigabitEthernet0/1 20", "standby 1 track gi0/1 20"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check HSRP:", "answer": ["show standby brief", "sh standby brief"], "prompt": "Router#"}, {"type": "type", "q": "Detailed HSRP:", "answer": ["show standby", "sh standby"], "prompt": "Router#"}, {"type": "choice", "q": "Default priority?", "options": ["50", "100", "110", "255"], "answer": 1, "explain": "100 default."}, {"type": "choice", "q": "Cisco-only FHRPs?", "options": ["VRRP", "GLBP", "HSRP", "HSRP and GLBP"], "answer": 3, "explain": "HSRP+GLBP Cisco. VRRP is open."}]}]}, {"id": "ipv6", "title": "IPv6", "desc": "Addressing, NDP, SLAAC, dual-stack.", "icon": "üîÆ", "tier": "Advanced", "lessons": [{"title": "IPv6 Addresses", "content": "<h3>IPv6 Addressing</h3>\n<p>IPv6 uses 128-bit addresses (vs IPv4's 32 bits), written as eight groups of four hex digits separated by colons. This provides 3.4√ó10¬≥‚Å∏ addresses ‚Äî enough for every atom on Earth to have billions of IPs.</p>\n\n<h3>Address Types</h3>\n<div class=\"cli\"><span class=\"k\">Global Unicast</span>    2000::/3\n  Like public IPv4. Routable on the internet.\n  Assigned by your ISP or regional registry.\n\n<span class=\"k\">Link-Local</span>        FE80::/10\n  Auto-generated on every IPv6 interface.\n  Only valid on the local link (not routable).\n  Used for neighbor discovery, routing protocol hellos.\n\n<span class=\"k\">Multicast</span>         FF00::/8\n  Replaces broadcast (IPv6 has NO broadcast!).\n  FF02::1 = all nodes, FF02::2 = all routers\n\n<span class=\"k\">Loopback</span>          ::1\n  Same as 127.0.0.1 in IPv4. This device only.\n\n<span class=\"k\">Unspecified</span>       ::\n  Same as 0.0.0.0 in IPv4. \"No address yet.\"</div>\n\n<h3>Shortening Rules</h3>\n<div class=\"cli\"><span class=\"k\">Full:</span>  2001:0DB8:0000:0001:0000:0000:0000:0001\n<span class=\"k\">Rule 1:</span> Drop leading zeros in each group\n       2001:DB8:0:1:0:0:0:1\n<span class=\"k\">Rule 2:</span> Replace ONE group of consecutive all-zero groups with ::\n       2001:DB8:0:1::1\n\n<span class=\"k\">You can only use :: once!</span>\n2001:DB8::1::5 is INVALID (ambiguous)\nBoth 2001:DB8:0:1::1 and 2001:DB8::1:0:0:0:1 are valid.</div>\n\n<h3>NDP Replaces ARP</h3>\n<p>IPv6 doesn't use ARP. Instead, <strong>Neighbor Discovery Protocol (NDP)</strong> uses ICMPv6 messages for address resolution, router discovery, and SLAAC (auto-configuration without DHCP).</p>\n\n<div class=\"kp\">üí° <strong>Every IPv6 interface has at least TWO addresses:</strong> a link-local (FE80::) that's auto-generated, and a global unicast (2000::) that's manually or SLAAC-assigned. Link-local is always present.</div>", "questions": [{"type": "choice", "q": "Link-local prefix?", "options": ["2001::", "FE80::", "FF00::", "FC00::"], "answer": 1, "explain": "FE80::/10."}, {"type": "choice", "q": "Replaced ARP?", "options": ["DHCPv6", "NDP", "ICMPv6", "SLAAC"], "answer": 1, "explain": "NDP for neighbor discovery."}, {"type": "choice", "q": "IPv6 bits?", "options": ["32", "64", "96", "128"], "answer": 3, "explain": "128 bits."}, {"type": "choice", "q": "Shorten 2001:0DB8:0000:0000:0000:0000:0000:0001:", "options": ["2001:DB8::1", "2001:0DB8:::1", "2001:DB8:0:0:0:0:0:1", "A and C both valid"], "answer": 3, "explain": "Both A and C work."}]}, {"title": "IPv6 Config", "content": "<h3>IPv6 Configuration</h3>\n<p>IPv6 configuration on Cisco is straightforward but has one critical prerequisite: you MUST enable IPv6 routing globally first.</p>\n\n<div class=\"cli\"><span class=\"k\">Step 1: Enable IPv6 routing (REQUIRED!)</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ipv6 unicast-routing</span>\n  Without this, the router processes IPv6 for itself but\n  WON'T FORWARD IPv6 packets between interfaces.\n\n<span class=\"k\">Step 2: Assign addresses to interfaces</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ipv6 address 2001:DB8:CAFE::1/64</span>    Global unicast\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ipv6 address FE80::1 link-local</span>      Manual link-local\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ipv6 address autoconfig</span>              Use SLAAC (auto)\n\n<span class=\"k\">Step 3: Enable routing (OSPFv3)</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">ipv6 ospf 1 area 0</span>\n  Note: OSPFv3 is configured PER-INTERFACE, not under router ospf!\n\n<span class=\"k\">Static IPv6 route:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ipv6 route 2001:DB8:2::/64 2001:DB8:1::2</span>\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ipv6 interface brief</span>   IPv6 addresses per interface\n<span class=\"p\">Router#</span> <span class=\"k\">show ipv6 route</span>             IPv6 routing table\n<span class=\"p\">Router#</span> <span class=\"k\">show ipv6 neighbors</span>         NDP cache (like show ip arp)\n<span class=\"p\">Router#</span> <span class=\"k\">show ipv6 ospf neighbor</span>     OSPFv3 neighbors</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Dual-stack</strong> means running IPv4 AND IPv6 simultaneously on the same interfaces. This is the standard transition approach. Each interface gets both an IPv4 address and an IPv6 address.</div>", "questions": [{"type": "type", "q": "Enable IPv6 routing:", "answer": ["ipv6 unicast-routing"], "prompt": "Router(config)#"}, {"type": "type", "q": "Assign 2001:DB8:CAFE::1/64:", "answer": ["ipv6 address 2001:DB8:CAFE::1/64"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "IPv6 int brief:", "answer": ["show ipv6 interface brief", "sh ipv6 int br"], "prompt": "Router#"}, {"type": "type", "q": "IPv6 routing table:", "answer": ["show ipv6 route", "sh ipv6 route"], "prompt": "Router#"}, {"type": "type", "q": "IPv6 neighbors:", "answer": ["show ipv6 neighbors", "sh ipv6 neighbors"], "prompt": "Router#"}, {"type": "type", "q": "OSPFv3 area 0 on int:", "answer": ["ipv6 ospf 1 area 0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Set link-local FE80::1:", "answer": ["ipv6 address FE80::1 link-local"], "prompt": "Router(config-if)#"}]}]}, {"id": "dot1x", "title": "802.1X Port Authentication", "desc": "NAC with RADIUS. Enterprise port access control.", "icon": "üîí", "tier": "Advanced", "lessons": [{"title": "802.1X Configuration", "content": "<h3>802.1X Port-Based Authentication</h3>\n<p>802.1X is the enterprise standard for <strong>network access control (NAC)</strong>. Before a device can access the network, it must authenticate through a RADIUS server. Until authenticated, the port blocks all traffic except 802.1X frames.</p>\n\n<h3>The Three Roles</h3>\n<div class=\"cli\"><span class=\"k\">Supplicant</span>     = The client device (laptop, phone)\n                   Has 802.1X software that provides credentials.\n\n<span class=\"k\">Authenticator</span>  = The switch port\n                   Acts as a gatekeeper. Forwards auth requests\n                   to the server. Doesn't make auth decisions.\n\n<span class=\"k\">Auth Server</span>    = RADIUS server (like Cisco ISE)\n                   Validates credentials against a directory\n                   (Active Directory, LDAP). Makes the decision.</div>\n\n<h3>Configuration</h3>\n<div class=\"cli\"><span class=\"k\">Step 1: Enable AAA</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">aaa new-model</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">aaa authentication dot1x default group radius</span>\n\n<span class=\"k\">Step 2: Configure RADIUS server</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">radius server ISE</span>\n<span class=\"p\">Switch(config-radius)#</span> <span class=\"k\">address ipv4 10.0.0.100 auth-port 1812 acct-port 1813</span>\n<span class=\"p\">Switch(config-radius)#</span> <span class=\"k\">key R@diusKey!</span>\n\n<span class=\"k\">Step 3: Enable 802.1X globally</span>\n<span class=\"p\">Switch(config)#</span> <span class=\"k\">dot1x system-auth-control</span>\n\n<span class=\"k\">Step 4: Configure per-port</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">authentication port-control auto</span>\n<span class=\"p\">Switch(config-if)#</span> <span class=\"k\">dot1x pae authenticator</span>\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Switch#</span> <span class=\"k\">show authentication sessions</span>   Who's authenticated where\n<span class=\"p\">Switch#</span> <span class=\"k\">show dot1x all</span>                  Global 802.1X status</div>\n\n<div class=\"kp\">üí° <strong>802.1X always uses RADIUS</strong> (not TACACS+) for the backend authentication. RADIUS is the standard for network access control. TACACS+ is for device administration.</div>", "questions": [{"type": "type", "q": "Enable dot1x globally:", "answer": ["dot1x system-auth-control"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set port to auto auth:", "answer": ["authentication port-control auto"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Set port as authenticator:", "answer": ["dot1x pae authenticator"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Check dot1x on interface:", "answer": ["show dot1x interface", "sh dot1x interface", "show dot1x int"], "prompt": "Switch#"}, {"type": "type", "q": "View all dot1x:", "answer": ["show dot1x all", "sh dot1x all"], "prompt": "Switch#"}, {"type": "type", "q": "Check authentication sessions:", "answer": ["show authentication sessions", "sh authentication sessions"], "prompt": "Switch#"}, {"type": "choice", "q": "802.1X uses which backend?", "options": ["TACACS+", "RADIUS", "LDAP", "Kerberos"], "answer": 1, "explain": "802.1X standard uses RADIUS (not TACACS+)."}, {"type": "choice", "q": "The switch role in 802.1X?", "options": ["Supplicant", "Authenticator", "Auth Server", "All three"], "answer": 1, "explain": "Switch = Authenticator between supplicant and RADIUS."}]}]}, {"id": "redistrib", "title": "Route Redistribution", "desc": "Connect different routing protocols together.", "icon": "üîÄ", "tier": "Advanced", "lessons": [{"title": "Redistribution Basics", "content": "<h3>Route Redistribution</h3>\n<p>Redistribution connects different routing protocols together. When one part of your network runs OSPF and another runs EIGRP, redistribution shares routes between them at the boundary router.</p>\n\n<div class=\"cli\"><span class=\"k\">Common redistribution scenarios:</span>\n‚Ä¢ OSPF network acquiring a site running EIGRP\n‚Ä¢ Static routes from ISP injected into OSPF\n‚Ä¢ Connected networks shared across protocols\n‚Ä¢ Merging two companies with different routing protocols\n\n<span class=\"k\">Redistributing into OSPF:</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">redistribute static subnets</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">redistribute connected subnets</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">redistribute eigrp 100 subnets</span>\n\n<span class=\"k\">Redistributing into EIGRP:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">router eigrp 100</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">redistribute ospf 1 metric 10000 100 255 1 1500</span>\n  EIGRP requires a seed metric (BW, Delay, Reliability, Load, MTU)\n  Without it, redistributed routes have infinite metric = unreachable.</div>\n\n<h3>Dangers of Redistribution</h3>\n<div class=\"cli\"><span class=\"k\">Mutual redistribution (OSPF‚ÜîEIGRP) can create routing loops:</span>\nRouter A learns route via OSPF, redistributes into EIGRP\nRouter B learns same route via EIGRP, redistributes back into OSPF\nNow there are two copies of the route bouncing between protocols.\n\n<span class=\"k\">Prevention:</span>\n‚Ä¢ Use route-maps to filter what gets redistributed\n‚Ä¢ Set route tags to identify redistributed routes\n‚Ä¢ Use distribute-lists to block specific prefixes\n‚Ä¢ ALWAYS plan and document redistribution points</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>The \"subnets\" keyword is critical for OSPF.</strong> Without it, OSPF only redistributes classful networks (ignoring subnets). Always include <code>subnets</code> in OSPF redistribution commands.</div>", "questions": [{"type": "type", "q": "Redistribute static into OSPF:", "answer": ["redistribute static subnets"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Redistribute EIGRP 100 into OSPF:", "answer": ["redistribute eigrp 100 subnets"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Redistribute connected into OSPF:", "answer": ["redistribute connected subnets"], "prompt": "Router(config-router)#"}, {"type": "choice", "q": "'subnets' keyword needed for?", "options": ["EIGRP", "OSPF redistribution", "RIP", "BGP"], "answer": 1, "explain": "Without 'subnets', OSPF only redistributes classful networks."}, {"type": "choice", "q": "EIGRP needs what for redistribution?", "options": ["Subnets keyword", "Seed metric", "Route-map only", "Nothing"], "answer": 1, "explain": "EIGRP needs a metric (bandwidth, delay, reliability, load, MTU)."}, {"type": "choice", "q": "Main risk of redistribution?", "options": ["Speed loss", "Routing loops", "VLAN issues", "STP problems"], "answer": 1, "explain": "Mutual redistribution can create loops. Filter with route-maps."}]}]}, {"id": "adv_drill1", "title": "CLI Drill: Security Lockdown", "desc": "Full switch security from scratch.", "icon": "‚å®Ô∏è", "tier": "Advanced", "lessons": [{"title": "Switch Hardening Sprint", "content": "<h3>Switch Security Hardening</h3><p>An unsecured switch is an open door. Attackers can plug in, get an IP, sniff traffic, spoof MACs, and pivot through your network. Every access port needs these protections.</p><div class=\"cli\"><span class=\"k\">Layer 2 Attack Prevention Stack:</span>\nPort Security     ‚Üí Limit MACs, detect rogues\nDHCP Snooping     ‚Üí Block rogue DHCP servers\nDAI               ‚Üí Block ARP spoofing/poisoning\nStorm Control     ‚Üí Limit broadcast/multicast floods\nPortFast          ‚Üí Skip STP on access ports\nBPDU Guard        ‚Üí Err-disable if switch plugged in\n\n<span class=\"k\">Unused Port Hardening:</span>\n1. switchport mode access       (prevent trunk negotiation)\n2. switchport access vlan 999   (black-hole VLAN)\n3. shutdown                     (physically disable)\n4. no cdp enable                (don't leak info)\n5. switchport nonegotiate       (disable DTP)</div><div class=\"wb\">&#x26A0;&#xFE0F; An unlocked, unused port is the #1 physical security risk on switches. Always shut down and assign to a dead VLAN.</div>", "questions": [{"type": "type", "q": "Enable DHCP snooping:", "answer": ["ip dhcp snooping"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Snooping VLAN 10:", "answer": ["ip dhcp snooping vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trust uplink Gi0/1:", "answer": ["ip dhcp snooping trust"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Rate limit 15:", "answer": ["ip dhcp snooping limit rate 15"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enable DAI VLAN 10:", "answer": ["ip arp inspection vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Enter access port Fa0/5:", "answer": ["interface FastEthernet0/5", "int fa0/5"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Access mode:", "answer": ["switchport mode access"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Port security on:", "answer": ["switchport port-security"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Max 2 MACs:", "answer": ["switchport port-security maximum 2"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Sticky:", "answer": ["switchport port-security mac-address sticky"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Violation shutdown:", "answer": ["switchport port-security violation shutdown"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "PortFast:", "answer": ["spanning-tree portfast"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "BPDU Guard:", "answer": ["spanning-tree bpduguard enable"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Storm control broadcast 20%:", "answer": ["storm-control broadcast level 20"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Unused ports range:", "answer": ["interface range Fa0/20 - 24", "int range fa0/20-24", "int range fa0/20 - 24"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Put in black hole VLAN:", "answer": ["switchport access vlan 999"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Shut them down:", "answer": ["shutdown", "shut"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Auto-recovery psecure:", "answer": ["errdisable recovery cause psecure-violation"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Recovery 300s:", "answer": ["errdisable recovery interval 300"], "prompt": "Switch(config)#"}]}, {"title": "EtherChannel + HSRP Sprint", "content": "<h3>EtherChannel & HSRP Review</h3><p>EtherChannel bundles physical links into one logical link for bandwidth and redundancy. HSRP provides gateway redundancy so hosts never lose their default gateway.</p><div class=\"cli\"><span class=\"k\">EtherChannel (LACP):</span>\ninterface range Gi0/1 - 2\n channel-group 1 mode active    LACP active (IEEE 802.3ad)\ninterface Port-channel1\n switchport mode trunk          Configure on port-channel!\n\n<span class=\"k\">HSRP:</span>\ninterface Vlan10\n ip address 192.168.10.2 255.255.255.0   Real IP\n standby 1 ip 192.168.10.1               Virtual IP (gateway)\n standby 1 priority 110                  Higher = active\n standby 1 preempt                       Take over when back up\n standby 1 track Gi0/0 20                Lower priority on WAN fail\n\n<span class=\"k\">Key facts:</span>\nLACP: active/passive (IEEE) | PAgP: desirable/auto (Cisco)\nHSRP default priority: 100 | Preempt: NOT on by default!</div>", "questions": [{"type": "type", "q": "Range Gi0/1-2:", "answer": ["interface range GigabitEthernet0/1 - 2", "int range gi0/1-2", "int range gi0/1 - 2"], "prompt": "Switch(config)#"}, {"type": "type", "q": "LACP active group 1:", "answer": ["channel-group 1 mode active"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Enter Po1:", "answer": ["interface Port-channel1", "int po1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trunk mode:", "answer": ["switchport mode trunk"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Verify EtherChannel:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}, {"type": "type", "q": "Enter VLAN 10 SVI:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "HSRP VIP 10.0.10.1:", "answer": ["standby 1 ip 10.0.10.1"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Priority 110:", "answer": ["standby 1 priority 110"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Preempt:", "answer": ["standby 1 preempt"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Check HSRP:", "answer": ["show standby brief", "sh standby brief"], "prompt": "Switch#"}]}]}, {"id": "drill_sec", "title": "Security Hardening Drills", "desc": "Lock down a switch port-by-port.", "icon": "üéØ", "tier": "Advanced", "lessons": [{"title": "Full Switch Security", "content": "<h3>Complete Port Security Stack</h3><p>Production switch ports need multiple security layers. Here's the full hardening sequence for every access port.</p><div class=\"cli\"><span class=\"k\">Per-port security stack:</span>\nswitchport mode access              Prevent trunk negotiation\nswitchport port-security            Enable port-security\nswitchport port-security maximum 1  One device per port\nswitchport port-security mac-address sticky  Auto-learn MAC\nswitchport port-security violation shutdown   Kill on violation\nspanning-tree portfast              Skip STP delay\nspanning-tree bpduguard enable      Err-disable if switch detected\nstorm-control broadcast level 10    Limit broadcast storms\n\n<span class=\"k\">Global security:</span>\nip dhcp snooping                    Enable globally\nip dhcp snooping vlan 10,20         Specify VLANs\nip arp inspection vlan 10,20        Enable DAI\n\n<span class=\"k\">Per-port snooping:</span>\nUplinks: ip dhcp snooping trust     Trust DHCP from uplinks\nAccess:  untrusted (default)         Block rogue DHCP servers</div><div class=\"kp\">&#x1F4A1; <strong>Sticky MAC</strong> learns the first MAC and saves it to running-config. Do <code>write memory</code> to make it permanent!</div>", "questions": [{"type": "type", "q": "Access mode:", "answer": ["switchport mode access"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enable port-security:", "answer": ["switchport port-security"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Max 1 MAC:", "answer": ["switchport port-security maximum 1"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Sticky MAC:", "answer": ["switchport port-security mac-address sticky"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Violation shutdown:", "answer": ["switchport port-security violation shutdown"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "PortFast:", "answer": ["spanning-tree portfast"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "BPDU Guard:", "answer": ["spanning-tree bpduguard enable"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Storm control broadcast 10%:", "answer": ["storm-control broadcast level 10"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Enable DHCP snooping:", "answer": ["ip dhcp snooping"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Snooping VLAN 10:", "answer": ["ip dhcp snooping vlan 10"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Trust uplink:", "answer": ["ip dhcp snooping trust"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "DAI VLAN 10:", "answer": ["ip arp inspection vlan 10"], "prompt": "Switch(config)#"}]}, {"title": "Unused Port Lockdown", "content": "<h3>Securing Unused Switch Ports</h3><p>Every unused port is a potential attack vector. An attacker with physical access can plug in and join your network in seconds unless ports are locked down.</p><div class=\"cli\"><span class=\"k\">The standard lockdown procedure:</span>\ninterface range Fa0/20 - 24         Select unused ports\n switchport mode access             Prevent trunk negotiation\n switchport access vlan 999         Black-hole VLAN (no routing)\n shutdown                           Physically disable\n no cdp enable                      Don't reveal device info\n switchport nonegotiate             Disable DTP completely\n\n<span class=\"k\">Why each step matters:</span>\n‚Ä¢ <strong>access mode</strong>: An attacker can't negotiate a trunk\n‚Ä¢ <strong>VLAN 999</strong>: Even if enabled, no traffic routes\n‚Ä¢ <strong>shutdown</strong>: Link never activates\n‚Ä¢ <strong>no cdp</strong>: Attacker can't discover topology\n‚Ä¢ <strong>nonegotiate</strong>: Prevents VLAN hopping via DTP</div><div class=\"wb\">&#x26A0;&#xFE0F; VLAN 999 should exist but have NO routed interface (no SVI). It's a dead end by design.</div>", "questions": [{"type": "type", "q": "Select Fa0/20-24:", "answer": ["interface range Fa0/20 - 24", "interface range FastEthernet0/20 - 24", "int range fa0/20-24"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Access mode:", "answer": ["switchport mode access"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "VLAN 999 (black hole):", "answer": ["switchport access vlan 999"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Shut them down:", "answer": ["shutdown", "shut"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Disable CDP:", "answer": ["no cdp enable"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Disable DTP:", "answer": ["switchport nonegotiate"], "prompt": "Switch(config-if-range)#"}]}]}, {"id": "drill_hsrp", "title": "HSRP/FHRP Drills", "desc": "Configure gateway redundancy from memory.", "icon": "üéØ", "tier": "Advanced", "lessons": [{"title": "Dual Router HSRP", "content": "<h3>HSRP Dual-Router Gateway Redundancy</h3><p>HSRP lets two routers share a virtual IP address as the default gateway. If the active router fails, the standby takes over in seconds ‚Äî hosts never need to change their gateway.</p><div class=\"cli\"><span class=\"k\">How HSRP works:</span>\n‚Ä¢ Both routers share a Virtual IP (VIP)\n‚Ä¢ Highest priority = Active router\n‚Ä¢ Other router = Standby (monitors via hellos)\n‚Ä¢ Default priority = 100\n‚Ä¢ Preempt = take back active role after recovery\n\n<span class=\"k\">Active router config:</span>\nstandby 10 ip 192.168.10.1     Virtual gateway IP\nstandby 10 priority 110        Higher priority = active\nstandby 10 preempt             Reclaim active on recovery\nstandby 10 timers 1 3          Fast failover (1s hello, 3s dead)\nstandby 10 track Gi0/0 20      Lose 20 priority if WAN fails\n\n<span class=\"k\">Verification:</span>\nshow standby brief    ‚Üí State, priority, active/standby IPs\nshow standby          ‚Üí Detailed timers, track status</div><div class=\"kp\">&#x1F4A1; <strong>Without preempt</strong>, the original active router won't take back the role after recovery. The standby stays active forever.</div>", "questions": [{"type": "type", "q": "Enter VLAN 10 SVI:", "answer": ["interface vlan 10", "int vlan 10"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 192.168.10.2/24:", "answer": ["ip address 192.168.10.2 255.255.255.0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "HSRP group 10, VIP .1:", "answer": ["standby 10 ip 192.168.10.1"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Priority 110:", "answer": ["standby 10 priority 110"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Preempt:", "answer": ["standby 10 preempt"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Timers 1/3:", "answer": ["standby 10 timers 1 3"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Track Gi0/0 decrement 20:", "answer": ["standby 10 track GigabitEthernet0/0 20", "standby 10 track gi0/0 20"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Verify:", "answer": ["show standby brief", "sh standby brief"], "prompt": "Router#"}]}]}, {"id": "drill_ethchan", "title": "EtherChannel Drills", "desc": "Build port channels fast.", "icon": "üéØ", "tier": "Advanced", "lessons": [{"title": "LACP EtherChannel Build", "content": "<h3>LACP EtherChannel Configuration</h3><p>EtherChannel bundles 2-8 physical links into one logical link. LACP (IEEE 802.3ad) is the standard protocol ‚Äî always prefer it over Cisco's PAgP.</p><div class=\"cli\"><span class=\"k\">Build sequence:</span>\n1. Select range of physical ports\n2. Set LACP mode (active/passive)\n3. Configure the Port-channel interface (NOT individual ports!)\n4. Verify with show etherchannel summary\n\n<span class=\"k\">LACP modes:</span>\nactive  + active  = Channel forms &#x2705;\nactive  + passive = Channel forms &#x2705;\npassive + passive = NO channel &#x274C; (nobody initiates)\n\n<span class=\"k\">Critical rules:</span>\n‚Ä¢ All ports MUST match: speed, duplex, VLAN, trunk mode\n‚Ä¢ Config goes on Port-channel interface, not members\n‚Ä¢ Mismatched config = ports suspended (s flag)\n\n<span class=\"k\">Flags in show etherchannel summary:</span>\nS = Layer 2, R = Layer 3, U = in use\nP = bundled, s = suspended, D = down</div><div class=\"wb\">&#x26A0;&#xFE0F; Never configure individual member ports after creating the channel. Always configure the Port-channel interface ‚Äî it pushes config to members.</div>", "questions": [{"type": "type", "q": "Select Gi0/1-2:", "answer": ["interface range GigabitEthernet0/1 - 2", "int range gi0/1-2", "int range gi0/1 - 2"], "prompt": "Switch(config)#"}, {"type": "type", "q": "LACP active group 1:", "answer": ["channel-group 1 mode active"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Exit range:", "answer": ["exit"], "prompt": "Switch(config-if-range)#"}, {"type": "type", "q": "Enter port-channel1:", "answer": ["interface Port-channel1", "int po1"], "prompt": "Switch(config)#"}, {"type": "type", "q": "Set as trunk:", "answer": ["switchport mode trunk"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Native VLAN 99:", "answer": ["switchport trunk native vlan 99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Allow VLANs 10,20,30,99:", "answer": ["switchport trunk allowed vlan 10,20,30,99"], "prompt": "Switch(config-if)#"}, {"type": "type", "q": "Verify status:", "answer": ["show etherchannel summary", "sh etherchannel summary"], "prompt": "Switch#"}]}]}, {"id": "drill_dhcp", "title": "DHCP Server Drills", "desc": "Full DHCP pool + relay from memory.", "icon": "üéØ", "tier": "Advanced", "lessons": [{"title": "DHCP Pool Setup", "content": "<h3>IOS DHCP Server Configuration</h3><p>Cisco routers can act as DHCP servers for small-to-medium networks. The router assigns IPs from a pool, excluding static addresses like gateways and servers.</p><div class=\"cli\"><span class=\"k\">Configuration sequence:</span>\n1. Exclude static IPs first (gateways, servers, printers)\n2. Create named pool\n3. Define network and mask\n4. Set default gateway (default-router)\n5. Set DNS servers\n6. Optionally set domain and lease time\n\n<span class=\"k\">DHCP Relay (ip helper-address):</span>\nWhen DHCP server is on a different subnet, the local\nrouter must forward DHCP broadcasts:\n interface Gi0/0\n  ip helper-address 10.0.0.50    Forward to remote DHCP\n\n<span class=\"k\">Verification:</span>\nshow ip dhcp binding    ‚Üí Current leases\nshow ip dhcp pool       ‚Üí Pool utilization\nshow ip dhcp conflict   ‚Üí Address conflicts detected</div><div class=\"kp\">&#x1F4A1; <strong>ip helper-address</strong> actually forwards 8 UDP services, not just DHCP. Includes TFTP (69), DNS (53), TACACS (49), and more.</div>", "questions": [{"type": "type", "q": "Exclude .1-.20:", "answer": ["ip dhcp excluded-address 10.0.1.1 10.0.1.20"], "prompt": "Router(config)#"}, {"type": "type", "q": "Pool 'FLOOR1':", "answer": ["ip dhcp pool FLOOR1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Network 10.0.1.0/24:", "answer": ["network 10.0.1.0 255.255.255.0"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Gateway .1:", "answer": ["default-router 10.0.1.1"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "DNS 8.8.8.8 8.8.4.4:", "answer": ["dns-server 8.8.8.8 8.8.4.4", "dns-server 8.8.8.8"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Domain 'corp.local':", "answer": ["domain-name corp.local"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Lease 7 days:", "answer": ["lease 7"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Relay to remote DHCP 10.0.0.50:", "answer": ["ip helper-address 10.0.0.50"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Verify bindings:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}, {"type": "type", "q": "Verify pool:", "answer": ["show ip dhcp pool", "sh ip dhcp pool"], "prompt": "Router#"}]}]}, {"id": "drill_ipv6", "title": "IPv6 Speed Drills", "desc": "Configure dual-stack from memory.", "icon": "üéØ", "tier": "Advanced", "lessons": [{"title": "Full IPv6 Deployment", "content": "<h3>IPv6 Configuration</h3><p>IPv6 uses 128-bit addresses, eliminating NAT and adding features like SLAAC (auto-config without DHCP). NDP replaces ARP for neighbor discovery.</p><div class=\"cli\"><span class=\"k\">Must-know addresses:</span>\n2000::/3    Global Unicast (public, routable)\nFE80::/10   Link-Local (auto-generated, not routable)\nFF00::/8    Multicast (replaces broadcast)\n::1         Loopback\n::          Unspecified (like 0.0.0.0)\n\n<span class=\"k\">Configuration:</span>\nipv6 unicast-routing                    REQUIRED first!\ninterface Gi0/0\n ipv6 address 2001:DB8:1::1/64         Global unicast\n ipv6 address FE80::1 link-local       Manual link-local\n ipv6 ospf 1 area 0                    OSPFv3 per-interface!\n\n<span class=\"k\">Verification:</span>\nshow ipv6 interface brief   ‚Üí IPv6 addresses per interface\nshow ipv6 route             ‚Üí IPv6 routing table\nshow ipv6 neighbors         ‚Üí NDP table (replaces ARP)</div><div class=\"wb\">&#x26A0;&#xFE0F; Without <code>ipv6 unicast-routing</code>, the router won't forward IPv6 packets. It's the most commonly forgotten step.</div>", "questions": [{"type": "type", "q": "Enable IPv6 routing:", "answer": ["ipv6 unicast-routing"], "prompt": "Router(config)#"}, {"type": "type", "q": "Assign 2001:DB8:1::1/64:", "answer": ["ipv6 address 2001:DB8:1::1/64"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Set link-local FE80::1:", "answer": ["ipv6 address FE80::1 link-local"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Enable SLAAC:", "answer": ["ipv6 address autoconfig"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "OSPFv3 area 0:", "answer": ["ipv6 ospf 1 area 0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "IPv6 interface brief:", "answer": ["show ipv6 interface brief", "sh ipv6 int br"], "prompt": "Router#"}, {"type": "type", "q": "IPv6 routing table:", "answer": ["show ipv6 route", "sh ipv6 route"], "prompt": "Router#"}, {"type": "type", "q": "IPv6 OSPF neighbors:", "answer": ["show ipv6 ospf neighbor", "sh ipv6 ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "IPv6 NDP table:", "answer": ["show ipv6 neighbors", "sh ipv6 nei"], "prompt": "Router#"}, {"type": "type", "q": "Static IPv6 route:", "answer": ["ipv6 route 2001:DB8:2::/64 2001:DB8:1::2"], "prompt": "Router(config)#"}]}]}, {"id": "drill_gre", "title": "GRE + Route Combo", "desc": "Tunnel + routing over it.", "icon": "üéØ", "tier": "Advanced", "lessons": [{"title": "GRE + OSPF Over Tunnel", "content": "<h3>GRE Tunnel with Dynamic Routing</h3><p>GRE tunnels create point-to-point virtual links over the internet. Add OSPF or EIGRP on top to dynamically route through the tunnel ‚Äî this is how basic site-to-site connectivity works.</p><div class=\"cli\"><span class=\"k\">GRE Tunnel config:</span>\ninterface Tunnel0\n ip address 172.16.0.1 255.255.255.252  Tunnel endpoint IP\n tunnel source Gi0/0                    Your public interface\n tunnel destination 203.0.113.5         Remote site public IP\n no shutdown\n\n<span class=\"k\">Add OSPF over the tunnel:</span>\ninterface Tunnel0\n ip ospf 1 area 0                       Runs OSPF through tunnel\n\nOR add a static route through the tunnel:\nip route 192.168.2.0 255.255.255.0 172.16.0.2\n\n<span class=\"k\">Key facts:</span>\n‚Ä¢ GRE adds 24 bytes overhead (20 IP + 4 GRE header)\n‚Ä¢ GRE is NOT encrypted ‚Äî add IPsec for security\n‚Ä¢ Tunnel source/destination must be reachable via underlay\n‚Ä¢ MTU issues? Set ip mtu 1400 on tunnel interface</div>", "questions": [{"type": "type", "q": "Create Tunnel0:", "answer": ["interface Tunnel0", "int tunnel0"], "prompt": "Router(config)#"}, {"type": "type", "q": "IP 172.16.0.1/30:", "answer": ["ip address 172.16.0.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Source Gi0/0:", "answer": ["tunnel source GigabitEthernet0/0", "tunnel source gi0/0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Dest 203.0.113.5:", "answer": ["tunnel destination 203.0.113.5"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "No shutdown:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "OSPF on tunnel area 0:", "answer": ["ip ospf 1 area 0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check tunnel status:", "answer": ["show interface Tunnel0", "sh int tunnel0"], "prompt": "Router#"}, {"type": "type", "q": "Ping through tunnel:", "answer": ["ping 172.16.0.2 source Tunnel0", "ping 172.16.0.2"], "prompt": "Router#"}, {"type": "type", "q": "Route to remote via tunnel:", "answer": ["ip route 192.168.2.0 255.255.255.0 172.16.0.2"], "prompt": "Router(config)#"}]}]}, {"id": "snmp_mon", "title": "SNMP & Monitoring", "desc": "SNMP, NetFlow, IP SLA.", "icon": "üìä", "tier": "Admin", "lessons": [{"title": "SNMPv2c", "content": "<h3>SNMP ‚Äî Simple Network Management Protocol</h3>\n<p>SNMP is how your monitoring tools (SolarWinds, PRTG, Nagios, LibreNMS) collect data from network devices. CPU usage, interface utilization, error counts, temperature ‚Äî all pulled via SNMP. Without it, you're flying blind.</p>\n\n<h3>How SNMP Works</h3>\n<div class=\"cli\"><span class=\"k\">Three components:</span>\n1. <strong>NMS</strong> (Network Management Station) ‚Äî Your monitoring server\n2. <strong>Agent</strong> ‚Äî Software on the router/switch that responds to queries\n3. <strong>MIB</strong> (Management Information Base) ‚Äî Database of what can be queried\n\n<span class=\"k\">Two directions:</span>\nPolling (port 161): NMS asks device \"What's your CPU?\" every 5 min\nTraps (port 162):   Device tells NMS \"My interface just went down!\"</div>\n\n<h3>SNMPv2c Configuration</h3>\n<div class=\"cli\"><span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server community PUBLIC ro</span>    Read-only access\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server community PRIVATE rw</span>   Read-write access\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server location Building-A-Floor-3</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server contact netops@company.com</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server enable traps</span>            Send alerts to NMS\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server host 10.0.0.50 version 2c PUBLIC</span>\n\n<span class=\"k\">Community strings are like passwords:</span>\n\"ro\" = read-only (monitoring only, can't change config)\n\"rw\" = read-write (can push config changes ‚Äî dangerous!)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>SNMPv2c sends community strings in PLAINTEXT.</strong> Anyone with a packet sniffer can see your SNMP password. On untrusted networks, always use SNMPv3 with authentication and encryption. Restrict SNMP access with ACLs.</div>", "questions": [{"type": "type", "q": "RO community 'MONITOR':", "answer": ["snmp-server community MONITOR ro"], "prompt": "Router(config)#"}, {"type": "type", "q": "Location 'DC-Rack5':", "answer": ["snmp-server location DC-Rack5"], "prompt": "Router(config)#"}, {"type": "type", "q": "Traps to 10.1.1.100:", "answer": ["snmp-server host 10.1.1.100 version 2c MONITOR", "snmp-server host 10.1.1.100 MONITOR"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable all traps:", "answer": ["snmp-server enable traps"], "prompt": "Router(config)#"}, {"type": "choice", "q": "v2c weakness?", "options": ["Slow", "Community strings in plaintext", "No traps", "IPv4 only"], "answer": 1, "explain": "Community strings sent unencrypted."}]}, {"title": "SNMPv3 & NetFlow", "content": "<h3>SNMPv3 ‚Äî Secure Monitoring</h3>\n<p>SNMPv3 adds what v2c desperately lacks: <strong>authentication</strong> (prove who you are) and <strong>encryption</strong> (hide the data). It's the only version appropriate for production networks.</p>\n\n<div class=\"cli\"><span class=\"k\">SNMPv3 Security Levels:</span>\nnoAuthNoPriv  ‚Äî Username only, no encryption (barely better than v2c)\nauthNoPriv    ‚Äî Authentication (SHA/MD5) but no encryption\nauthPriv      ‚Äî Authentication AND encryption (SHA + AES) ‚Üê Use this!\n\n<span class=\"k\">Configuration:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server group MONITORS v3 priv</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">snmp-server user monitor1 MONITORS v3 auth sha AuthPass1! priv aes 128 PrivPass1!</span>\n\n\"auth sha\" = authenticate with SHA hash\n\"priv aes 128\" = encrypt with AES-128</div>\n\n<h3>NetFlow ‚Äî Traffic Analysis</h3>\n<p>SNMP tells you HOW MUCH traffic. NetFlow tells you WHAT traffic ‚Äî source/destination IPs, protocols, ports, bytes. It answers \"Who's using all the bandwidth?\" and \"What's talking to that suspicious IP?\"</p>\n\n<div class=\"cli\"><span class=\"p\">Router(config-if)#</span> <span class=\"k\">ip flow ingress</span>              Capture incoming flows\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip flow-export destination 10.0.0.50 9996</span>  Send to collector\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip flow-export version 9</span>     Use v9 (flexible templates)\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip cache flow</span>         Top talkers and traffic patterns\n<span class=\"p\">Router#</span> <span class=\"k\">show ip flow export</span>        Export statistics</div>\n\n<div class=\"kp\">üí° <strong>NetFlow is invaluable for security.</strong> If a server is compromised and exfiltrating data, NetFlow shows unusual outbound connections to unknown IPs. SNMP would only show \"interface utilization is high.\"</div>", "questions": [{"type": "type", "q": "NetFlow ingress:", "answer": ["ip flow ingress"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Export to 10.0.0.50:9996:", "answer": ["ip flow-export destination 10.0.0.50 9996"], "prompt": "Router(config)#"}, {"type": "type", "q": "NetFlow v9:", "answer": ["ip flow-export version 9"], "prompt": "Router(config)#"}, {"type": "type", "q": "View flows:", "answer": ["show ip cache flow", "sh ip cache flow"], "prompt": "Router#"}, {"type": "choice", "q": "v3 'priv'?", "options": ["Private", "Auth+Encryption", "Privileged", "Priority"], "answer": 1, "explain": "Auth AND encryption."}, {"type": "choice", "q": "NetFlow collects?", "options": ["Packet contents", "Flow metadata (src/dst/port/bytes)", "SNMP data", "Logs"], "answer": 1, "explain": "Traffic flow statistics."}]}, {"title": "IP SLA", "content": "<h3>IP SLA ‚Äî Service Level Agreement Monitoring</h3>\n<p>IP SLA lets a router act as a <strong>probe</strong>, continuously testing network performance. It measures reachability, latency, jitter, and packet loss to specific destinations ‚Äî then can trigger actions like failover when thresholds are exceeded.</p>\n\n<div class=\"cli\"><span class=\"k\">Common use case: Automatic failover</span>\nPrimary path goes through ISP-A. Backup goes through ISP-B.\nIP SLA pings a target through ISP-A every 5 seconds.\nIf 3 pings fail ‚Üí IP SLA marks ISP-A as \"down.\"\nA tracked static route through ISP-A is removed.\nFloating static route through ISP-B activates automatically.\nWhen ISP-A recovers, SLA detects it and restores the primary route.\n\n<span class=\"k\">Configuration:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip sla 1</span>\n<span class=\"p\">Router(config-ip-sla)#</span> <span class=\"k\">icmp-echo 8.8.8.8 source-interface Gi0/1</span>\n<span class=\"p\">Router(config-ip-sla-echo)#</span> <span class=\"k\">frequency 5</span>             Probe every 5 sec\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip sla schedule 1 life forever start-time now</span>\n\n<span class=\"k\">Track the SLA:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">track 1 ip sla 1 reachability</span>\n\n<span class=\"k\">Use in a static route:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip route 0.0.0.0 0.0.0.0 203.0.113.1 track 1</span>\n  This default route only exists while SLA probe succeeds!\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip route 0.0.0.0 0.0.0.0 198.51.100.1 10</span>\n  Floating backup (AD=10) activates when primary is tracked down.\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip sla statistics</span>     Probe results, latency, loss</div>\n\n<div class=\"kp\">üí° <strong>IP SLA + tracking + floating statics</strong> = automatic WAN failover without any routing protocol. This is how many small/medium sites handle dual-ISP redundancy.</div>", "questions": [{"type": "type", "q": "Create IP SLA 1:", "answer": ["ip sla 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Schedule SLA 1 forever:", "answer": ["ip sla schedule 1 life forever start-time now"], "prompt": "Router(config)#"}, {"type": "type", "q": "View SLA results:", "answer": ["show ip sla statistics", "sh ip sla statistics"], "prompt": "Router#"}, {"type": "type", "q": "Track SLA 1 reachability:", "answer": ["track 1 ip sla 1 reachability"], "prompt": "Router(config)#"}, {"type": "choice", "q": "IP SLA purpose?", "options": ["Firewall", "Measure network performance/reachability", "QoS", "NAT"], "answer": 1, "explain": "Probes to measure latency, jitter, reachability."}]}]}, {"id": "aaa", "title": "AAA & TACACS+/RADIUS", "desc": "Centralized access control.", "icon": "üîë", "tier": "Admin", "lessons": [{"title": "AAA Concepts", "content": "<h3>AAA ‚Äî Authentication, Authorization, Accounting</h3>\n<p>AAA is the framework for controlling <strong>who can access</strong> your network devices, <strong>what they can do</strong>, and <strong>recording what they did</strong>. Without centralized AAA, you're managing local usernames on every device ‚Äî impossible at scale.</p>\n\n<div class=\"cli\"><span class=\"k\">Authentication</span> ‚Äî \"Who are you?\"\n  Verify identity. Username/password, certificate, token.\n  \"Prove you are who you claim to be.\"\n\n<span class=\"k\">Authorization</span> ‚Äî \"What can you do?\"\n  After proving identity, what privilege level? What commands?\n  Can this user configure interfaces or only run show commands?\n\n<span class=\"k\">Accounting</span> ‚Äî \"What did you do?\"\n  Log every command typed, session start/stop, bytes transferred.\n  Essential for audit trails and security investigations.\n  \"At 14:32, admin123 ran 'reload' on Router-NYC-01.\"</div>\n\n<h3>TACACS+ vs RADIUS</h3>\n<div class=\"cli\"><span class=\"k\">Feature          TACACS+              RADIUS</span>\nProtocol         TCP (port 49)        UDP (1812/1813)\nEncryption       Full payload          Password only\nAAA Separation   Separate A/A/A        Combined Auth+Authz\nPer-command authz Yes                  No\nBest for         Device admin (CLI)   Network access (WiFi, VPN, 802.1X)\nVendor           Cisco-developed      Open standard\n\n<span class=\"k\">Rule of thumb:</span>\nManaging routers/switches? ‚Üí TACACS+ (per-command control)\nAuthenticating WiFi/VPN users? ‚Üí RADIUS (802.1X standard)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>TACACS+ encrypts the ENTIRE payload</strong> (every command, every response). RADIUS only encrypts the password. On an untrusted network, TACACS+ is significantly more secure for device administration.</div>", "questions": [{"type": "choice", "q": "TACACS+ port?", "options": ["1812", "1645", "49", "389"], "answer": 2, "explain": "TCP 49."}, {"type": "choice", "q": "TACACS+ encrypts?", "options": ["Password only", "Full payload", "Nothing", "Headers"], "answer": 1, "explain": "Everything."}, {"type": "choice", "q": "RADIUS for?", "options": ["Device admin", "Network access (WiFi, VPN)", "Both", "Neither"], "answer": 1, "explain": "Standard for 802.1X, WiFi."}, {"type": "choice", "q": "Separates AAA functions?", "options": ["RADIUS", "TACACS+", "Both", "LDAP"], "answer": 1, "explain": "TACACS+ separates all three."}]}, {"title": "AAA Config", "content": "<h3>AAA Configuration ‚Äî TACACS+ Setup</h3>\n<p>Enabling AAA fundamentally changes how device access works. The moment you type <code>aaa new-model</code>, the old <code>login</code> and <code>enable password</code> methods are replaced by AAA method lists. <strong>Always have a fallback plan.</strong></p>\n\n<div class=\"cli\"><span class=\"k\">Step 1: Create local fallback FIRST!</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">username admin privilege 15 secret BackupPass!</span>\n  If the TACACS+ server is unreachable and no local user exists,\n  you are LOCKED OUT. Console + password recovery only.\n\n<span class=\"k\">Step 2: Enable AAA</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">aaa new-model</span>    ‚Üê Point of no return for login behavior\n\n<span class=\"k\">Step 3: Configure TACACS+ server</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">tacacs server ISE-PRIMARY</span>\n<span class=\"p\">Router(config-server-tacacs)#</span> <span class=\"k\">address ipv4 10.0.0.100</span>\n<span class=\"p\">Router(config-server-tacacs)#</span> <span class=\"k\">key SharedSecret!</span>\n\n<span class=\"k\">Step 4: Define method lists</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">aaa authentication login default group tacacs+ local</span>\n  \"Try TACACS+ first. If server is unreachable, fall back to local.\"\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">aaa authorization exec default group tacacs+ local</span>\n  \"TACACS+ decides what privilege level the user gets.\"\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">aaa accounting exec default start-stop group tacacs+</span>\n  \"Log session start/stop to TACACS+ server.\"\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">aaa accounting commands 15 default start-stop group tacacs+</span>\n  \"Log every priv-15 command to TACACS+ server.\"</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Test AAA with a console cable connected.</strong> If your method list is wrong or the server key doesn't match, you lose remote access immediately. Console access provides a recovery path.</div>", "questions": [{"type": "type", "q": "Enable AAA:", "answer": ["aaa new-model"], "prompt": "Router(config)#"}, {"type": "type", "q": "Auth TACACS+ + local fallback:", "answer": ["aaa authentication login default group tacacs+ local"], "prompt": "Router(config)#"}, {"type": "type", "q": "Authorization:", "answer": ["aaa authorization exec default group tacacs+ local"], "prompt": "Router(config)#"}, {"type": "type", "q": "Accounting start-stop:", "answer": ["aaa accounting exec default start-stop group tacacs+"], "prompt": "Router(config)#"}, {"type": "type", "q": "Create local fallback user:", "answer": ["username admin privilege 15 secret Backup!", "username admin secret Backup!"], "prompt": "Router(config)#"}, {"type": "choice", "q": "TACACS+ down + 'local' fallback = ?", "options": ["Fails", "Falls back to local database", "Waits", "Locks"], "answer": 1, "explain": "Local catches if TACACS+ unreachable."}]}]}, {"id": "qos", "title": "QoS", "desc": "Classify, mark, prioritize.", "icon": "üì∂", "tier": "Admin", "lessons": [{"title": "QoS Concepts", "content": "<h3>Quality of Service ‚Äî Prioritizing Critical Traffic</h3>\n<p>Without QoS, all traffic is treated equally. A massive file download gets the same priority as a voice call. The result? The voice call stutters, breaks up, or drops ‚Äî because the link is congested with bulk data. QoS ensures critical traffic always gets through.</p>\n\n<h3>Why QoS Matters</h3>\n<div class=\"cli\"><span class=\"k\">Traffic types and their requirements:</span>\nVoice     ‚Üí Needs: low latency (<150ms), low jitter, tiny bandwidth\n             Cannot tolerate: delay, packet loss (even 1% is audible)\nVideo     ‚Üí Needs: consistent bandwidth, low jitter\n             More tolerant of delay than voice\nData      ‚Üí Tolerates delay and jitter fine\n             Retransmission handles packet loss (TCP)\nSignaling ‚Üí Small packets, needs reliability more than speed</div>\n\n<h3>QoS Mechanisms</h3>\n<div class=\"cli\"><span class=\"k\">Classification</span> ‚Äî Identify the traffic type\n  Match by: DSCP marking, ACL, protocol, port number, NBAR\n  \n<span class=\"k\">Marking</span> ‚Äî Tag packets with priority (DSCP values)\n  EF (46) = Expedited Forwarding ‚Üí Voice (highest priority)\n  AF41 (34) = Assured Forwarding ‚Üí Video\n  AF21 (18) = Assured Forwarding ‚Üí Critical data\n  CS1 (8) = Scavenger ‚Üí Low priority (backups, updates)\n  BE (0) = Best Effort ‚Üí Default, no guarantees\n\n<span class=\"k\">Queuing</span> ‚Äî Decide which packets get sent first\n  Priority queue: always sent first (strict ‚Äî for voice)\n  Bandwidth guarantee: minimum guaranteed (for video/critical)\n  Fair queue: remaining bandwidth shared fairly\n\n<span class=\"k\">Policing/Shaping</span> ‚Äî Control traffic rate\n  Policing: drops excess traffic immediately (at ingress)\n  Shaping: buffers excess and sends when possible (at egress)</div>\n\n<div class=\"kp\">üí° <strong>QoS doesn't create bandwidth.</strong> It takes existing bandwidth and divides it intelligently. A 100 Mbps link with QoS is still 100 Mbps ‚Äî but voice calls won't be killed by file downloads anymore.</div>", "questions": [{"type": "choice", "q": "EF for?", "options": ["Email", "Voice", "Web", "File"], "answer": 1, "explain": "Expedited Forwarding = voice."}, {"type": "choice", "q": "Enterprise model?", "options": ["Best Effort", "IntServ", "DiffServ", "Round-robin"], "answer": 2, "explain": "DiffServ with DSCP."}, {"type": "choice", "q": "Mark where?", "options": ["Core", "WAN edge", "Close to source", "Firewall"], "answer": 2, "explain": "Trust boundary at access layer."}, {"type": "choice", "q": "CoS operates at?", "options": ["L2 (802.1Q tag)", "L3", "L4", "L7"], "answer": 0, "explain": "In the VLAN tag, trunks only."}]}, {"title": "MQC Config", "content": "<h3>MQC ‚Äî Modular QoS CLI</h3>\n<p>Cisco's MQC is a three-step framework: <strong>classify</strong> traffic (class-map), <strong>define policy</strong> (policy-map), <strong>apply</strong> (service-policy). This modular approach lets you build complex QoS policies from reusable building blocks.</p>\n\n<div class=\"cli\"><span class=\"k\">Step 1: CLASS-MAP ‚Äî \"What traffic?\"</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">class-map match-any VOICE</span>\n<span class=\"p\">Router(config-cmap)#</span> <span class=\"k\">match dscp ef</span>            Match voice (DSCP 46)\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">class-map match-any VIDEO</span>\n<span class=\"p\">Router(config-cmap)#</span> <span class=\"k\">match dscp af41</span>          Match video (DSCP 34)\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">class-map match-any BULK</span>\n<span class=\"p\">Router(config-cmap)#</span> <span class=\"k\">match dscp cs1</span>           Match scavenger traffic\n\n<span class=\"k\">Step 2: POLICY-MAP ‚Äî \"What to do with it?\"</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">policy-map WAN-QOS</span>\n<span class=\"p\">Router(config-pmap)#</span> <span class=\"k\">class VOICE</span>\n<span class=\"p\">Router(config-pmap-c)#</span> <span class=\"k\">priority percent 10</span>   Strict priority (guaranteed!)\n<span class=\"p\">Router(config-pmap)#</span> <span class=\"k\">class VIDEO</span>\n<span class=\"p\">Router(config-pmap-c)#</span> <span class=\"k\">bandwidth percent 20</span>  Guaranteed minimum BW\n<span class=\"p\">Router(config-pmap)#</span> <span class=\"k\">class BULK</span>\n<span class=\"p\">Router(config-pmap-c)#</span> <span class=\"k\">bandwidth percent 5</span>   Minimal guarantee\n<span class=\"p\">Router(config-pmap)#</span> <span class=\"k\">class class-default</span>\n<span class=\"p\">Router(config-pmap-c)#</span> <span class=\"k\">fair-queue</span>            Everything else shares fairly\n\n<span class=\"k\">Step 3: SERVICE-POLICY ‚Äî \"Where to apply?\"</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">service-policy output WAN-QOS</span>\n\n<span class=\"p\">Router#</span> <span class=\"k\">show policy-map interface</span>    Verify: per-class stats</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Priority vs Bandwidth:</strong> \"priority\" = strict priority queue with a policer (voice gets served first, always). \"bandwidth\" = guaranteed minimum but can use more when available. Use priority ONLY for voice ‚Äî too much priority traffic starves everything else.</div>", "questions": [{"type": "type", "q": "Class-map 'CRITICAL':", "answer": ["class-map match-any CRITICAL", "class-map CRITICAL"], "prompt": "Router(config)#"}, {"type": "type", "q": "Match DSCP EF:", "answer": ["match dscp ef"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Match access-group 101:", "answer": ["match access-group 101"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Policy-map 'WAN-QOS':", "answer": ["policy-map WAN-QOS"], "prompt": "Router(config)#"}, {"type": "type", "q": "Priority 10%:", "answer": ["priority percent 10"], "prompt": "Router(config-pmap-c)#"}, {"type": "type", "q": "Bandwidth 20%:", "answer": ["bandwidth percent 20"], "prompt": "Router(config-pmap-c)#"}, {"type": "type", "q": "Apply outbound:", "answer": ["service-policy output WAN-QOS"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Verify policy on interface:", "answer": ["show policy-map interface", "sh policy-map interface"], "prompt": "Router#"}]}]}, {"id": "bgp", "title": "BGP Basics", "desc": "The protocol that runs the internet.", "icon": "üåê", "tier": "Admin", "lessons": [{"title": "BGP Concepts", "content": "<h3>BGP ‚Äî Border Gateway Protocol</h3>\n<p>BGP is the routing protocol that <strong>runs the internet</strong>. Every ISP, every content provider, every large enterprise uses BGP to exchange routes between independent networks (Autonomous Systems). It's fundamentally different from interior protocols like OSPF and EIGRP.</p>\n\n<h3>Why BGP is Different</h3>\n<div class=\"cli\"><span class=\"k\">Interior (OSPF/EIGRP):</span>\n‚Ä¢ Runs WITHIN your organization\n‚Ä¢ Auto-discovers neighbors (multicast)\n‚Ä¢ Uses metrics (cost, bandwidth)\n‚Ä¢ Goal: Find the fastest path\n\n<span class=\"k\">BGP (Exterior):</span>\n‚Ä¢ Runs BETWEEN organizations\n‚Ä¢ Neighbors manually configured (TCP port 179)\n‚Ä¢ Uses path ATTRIBUTES (not metrics)\n‚Ä¢ Goal: Find the BEST policy-compliant path\n‚Ä¢ Can influence path selection with business logic</div>\n\n<h3>Key BGP Concepts</h3>\n<div class=\"cli\"><span class=\"k\">Autonomous System (AS):</span>\n  A network under single administrative control.\n  Identified by an AS number (ASN): 1-65535 (or 4-byte).\n  Private: 64512-65534. Public: assigned by ARIN/RIPE/etc.\n\n<span class=\"k\">eBGP vs iBGP:</span>\n  eBGP = Between DIFFERENT AS numbers (AD = 20)\n  iBGP = Within the SAME AS number (AD = 200)\n  eBGP is trusted more because it's from an external source.\n\n<span class=\"k\">Path Selection (simplified order):</span>\n  1. Highest Weight (Cisco-only, local to router)\n  2. Highest Local Preference (within your AS)\n  3. Locally originated routes\n  4. Shortest AS-Path (fewest AS hops)\n  5. Lowest Origin type (i > e > ?)\n  6. Lowest MED (Multi-Exit Discriminator)\n  7. eBGP over iBGP\n  8. Lowest Router-ID (tiebreaker)\n\n<span class=\"k\">BGP States:</span>\n  Idle ‚Üí Connect ‚Üí OpenSent ‚Üí OpenConfirm ‚Üí <strong>Established</strong>\n  Established = working. Idle/Active = problem.</div>\n\n<div class=\"kp\">üí° <strong>\"Active\" is misleading in BGP.</strong> It means \"actively trying to connect\" ‚Äî which means it's NOT connected. <strong>Established</strong> is the only good state.</div>", "questions": [{"type": "choice", "q": "BGP type?", "options": ["Distance-vector", "Link-state", "Path-vector", "Hybrid"], "answer": 2, "explain": "Path-vector, uses AS-path."}, {"type": "choice", "q": "BGP port?", "options": ["49", "89", "179", "520"], "answer": 2, "explain": "TCP 179."}, {"type": "choice", "q": "eBGP AD?", "options": ["1", "20", "90", "200"], "answer": 1, "explain": "eBGP=20, iBGP=200."}, {"type": "choice", "q": "iBGP AD?", "options": ["20", "90", "110", "200"], "answer": 3, "explain": "iBGP=200."}, {"type": "choice", "q": "BGP prefers shortest?", "options": ["Metric", "Hop count", "AS-path", "Cost"], "answer": 2, "explain": "Shorter AS-path = fewer AS hops."}, {"type": "choice", "q": "BGP auto-discover neighbors?", "options": ["Yes like OSPF", "No, manually configured"], "answer": 1, "explain": "Every BGP neighbor must be manually specified."}]}, {"title": "BGP Configuration", "content": "<h3>BGP Configuration</h3>\n<p>BGP configuration differs significantly from OSPF/EIGRP. Every neighbor is manually specified. The <code>network</code> command advertises prefixes (not enables BGP on interfaces). Routes must exist in the routing table to be advertised.</p>\n\n<div class=\"cli\"><span class=\"k\">Basic eBGP Configuration:</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">router bgp 65001</span>                  Your AS number\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">bgp router-id 1.1.1.1</span>       Unique ID\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">neighbor 10.0.0.2 remote-as 65002</span>\n  Peer IP + THEIR AS number. Both sides must configure each other.\n\n<span class=\"k\">Advertising networks:</span>\n<span class=\"p\">Router(config-router)#</span> <span class=\"k\">network 192.168.1.0 mask 255.255.255.0</span>\n  CRITICAL difference from OSPF/EIGRP:\n  This doesn't enable BGP on an interface!\n  It says \"advertise 192.168.1.0/24 to my BGP peers.\"\n  BUT: The route MUST exist in the routing table first!\n  If there's no 192.168.1.0/24 in 'show ip route', BGP won't advertise it.\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip bgp summary</span>\n  Neighbor status, prefixes received. State should show a NUMBER\n  (count of prefixes) not \"Idle\" or \"Active.\"\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip bgp</span>\n  Full BGP table. Shows all learned paths and best path (*>).\n\n<span class=\"p\">Router#</span> <span class=\"k\">show ip bgp neighbors</span>\n  Detailed peer info, capabilities, timers.\n\n<span class=\"p\">Router#</span> <span class=\"k\">clear ip bgp * soft</span>\n  Soft reset: re-process routes without dropping the session.</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>BGP network statement requires an exact match.</strong> If your routing table has 192.168.0.0/16 but you configure <code>network 192.168.1.0 mask 255.255.255.0</code>, BGP will NOT advertise it because /24 ‚â† /16. The prefix and mask must exactly match a route in the table.</div>", "questions": [{"type": "type", "q": "Start BGP AS 65001:", "answer": ["router bgp 65001"], "prompt": "Router(config)#"}, {"type": "type", "q": "Neighbor 10.0.0.2 in AS 65002:", "answer": ["neighbor 10.0.0.2 remote-as 65002"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 192.168.1.0/24:", "answer": ["network 192.168.1.0 mask 255.255.255.0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "BGP summary:", "answer": ["show ip bgp summary", "sh ip bgp summary", "sh ip bgp sum"], "prompt": "Router#"}, {"type": "type", "q": "BGP table:", "answer": ["show ip bgp", "sh ip bgp"], "prompt": "Router#"}, {"type": "type", "q": "BGP neighbor detail:", "answer": ["show ip bgp neighbors", "sh ip bgp neighbors", "sh ip bgp nei"], "prompt": "Router#"}, {"type": "type", "q": "Clear BGP session with 10.0.0.2:", "answer": ["clear ip bgp 10.0.0.2", "clear ip bgp 10.0.0.2 soft"], "prompt": "Router#"}, {"type": "choice", "q": "BGP 'network' command requires?", "options": ["Wildcard mask", "Exact match in routing table", "OSPF running", "Connected interface"], "answer": 1, "explain": "Network must exist in routing table to be advertised."}]}]}, {"id": "firewall", "title": "Firewall & ACL Mastery", "desc": "Zone-based firewall, advanced ACLs, security zones.", "icon": "üî•", "tier": "Admin", "lessons": [{"title": "Zone-Based Firewall", "content": "<h3>Zone-Based Firewall (ZBF)</h3>\n<p>ZBF is Cisco's modern firewall implementation on IOS routers. Instead of applying ACLs to individual interfaces, you group interfaces into <strong>security zones</strong> and define policies for traffic flowing BETWEEN zones. No policy between zones = traffic denied by default.</p>\n\n<h3>ZBF Architecture</h3>\n<div class=\"cli\"><span class=\"k\">Zone concept:</span>\nINSIDE zone  = Trusted internal network (users, servers)\nOUTSIDE zone = Untrusted (internet)\nDMZ zone     = Semi-trusted (public-facing servers)\n\n<span class=\"k\">Rules:</span>\n‚Ä¢ Traffic WITHIN a zone = allowed (same security level)\n‚Ä¢ Traffic BETWEEN zones = DENIED unless policy exists\n‚Ä¢ Zone-pair is directional: INSIDE‚ÜíOUTSIDE ‚â† OUTSIDE‚ÜíINSIDE\n‚Ä¢ \"inspect\" = stateful: return traffic auto-allowed\n‚Ä¢ \"pass\" = stateless: no return traffic tracking\n\n<span class=\"k\">Configuration flow:</span>\n1. Create zones\n2. Assign interfaces to zones\n3. Create class-maps (what traffic to match)\n4. Create policy-maps (what to do: inspect/drop/pass)\n5. Create zone-pairs (direction)\n6. Apply policy to zone-pair\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">zone security INSIDE</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">zone security OUTSIDE</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">zone-member security INSIDE</span>   (on LAN interface)\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">zone-member security OUTSIDE</span>  (on WAN interface)\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">class-map type inspect match-any ALLOWED</span>\n<span class=\"p\">Router(config-cmap)#</span> <span class=\"k\">match protocol http</span>\n<span class=\"p\">Router(config-cmap)#</span> <span class=\"k\">match protocol https</span>\n<span class=\"p\">Router(config-cmap)#</span> <span class=\"k\">match protocol dns</span>\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">policy-map type inspect IN-TO-OUT</span>\n<span class=\"p\">Router(config-pmap)#</span> <span class=\"k\">class type inspect ALLOWED</span>\n<span class=\"p\">Router(config-pmap-c)#</span> <span class=\"k\">inspect</span>     Stateful inspection!\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">zone-pair security IN-OUT source INSIDE destination OUTSIDE</span>\n<span class=\"p\">Router(config-sec-zone-pair)#</span> <span class=\"k\">service-policy type inspect IN-TO-OUT</span></div>\n\n<div class=\"kp\">üí° <strong>\"inspect\" is the key action.</strong> It creates stateful firewall behavior ‚Äî outbound traffic is allowed, and return traffic is automatically permitted. Without \"inspect,\" you'd need separate rules for both directions.</div>", "questions": [{"type": "type", "q": "Create zone 'INSIDE':", "answer": ["zone security INSIDE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Create zone 'DMZ':", "answer": ["zone security DMZ"], "prompt": "Router(config)#"}, {"type": "type", "q": "Assign interface to INSIDE:", "answer": ["zone-member security INSIDE"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "View zone pairs:", "answer": ["show zone-pair security", "sh zone-pair security"], "prompt": "Router#"}, {"type": "type", "q": "View zone security:", "answer": ["show zone security", "sh zone security"], "prompt": "Router#"}, {"type": "choice", "q": "Zone-pair direction matters?", "options": ["No, bidirectional", "Yes, source>dest only"], "answer": 1, "explain": "You need separate zone-pairs for each direction."}, {"type": "choice", "q": "Traffic between zones without a policy?", "options": ["Allowed", "Denied by default", "Logged", "Depends on ACL"], "answer": 1, "explain": "Without a zone-pair policy, inter-zone traffic is dropped."}]}, {"title": "Time-Based & Reflexive ACLs", "content": "<h3>Advanced ACL Types</h3>\n<p>Standard and extended ACLs are static ‚Äî they're always on. Time-based ACLs activate during specific time windows. Reflexive ACLs provide stateful-like filtering without a full ZBF implementation.</p>\n\n<h3>Time-Based ACLs</h3>\n<div class=\"cli\"><span class=\"k\">Use case:</span> Allow social media only during lunch (12:00-13:00)\nBlock certain traffic outside business hours.\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">time-range LUNCH</span>\n<span class=\"p\">Router(config-time-range)#</span> <span class=\"k\">periodic weekdays 12:00 to 13:00</span>\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended SOCIAL</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any eq 443 time-range LUNCH</span>\n  This rule only active Mon-Fri 12:00-13:00.\n\n<span class=\"k\">Options:</span>\nperiodic weekdays 08:00 to 17:00    Mon-Fri business hours\nperiodic daily 00:00 to 06:00        Every day midnight-6am\nabsolute start 00:00 1 Jan 2026 end 23:59 31 Dec 2026  Exact range</div>\n\n<h3>Reflexive ACLs (Stateful-Like Filtering)</h3>\n<div class=\"cli\"><span class=\"k\">Problem:</span> You want to allow outbound traffic and automatically\nallow the RETURN traffic ‚Äî without opening permanent inbound holes.\n\n<span class=\"k\">Solution:</span> Reflexive ACLs create temporary entries for return traffic.\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended OUTBOUND</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit tcp any any reflect TCP-SESSIONS</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">permit udp any any reflect UDP-SESSIONS</span>\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">ip access-list extended INBOUND</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">evaluate TCP-SESSIONS</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">evaluate UDP-SESSIONS</span>\n<span class=\"p\">Router(config-ext-nacl)#</span> <span class=\"k\">deny ip any any</span>\n\nApply OUTBOUND out on external, INBOUND in on external.\nOutbound traffic creates dynamic \"reflect\" entries.\nReturn traffic matches \"evaluate\" and is permitted.\nWhen session ends, the entry is automatically removed.</div>\n\n<div class=\"kp\">üí° <strong>Reflexive ACLs are a lightweight alternative to ZBF</strong> when you need basic stateful filtering. ZBF is more powerful and flexible, but reflexive ACLs work on older IOS versions.</div>", "questions": [{"type": "type", "q": "Create time-range 'AFTER-HOURS':", "answer": ["time-range AFTER-HOURS"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set weekdays 8-17:", "answer": ["periodic weekdays 8:00 to 17:00"], "prompt": "Router(config-time-range)#"}, {"type": "type", "q": "View time-ranges:", "answer": ["show time-range", "sh time-range"], "prompt": "Router#"}, {"type": "choice", "q": "Reflexive ACLs provide?", "options": ["Encryption", "Stateful-like filtering", "QoS", "NAT"], "answer": 1, "explain": "Tracks outbound connections and allows matching return traffic."}, {"type": "choice", "q": "Time-based ACL needs?", "options": ["NTP sync", "Special hardware", "IOS upgrade", "L3 switch"], "answer": 0, "explain": "Accurate time (NTP) is essential for time-based rules to work correctly."}]}]}, {"id": "vpn_ipsec", "title": "VPN & IPsec", "desc": "Site-to-site encrypted tunnels.", "icon": "üîê", "tier": "Admin", "lessons": [{"title": "IPsec Concepts", "content": "<h3>IPsec ‚Äî Internet Protocol Security</h3>\n<p>IPsec encrypts traffic between two sites across the untrusted internet. It's the standard for site-to-site VPNs. IPsec works in two phases: Phase 1 builds a secure management channel, Phase 2 builds the actual data tunnel.</p>\n\n<h3>Phase 1 (IKE/ISAKMP) ‚Äî \"Agree on Security\"</h3>\n<div class=\"cli\"><span class=\"k\">Purpose:</span> Establish a secure, authenticated channel between peers.\nBoth sides MUST agree on ALL of these:\n\n1. <strong>Encryption</strong>: AES-128, AES-256, 3DES (how to encrypt)\n2. <strong>Hash/Integrity</strong>: SHA-256, SHA-1, MD5 (detect tampering)\n3. <strong>Authentication</strong>: Pre-shared key (PSK) or certificates\n4. <strong>DH Group</strong>: 2, 5, 14, 19 (key exchange algorithm)\n5. <strong>Lifetime</strong>: How long before re-negotiating (default 86400 sec)\n\n<span class=\"k\">If ANY parameter mismatches ‚Üí tunnel won't form.</span>\nThis is the #1 VPN troubleshooting issue.</div>\n\n<h3>Phase 2 (IPsec SA) ‚Äî \"Build the Data Tunnel\"</h3>\n<div class=\"cli\"><span class=\"k\">Purpose:</span> Negotiate how actual user data is encrypted.\nUses the secure channel from Phase 1 to negotiate:\n\n1. <strong>Transform set</strong>: encryption + integrity for data\n   Example: ESP with AES-256 encryption + SHA-256 integrity\n2. <strong>Interesting traffic</strong>: ACL defining what gets encrypted\n   Example: \"Encrypt traffic between 192.168.1.0/24 and 192.168.2.0/24\"\n\n<span class=\"k\">Protocols:</span>\nESP (Protocol 50) ‚Äî Encryption + Authentication (most common)\nAH (Protocol 51)  ‚Äî Authentication only (no encryption, rare)\n\n<span class=\"k\">Modes:</span>\nTunnel mode (default) ‚Äî Encrypts ENTIRE original packet + new IP header\nTransport mode        ‚Äî Encrypts only the payload (used in host-to-host)</div>\n\n<div class=\"kp\">üí° <strong>Phase 1 = management plane</strong> (secure channel for negotiation). <strong>Phase 2 = data plane</strong> (actual encrypted tunnel for user traffic). Phase 1 must succeed before Phase 2 can begin.</div>", "questions": [{"type": "choice", "q": "IPsec Phase 1?", "options": ["Data transfer", "Negotiate secure channel (ISAKMP)", "Certificate request", "Routing update"], "answer": 1, "explain": "Phase 1 creates the ISAKMP/IKE secure channel."}, {"type": "choice", "q": "Default IPsec mode?", "options": ["Transport", "Tunnel", "Aggressive", "Main"], "answer": 1, "explain": "Tunnel mode encrypts the entire original packet."}, {"type": "choice", "q": "ESP provides?", "options": ["Auth only", "Encryption + Auth", "Routing", "QoS"], "answer": 1, "explain": "ESP = Encapsulating Security Payload. Encryption + authentication."}, {"type": "choice", "q": "ESP protocol number?", "options": ["47 (GRE)", "50", "51", "89 (OSPF)"], "answer": 1, "explain": "ESP=50, AH=51, GRE=47."}]}, {"title": "Site-to-Site VPN Config", "content": "<h3>Site-to-Site IPsec VPN Configuration</h3>\n<p>A site-to-site VPN connects two office networks across the internet. Traffic between the sites is encrypted; traffic to the internet goes out normally. Both routers need matching Phase 1 and Phase 2 configurations.</p>\n\n<div class=\"cli\"><span class=\"k\">Phase 1 (ISAKMP Policy):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">crypto isakmp policy 10</span>\n<span class=\"p\">Router(config-isakmp)#</span> <span class=\"k\">encryption aes 256</span>\n<span class=\"p\">Router(config-isakmp)#</span> <span class=\"k\">hash sha256</span>\n<span class=\"p\">Router(config-isakmp)#</span> <span class=\"k\">authentication pre-share</span>\n<span class=\"p\">Router(config-isakmp)#</span> <span class=\"k\">group 14</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">crypto isakmp key VpnKey! address 203.0.113.5</span>\n\n<span class=\"k\">Phase 2 (Transform Set + Crypto Map):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">crypto ipsec transform-set MYSET esp-aes 256 esp-sha256-hmac</span>\n\n<span class=\"k\">Interesting traffic ACL (what to encrypt):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">access-list 101 permit ip 192.168.1.0 0.0.0.255 192.168.2.0 0.0.0.255</span>\n\n<span class=\"k\">Crypto Map (ties everything together):</span>\n<span class=\"p\">Router(config)#</span> <span class=\"k\">crypto map VPNMAP 10 ipsec-isakmp</span>\n<span class=\"p\">Router(config-crypto-map)#</span> <span class=\"k\">set peer 203.0.113.5</span>\n<span class=\"p\">Router(config-crypto-map)#</span> <span class=\"k\">set transform-set MYSET</span>\n<span class=\"p\">Router(config-crypto-map)#</span> <span class=\"k\">match address 101</span>\n\n<span class=\"k\">Apply to WAN interface:</span>\n<span class=\"p\">Router(config-if)#</span> <span class=\"k\">crypto map VPNMAP</span>\n\n<span class=\"k\">Verification:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show crypto isakmp sa</span>     Phase 1: QM_IDLE = good\n<span class=\"p\">Router#</span> <span class=\"k\">show crypto ipsec sa</span>      Phase 2: pkts encrypted/decrypted</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>The interesting traffic ACL must MIRROR on both sides.</strong> If Site A says \"encrypt 192.168.1.0‚Üí192.168.2.0\" then Site B must say \"encrypt 192.168.2.0‚Üí192.168.1.0\". Mismatched ACLs = tunnel negotiation failure.</div>", "questions": [{"type": "type", "q": "Create ISAKMP policy 10:", "answer": ["crypto isakmp policy 10"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set AES 256:", "answer": ["encryption aes 256"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "Pre-shared key auth:", "answer": ["authentication pre-share"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "Apply crypto map to interface:", "answer": ["crypto map VPNMAP"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Check Phase 1 status:", "answer": ["show crypto isakmp sa", "sh crypto isakmp sa"], "prompt": "Router#"}, {"type": "type", "q": "Check Phase 2 status:", "answer": ["show crypto ipsec sa", "sh crypto ipsec sa"], "prompt": "Router#"}, {"type": "type", "q": "View crypto sessions:", "answer": ["show crypto session", "sh crypto session"], "prompt": "Router#"}, {"type": "choice", "q": "No interesting traffic ACL = ?", "options": ["All traffic encrypted", "VPN never triggers", "Error", "Drops all traffic"], "answer": 1, "explain": "VPN only activates for traffic matching the crypto ACL."}]}]}, {"id": "troubleshoot", "title": "Advanced Troubleshooting", "desc": "Systematic debugging, file management, recovery.", "icon": "üîß", "tier": "Admin", "lessons": [{"title": "Layer-by-Layer", "content": "<h3>Systematic Troubleshooting ‚Äî Layer by Layer</h3>\n<p>When a network problem hits, resist the urge to guess. Follow a methodical approach starting from Layer 1 (physical) and working up. Most problems are at L1 (cable) or L3 (routing). This methodology is how experienced engineers find problems in minutes instead of hours.</p>\n\n<div class=\"cli\"><span class=\"k\">Layer 1 ‚Äî Physical</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show interfaces [name]</span>\n  Look for: CRC errors, input errors, runts, giants, resets\n  These point to bad cables, connectors, or SFP modules.\n  Check link lights: Green=good, Amber=error, Off=no connection.\n\n<span class=\"k\">Layer 2 ‚Äî Data Link</span>\n<span class=\"p\">Switch#</span> <span class=\"k\">show mac address-table</span>       Is the device's MAC learned?\n<span class=\"p\">Switch#</span> <span class=\"k\">show vlan brief</span>               Correct VLAN assignment?\n<span class=\"p\">Switch#</span> <span class=\"k\">show spanning-tree</span>            Port in forwarding state?\n<span class=\"p\">Switch#</span> <span class=\"k\">show interfaces status</span>        Speed/duplex/err-disabled?\n\n<span class=\"k\">Layer 3 ‚Äî Network</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show ip interface brief</span>       Interface up? IP correct?\n<span class=\"p\">Router#</span> <span class=\"k\">show ip route</span>                 Route to destination exists?\n<span class=\"p\">Router#</span> <span class=\"k\">show ip arp</span>                   ARP resolution working?\n<span class=\"p\">Router#</span> <span class=\"k\">ping [destination]</span>            End-to-end reachability?\n<span class=\"p\">Router#</span> <span class=\"k\">traceroute [destination]</span>       Where does the path fail?\n\n<span class=\"k\">Layer 4+ ‚Äî Transport/Application</span>\n<span class=\"p\">Router#</span> <span class=\"k\">show access-lists</span>             ACL blocking traffic?\n<span class=\"p\">Router#</span> <span class=\"k\">show ip nat translations</span>      NAT table correct?\nTest: Can you reach the service port? Is the app running?</div>\n\n<div class=\"kp\">üí° <strong>The #1 troubleshooting command:</strong> <code>show ip interface brief</code>. It immediately shows which interfaces are up/down and whether IPs are assigned. Run it first, every time.</div>", "questions": [{"type": "type", "q": "Ping from Loopback0:", "answer": ["ping 10.0.0.1 source Loopback0", "ping 10.0.0.1 source lo0"], "prompt": "Router#"}, {"type": "type", "q": "Stop all debug:", "answer": ["undebug all", "u all", "no debug all"], "prompt": "Router#"}, {"type": "type", "q": "Interface errors:", "answer": ["show interfaces", "sh interfaces"], "prompt": "Router#"}, {"type": "type", "q": "Trace to 172.16.1.1:", "answer": ["traceroute 172.16.1.1"], "prompt": "Router#"}, {"type": "type", "q": "CPU usage:", "answer": ["show processes cpu", "sh processes cpu", "sh proc cpu"], "prompt": "Router#"}, {"type": "type", "q": "Memory usage:", "answer": ["show processes memory", "sh processes memory", "sh proc mem"], "prompt": "Router#"}, {"type": "choice", "q": "Start at?", "options": ["L7", "L4", "L3", "L1"], "answer": 3, "explain": "Physical first."}, {"type": "choice", "q": "CRC errors = ?", "options": ["Software", "Bad cable", "IP conflict", "MTU"], "answer": 1, "explain": "Physical: cables/connectors."}]}, {"title": "Debug & Recovery", "content": "<h3>Debug Commands & Password Recovery</h3>\n<p>Debug commands show real-time protocol processing. They're powerful but dangerous ‚Äî on a busy router, a broad debug can spike CPU to 100% and crash the device. Use them carefully, briefly, and with filters.</p>\n\n<h3>Safe Debugging</h3>\n<div class=\"cli\"><span class=\"k\">Golden rules:</span>\n1. ALWAYS have a way to stop debugging (console access)\n2. Filter with ACLs to limit output\n3. Set logging buffer to avoid console floods\n4. ALWAYS run \"undebug all\" when done\n\n<span class=\"k\">Common debug commands:</span>\n<span class=\"p\">Router#</span> <span class=\"k\">debug ip ospf hello</span>         OSPF hello packets (safe, low volume)\n<span class=\"p\">Router#</span> <span class=\"k\">debug ip ospf adj</span>           OSPF adjacency changes\n<span class=\"p\">Router#</span> <span class=\"k\">debug ip nat</span>                NAT translations in real-time\n<span class=\"p\">Router#</span> <span class=\"k\">debug ip packet</span>             ALL packets (DANGEROUS on busy router!)\n<span class=\"p\">Router#</span> <span class=\"k\">debug ip packet 100</span>         Only packets matching ACL 100 (safer)\n<span class=\"p\">Router#</span> <span class=\"k\">undebug all</span>                  STOP ALL debugging immediately</div>\n\n<h3>Password Recovery</h3>\n<div class=\"cli\"><span class=\"k\">When you're locked out:</span>\n1. Connect via console cable\n2. Power cycle the device\n3. Press Break during boot (within 60 seconds)\n4. At rommon> prompt:\n   <span class=\"p\">rommon></span> <span class=\"k\">confreg 0x2142</span>     Skip startup-config on boot\n   <span class=\"p\">rommon></span> <span class=\"k\">reset</span>             Reboot\n5. Device boots with NO configuration\n6. <span class=\"p\">Router#</span> <span class=\"k\">copy startup-config running-config</span>  Load saved config\n7. Change the password:\n   <span class=\"p\">Router(config)#</span> <span class=\"k\">enable secret NewPassword!</span>\n8. <span class=\"p\">Router(config)#</span> <span class=\"k\">config-register 0x2102</span>   Restore normal boot\n9. <span class=\"p\">Router#</span> <span class=\"k\">write memory</span>            Save everything\n\n<span class=\"k\">Key register values:</span>\n0x2102 = Normal boot (load startup-config)\n0x2142 = Skip startup-config (password recovery mode)</div>\n\n<div class=\"wb\">‚ö†Ô∏è <strong>Password recovery requires PHYSICAL console access.</strong> This is why physical security of network equipment matters. If someone can reach the console port, they can recover/reset the password.</div>", "questions": [{"type": "type", "q": "Debug OSPF hellos:", "answer": ["debug ip ospf hello"], "prompt": "Router#"}, {"type": "type", "q": "Debug NAT:", "answer": ["debug ip nat"], "prompt": "Router#"}, {"type": "type", "q": "Flash contents:", "answer": ["show flash:", "show flash", "dir flash:"], "prompt": "Router#"}, {"type": "type", "q": "Backup to TFTP:", "answer": ["copy running-config tftp:", "copy run tftp:"], "prompt": "Router#"}, {"type": "type", "q": "Download IOS from TFTP:", "answer": ["copy tftp: flash:", "copy tftp flash"], "prompt": "Router#"}, {"type": "type", "q": "Restore boot register:", "answer": ["config-register 0x2102"], "prompt": "Router(config)#"}, {"type": "choice", "q": "0x2142 = ?", "options": ["Factory reset", "Skip startup-config", "Recovery menu", "Baud rate"], "answer": 1, "explain": "Ignores startup-config on boot."}, {"type": "choice", "q": "'debug ip packet' danger?", "options": ["Deletes", "Massive CPU load", "Changes routing", "Disables"], "answer": 1, "explain": "Processes every packet in software."}]}]}, {"id": "automation", "title": "Network Automation", "desc": "Python, Ansible, APIs, EEM.", "icon": "ü§ñ", "tier": "Admin", "lessons": [{"title": "Tools & Concepts", "content": "<h3>Network Automation ‚Äî Tools & Concepts</h3>\n<p>Managing networks by typing CLI commands on individual devices doesn't scale. With hundreds of devices, automation is essential. Modern network engineers need to understand automation tools, APIs, and programmability concepts.</p>\n\n<h3>Automation Tools</h3>\n<div class=\"cli\"><span class=\"k\">Ansible</span> ‚Äî Agentless, uses SSH, YAML playbooks\n  Easiest to start with. No software needed on devices.\n  Push configs, gather facts, generate reports.\n  Ideal for: bulk config changes, compliance checks.\n\n<span class=\"k\">Puppet</span> ‚Äî Agent-based, declarative, Ruby\n  Defines desired state: \"Interface Gi0/0 SHOULD have IP x.x.x.x\"\n  Agent on device continuously enforces the desired state.\n\n<span class=\"k\">Chef</span> ‚Äî Agent-based, imperative, Ruby\n  Similar to Puppet but uses \"recipes\" and \"cookbooks.\"\n  More procedural: \"DO these steps in this order.\"\n\n<span class=\"k\">Terraform</span> ‚Äî Infrastructure as Code (IaC)\n  Defines infrastructure in config files (HCL language).\n  Creates, modifies, destroys infrastructure declaratively.\n  Used for cloud (AWS/Azure/GCP) and network infrastructure.</div>\n\n<h3>Python Libraries for Networking</h3>\n<div class=\"cli\"><span class=\"k\">Netmiko</span> ‚Äî SSH library for network devices\n  Simplifies SSH connections to Cisco, Juniper, Arista, etc.\n  Send commands, parse output. Most popular Python network library.\n\n<span class=\"k\">NAPALM</span> ‚Äî Multi-vendor abstraction\n  Unified API across vendors. get_facts(), get_interfaces().\n  Same Python code works on Cisco IOS, Junos, EOS.\n\n<span class=\"k\">ncclient</span> ‚Äî NETCONF client\n  Speaks NETCONF (XML over SSH) to devices.\n  Structured data instead of screen-scraping CLI output.</div>\n\n<h3>Data Models (YANG)</h3>\n<p><strong>YANG</strong> defines the structure of network configuration data. Think of it as a schema: \"An interface has a name (string), IP (address), and admin-state (up/down).\" NETCONF and RESTCONF use YANG models to structure their requests/responses.</p>\n\n<div class=\"kp\">üí° <strong>The shift in networking:</strong> Traditional = CLI commands (unstructured text). Modern = APIs with structured data (JSON/XML). Structured data can be parsed, validated, and automated reliably. CLI screen-scraping is fragile.</div>", "questions": [{"type": "choice", "q": "Agentless, SSH?", "options": ["Puppet", "Chef", "Ansible", "Salt"], "answer": 2, "explain": "Ansible."}, {"type": "choice", "q": "NETCONF transport?", "options": ["HTTP 80", "SSH 830", "HTTPS 443", "TCP 49"], "answer": 1, "explain": "SSH port 830."}, {"type": "choice", "q": "Netmiko purpose?", "options": ["Web framework", "SSH to network devices", "Database", "API gateway"], "answer": 1, "explain": "Python SSH library for network gear."}, {"type": "choice", "q": "YANG is?", "options": ["Language", "Data model for network config", "Library", "Protocol"], "answer": 1, "explain": "Defines config/state data structure."}, {"type": "choice", "q": "IaC means?", "options": ["Writing code", "Version-controlled automated config", "Cloud migration", "Python scripting"], "answer": 1, "explain": "Treat configs like software."}]}, {"title": "Device APIs & EEM", "content": "<h3>Device APIs & Event Manager</h3>\n<p>Modern Cisco devices support APIs that let automation tools interact programmatically ‚Äî no screen-scraping CLI output. Plus, EEM (Embedded Event Manager) lets the device automate itself.</p>\n\n<h3>API Protocols</h3>\n<div class=\"cli\"><span class=\"k\">REST API</span> ‚Äî HTTP-based, JSON data\n  Simple, familiar (same as web APIs).\n  GET /restconf/data/interfaces ‚Üí returns JSON of all interfaces.\n  Stateless ‚Äî each request is independent.\n\n<span class=\"k\">NETCONF</span> ‚Äî XML over SSH (port 830)\n  Full configuration management: get, edit, commit, rollback.\n  Uses YANG data models for structure.\n  Transaction-based: changes are atomic (all or nothing).\n  <span class=\"p\">Router(config)#</span> <span class=\"k\">netconf-yang</span>          Enable on device\n\n<span class=\"k\">RESTCONF</span> ‚Äî REST + YANG (HTTP/HTTPS)\n  Combines REST simplicity with YANG structure.\n  <span class=\"p\">Router(config)#</span> <span class=\"k\">restconf</span>               Enable on device\n  <span class=\"p\">Router(config)#</span> <span class=\"k\">ip http secure-server</span>  Required for HTTPS\n\n<span class=\"k\">gNMI</span> ‚Äî gRPC Network Management Interface\n  High-performance, binary protocol (Protocol Buffers).\n  Best for telemetry streaming (real-time data collection).</div>\n\n<h3>EEM ‚Äî Embedded Event Manager</h3>\n<div class=\"cli\"><span class=\"k\">EEM lets the router/switch respond to events automatically:</span>\n\n<span class=\"p\">Router(config)#</span> <span class=\"k\">event manager applet SAVE-ON-CHANGE</span>\n<span class=\"p\">Router(config-applet)#</span> <span class=\"k\">event syslog pattern \"Configured from\"</span>\n<span class=\"p\">Router(config-applet)#</span> <span class=\"k\">action 1.0 cli command \"enable\"</span>\n<span class=\"p\">Router(config-applet)#</span> <span class=\"k\">action 2.0 cli command \"write memory\"</span>\n<span class=\"p\">Router(config-applet)#</span> <span class=\"k\">action 3.0 syslog msg \"Config auto-saved by EEM\"</span>\n\nThis applet watches for config changes (syslog message).\nWhen detected, it automatically saves the config.\nNever forget to \"wr\" again!\n\n<span class=\"k\">Other EEM triggers:</span>\nevent timer watchdog time 3600     ‚Üí Run every hour\nevent interface name Gi0/0 parameter input_errors  ‚Üí On errors\nevent track 1 state down           ‚Üí When tracked object goes down</div>\n\n<div class=\"kp\">üí° <strong>EEM is incredibly powerful for operations.</strong> Auto-save configs, send email alerts on interface flaps, automatically shut down ports with CRC errors, backup configs to TFTP daily ‚Äî all without external tools.</div>", "questions": [{"type": "type", "q": "Enable NETCONF:", "answer": ["netconf-yang"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable RESTCONF:", "answer": ["restconf"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable HTTPS:", "answer": ["ip http secure-server"], "prompt": "Router(config)#"}, {"type": "type", "q": "View NETCONF sessions:", "answer": ["show netconf-yang sessions", "sh netconf-yang sessions"], "prompt": "Router#"}, {"type": "choice", "q": "EEM can?", "options": ["Only monitor", "Run any CLI on events", "Only restart", "Only log"], "answer": 1, "explain": "Any CLI triggered by timers, syslog, interface events."}]}]}, {"id": "adm_drill1", "title": "CLI Drill: Full Network Deploy", "desc": "Deploy OSPF+NAT+ACL+DHCP from scratch.", "icon": "‚å®Ô∏è", "tier": "Admin", "lessons": [{"title": "Router Full Deploy", "content": "<h3>Full Enterprise Router Deployment</h3><p>Deploying a production router means configuring management access, routing, services, and security in the right order. Skip a step and you'll be driving to the site to console in.</p><div class=\"cli\"><span class=\"k\">Deployment checklist:</span>\n1. Basic setup: hostname, enable secret, banner\n2. Management: SSH, local users, AAA if available\n3. Interfaces: IPs, descriptions, no shutdown\n4. Routing: OSPF/EIGRP/BGP with passive-interface\n5. Services: NTP, syslog, SNMP\n6. Security: ACLs on VTY, unused interfaces shut\n7. Save: write memory (CRITICAL!)\n\n<span class=\"k\">Post-deployment verification:</span>\nshow ip interface brief     All interfaces up?\nshow ip route               Routes populated?\nshow ip ospf neighbor       Neighbors FULL state?\nshow ntp status             Clock synced?\nshow logging                Syslog flowing?\nshow ip ssh                 SSH v2 running?\nping [gateway]              Connectivity?</div><div class=\"wb\">&#x26A0;&#xFE0F; Always configure <strong>out-of-band management</strong> (console server) or a backup path before making routing changes that could isolate the device.</div>", "questions": [{"type": "type", "q": "Hostname EDGE-RTR:", "answer": ["hostname EDGE-RTR"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable secret:", "answer": ["enable secret Str0ng!"], "prompt": "Router(config)#"}, {"type": "type", "q": "Domain:", "answer": ["ip domain-name corp.local", "ip domain name corp.local"], "prompt": "Router(config)#"}, {"type": "type", "q": "RSA 2048:", "answer": ["crypto key generate rsa modulus 2048"], "prompt": "Router(config)#"}, {"type": "type", "q": "SSH v2:", "answer": ["ip ssh version 2"], "prompt": "Router(config)#"}, {"type": "type", "q": "Inside interface IP 192.168.1.1/24:", "answer": ["ip address 192.168.1.1 255.255.255.0"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "NAT inside:", "answer": ["ip nat inside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "No shut:", "answer": ["no shutdown", "no shut"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Outside interface IP 203.0.113.1/30:", "answer": ["ip address 203.0.113.1 255.255.255.252"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "NAT outside:", "answer": ["ip nat outside"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "ACL for NAT:", "answer": ["access-list 1 permit 192.168.1.0 0.0.0.255"], "prompt": "Router(config)#"}, {"type": "type", "q": "PAT overload:", "answer": ["ip nat inside source list 1 interface GigabitEthernet0/1 overload", "ip nat inside source list 1 int gi0/1 overload"], "prompt": "Router(config)#"}, {"type": "type", "q": "Default route:", "answer": ["ip route 0.0.0.0 0.0.0.0 203.0.113.2"], "prompt": "Router(config)#"}, {"type": "type", "q": "DHCP exclude:", "answer": ["ip dhcp excluded-address 192.168.1.1 192.168.1.10"], "prompt": "Router(config)#"}, {"type": "type", "q": "DHCP pool:", "answer": ["ip dhcp pool LAN"], "prompt": "Router(config)#"}, {"type": "type", "q": "Network:", "answer": ["network 192.168.1.0 255.255.255.0"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "Gateway:", "answer": ["default-router 192.168.1.1"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "DNS:", "answer": ["dns-server 8.8.8.8"], "prompt": "Router(dhcp-config)#"}, {"type": "type", "q": "OSPF:", "answer": ["router ospf 1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Network in area 0:", "answer": ["network 192.168.1.0 0.0.0.255 area 0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Originate default:", "answer": ["default-information originate"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "NTP:", "answer": ["ntp server 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Syslog:", "answer": ["logging 10.0.0.50"], "prompt": "Router(config)#"}, {"type": "type", "q": "Save:", "answer": ["wr", "write memory", "copy running-config startup-config"], "prompt": "Router#"}]}, {"title": "BGP + VPN Sprint", "content": "<h3>BGP & VPN Enterprise Config</h3><p>BGP controls internet routing between organizations (Autonomous Systems). IPsec VPNs encrypt traffic between sites. Together they form the backbone of enterprise WAN connectivity.</p><div class=\"cli\"><span class=\"k\">BGP essentials:</span>\nrouter bgp 65001                    Your AS number\n bgp router-id 1.1.1.1              Unique identifier\n neighbor 10.0.0.2 remote-as 65002  Manual peer config\n network 192.168.1.0 mask 255.255.255.0  Advertise prefix\n\n<span class=\"k\">IPsec VPN essentials:</span>\nPhase 1 (ISAKMP): crypto isakmp policy ‚Üí encryption + hash + auth\nPhase 2 (IPsec):  crypto ipsec transform-set ‚Üí data encryption\nCrypto map:       Ties peer + transform + interesting traffic (ACL)\nApply:            crypto map [name] on WAN interface\n\n<span class=\"k\">Key differences from interior routing:</span>\n‚Ä¢ BGP uses TCP 179 (not multicast)\n‚Ä¢ Neighbors must be MANUALLY configured\n‚Ä¢ Uses path attributes, not metrics\n‚Ä¢ eBGP AD=20, iBGP AD=200</div>", "questions": [{"type": "type", "q": "Start BGP 65001:", "answer": ["router bgp 65001"], "prompt": "Router(config)#"}, {"type": "type", "q": "Neighbor 10.0.0.2 AS 65002:", "answer": ["neighbor 10.0.0.2 remote-as 65002"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 192.168.0.0/16:", "answer": ["network 192.168.0.0 mask 255.255.0.0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "BGP summary:", "answer": ["show ip bgp summary", "sh ip bgp sum"], "prompt": "Router#"}, {"type": "type", "q": "ISAKMP policy 10:", "answer": ["crypto isakmp policy 10"], "prompt": "Router(config)#"}, {"type": "type", "q": "AES 256 encryption:", "answer": ["encryption aes 256"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "Pre-share auth:", "answer": ["authentication pre-share"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "Check Phase 1:", "answer": ["show crypto isakmp sa", "sh crypto isakmp sa"], "prompt": "Router#"}, {"type": "type", "q": "Check Phase 2:", "answer": ["show crypto ipsec sa", "sh crypto ipsec sa"], "prompt": "Router#"}, {"type": "type", "q": "Zone security INSIDE:", "answer": ["zone security INSIDE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Zone security OUTSIDE:", "answer": ["zone security OUTSIDE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Assign to INSIDE zone:", "answer": ["zone-member security INSIDE"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "AAA enable:", "answer": ["aaa new-model"], "prompt": "Router(config)#"}, {"type": "type", "q": "Auth TACACS+ local:", "answer": ["aaa authentication login default group tacacs+ local"], "prompt": "Router(config)#"}]}]}, {"id": "drill_vpn", "title": "IPsec VPN Speed Run", "desc": "Configure a full site-to-site VPN.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Full IPsec Setup", "content": "<h3>Site-to-Site IPsec VPN</h3><p>IPsec VPNs encrypt traffic between two sites over the public internet. Configuration has two phases: Phase 1 builds a secure management channel, Phase 2 builds the data tunnel.</p><div class=\"cli\"><span class=\"k\">Phase 1 (ISAKMP/IKE):</span>\ncrypto isakmp policy 10\n encryption aes 256          Data encryption\n hash sha256                 Integrity verification\n authentication pre-share    PSK (or certificates)\n group 14                    Diffie-Hellman key exchange\ncrypto isakmp key VpnKey! address 203.0.113.5  PSK for peer\n\n<span class=\"k\">Phase 2 (IPsec SA):</span>\ncrypto ipsec transform-set MYSET esp-aes 256 esp-sha256-hmac\naccess-list 101 permit ip 192.168.1.0 0.0.0.255 192.168.2.0 0.0.0.255\n\n<span class=\"k\">Crypto Map (ties it together):</span>\ncrypto map VPNMAP 10 ipsec-isakmp\n set peer 203.0.113.5\n set transform-set MYSET\n match address 101\n\n<span class=\"k\">Apply to WAN interface:</span>\ninterface Gi0/1\n crypto map VPNMAP\n\n<span class=\"k\">Verify:</span> show crypto isakmp sa (Phase1) | show crypto ipsec sa (Phase2)</div><div class=\"wb\">&#x26A0;&#xFE0F; Both sides must match: encryption, hash, auth method, DH group, AND pre-shared key. One mismatch = tunnel won't form.</div>", "questions": [{"type": "type", "q": "ISAKMP policy 10:", "answer": ["crypto isakmp policy 10"], "prompt": "Router(config)#"}, {"type": "type", "q": "AES 256 encryption:", "answer": ["encryption aes 256"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "SHA256 hash:", "answer": ["hash sha256"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "Pre-shared key auth:", "answer": ["authentication pre-share"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "DH group 14:", "answer": ["group 14"], "prompt": "Router(config-isakmp)#"}, {"type": "type", "q": "Set PSK for peer 203.0.113.5:", "answer": ["crypto isakmp key VpnKey! address 203.0.113.5"], "prompt": "Router(config)#"}, {"type": "type", "q": "Transform set:", "answer": ["crypto ipsec transform-set MYSET esp-aes 256 esp-sha256-hmac"], "prompt": "Router(config)#"}, {"type": "type", "q": "Crypto map VPNMAP seq 10:", "answer": ["crypto map VPNMAP 10 ipsec-isakmp"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set peer:", "answer": ["set peer 203.0.113.5"], "prompt": "Router(config-crypto-map)#"}, {"type": "type", "q": "Set transform:", "answer": ["set transform-set MYSET"], "prompt": "Router(config-crypto-map)#"}, {"type": "type", "q": "Match ACL 101:", "answer": ["match address 101"], "prompt": "Router(config-crypto-map)#"}, {"type": "type", "q": "Apply to WAN interface:", "answer": ["crypto map VPNMAP"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Verify Phase 1:", "answer": ["show crypto isakmp sa", "sh crypto isakmp sa"], "prompt": "Router#"}, {"type": "type", "q": "Verify Phase 2:", "answer": ["show crypto ipsec sa", "sh crypto ipsec sa"], "prompt": "Router#"}]}]}, {"id": "drill_aaa", "title": "AAA Speed Run", "desc": "TACACS+ setup from scratch.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Full AAA + TACACS+ Setup", "content": "<h3>AAA with TACACS+ Authentication</h3><p>AAA centralizes who can access devices (Authentication), what they can do (Authorization), and what they did (Accounting). TACACS+ is preferred for device administration.</p><div class=\"cli\"><span class=\"k\">Why TACACS+ for device admin:</span>\n‚Ä¢ TCP port 49 (reliable)\n‚Ä¢ Encrypts ENTIRE payload (not just password)\n‚Ä¢ Separates Authentication, Authorization, Accounting\n‚Ä¢ Per-command authorization possible\n‚Ä¢ RADIUS is better for network access (WiFi, VPN, 802.1X)\n\n<span class=\"k\">Configuration sequence:</span>\n1. aaa new-model              Enable AAA (no going back easily!)\n2. Create local fallback user  Emergency access if server dies\n3. Configure TACACS+ server    IP + shared key\n4. Set authentication method   TACACS+ first, local fallback\n5. Set authorization           What privilege levels allowed\n6. Set accounting              Log all commands for audit\n\n<span class=\"k\">CRITICAL:</span> Always create a local fallback user BEFORE\nenabling AAA. If TACACS+ is unreachable and no local user\nexists, you're locked out. Console + password recovery only.</div><div class=\"wb\">&#x26A0;&#xFE0F; <code>aaa new-model</code> immediately changes how login works. Have a console cable ready when enabling this for the first time!</div>", "questions": [{"type": "type", "q": "Enable AAA:", "answer": ["aaa new-model"], "prompt": "Router(config)#"}, {"type": "type", "q": "Local fallback user:", "answer": ["username admin privilege 15 secret Backup1!", "username admin secret Backup1!"], "prompt": "Router(config)#"}, {"type": "type", "q": "TACACS+ server config:", "answer": ["tacacs server ISE-01"], "prompt": "Router(config)#"}, {"type": "type", "q": "Server IP:", "answer": ["address ipv4 10.0.0.100"], "prompt": "Router(config-server-tacacs)#"}, {"type": "type", "q": "Shared key:", "answer": ["key SecretKey!"], "prompt": "Router(config-server-tacacs)#"}, {"type": "type", "q": "Authentication login:", "answer": ["aaa authentication login default group tacacs+ local"], "prompt": "Router(config)#"}, {"type": "type", "q": "Authorization exec:", "answer": ["aaa authorization exec default group tacacs+ local"], "prompt": "Router(config)#"}, {"type": "type", "q": "Accounting:", "answer": ["aaa accounting exec default start-stop group tacacs+"], "prompt": "Router(config)#"}, {"type": "type", "q": "Save config:", "answer": ["wr", "write memory"], "prompt": "Router#"}]}]}, {"id": "drill_bgp", "title": "BGP Speed Run", "desc": "Configure eBGP peering from scratch.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Full eBGP Setup", "content": "<h3>eBGP Peering Configuration</h3><p>BGP is the only protocol that connects different organizations (Autonomous Systems) on the internet. Unlike OSPF/EIGRP, BGP doesn't auto-discover ‚Äî every neighbor is manually configured.</p><div class=\"cli\"><span class=\"k\">eBGP vs iBGP:</span>\neBGP = Between different AS numbers (AD=20)\niBGP = Within the same AS number (AD=200)\n\n<span class=\"k\">Configuration:</span>\nrouter bgp 65001                    Your AS number\n bgp router-id 1.1.1.1              Unique (use loopback IP)\n neighbor 10.0.0.2 remote-as 65002  Peer IP + THEIR AS\n network 192.168.1.0 mask 255.255.255.0  What you advertise\n\n<span class=\"k\">BGP \"network\" command:</span>\nUnlike OSPF/EIGRP, BGP's network command doesn't enable BGP\non an interface. It says \"advertise this prefix to peers\" ‚Äî\nbut the route MUST already exist in the routing table!\n\n<span class=\"k\">Verification:</span>\nshow ip bgp summary    ‚Üí Neighbor status + prefixes received\nshow ip bgp            ‚Üí Full BGP table (all learned routes)\nshow ip bgp neighbors  ‚Üí Detailed peer info + capabilities\nclear ip bgp * soft    ‚Üí Soft reset (re-process without dropping)</div><div class=\"kp\">&#x1F4A1; BGP state <strong>\"Established\"</strong> = working. <strong>\"Idle\"</strong> = can't reach peer. <strong>\"Active\"</strong> = trying to connect (misleading name!).</div>", "questions": [{"type": "type", "q": "Start BGP AS 65001:", "answer": ["router bgp 65001"], "prompt": "Router(config)#"}, {"type": "type", "q": "Set router-id:", "answer": ["bgp router-id 1.1.1.1"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Neighbor 10.0.0.2 AS 65002:", "answer": ["neighbor 10.0.0.2 remote-as 65002"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 192.168.1.0/24:", "answer": ["network 192.168.1.0 mask 255.255.255.0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "Advertise 10.10.0.0/16:", "answer": ["network 10.10.0.0 mask 255.255.0.0"], "prompt": "Router(config-router)#"}, {"type": "type", "q": "BGP summary:", "answer": ["show ip bgp summary", "sh ip bgp sum"], "prompt": "Router#"}, {"type": "type", "q": "BGP table:", "answer": ["show ip bgp", "sh ip bgp"], "prompt": "Router#"}, {"type": "type", "q": "BGP neighbor detail:", "answer": ["show ip bgp neighbors", "sh ip bgp nei"], "prompt": "Router#"}, {"type": "type", "q": "Clear soft reset:", "answer": ["clear ip bgp * soft", "clear ip bgp 10.0.0.2 soft"], "prompt": "Router#"}]}]}, {"id": "drill_qos", "title": "QoS MQC Drills", "desc": "Full MQC policy from memory.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Complete QoS Policy", "content": "<h3>MQC Quality of Service</h3><p>QoS prioritizes critical traffic (voice, video) over best-effort traffic. The MQC (Modular QoS CLI) uses three components: classify, define policy, apply.</p><div class=\"cli\"><span class=\"k\">MQC Three-Step Model:</span>\n1. <strong>class-map</strong>: WHAT traffic to match\n   class-map match-any VOICE\n    match dscp ef               Match voice (DSCP 46)\n\n2. <strong>policy-map</strong>: WHAT to do with it\n   policy-map WAN-QOS\n    class VOICE\n     priority percent 10         Strict priority (voice)\n    class VIDEO\n     bandwidth percent 20        Guaranteed minimum\n    class class-default\n     fair-queue                  Fair sharing for rest\n\n3. <strong>service-policy</strong>: WHERE to apply\n   interface Gi0/1\n    service-policy output WAN-QOS  Apply outbound on WAN\n\n<span class=\"k\">DSCP Values to Know:</span>\nEF (46)  = Voice      | AF41 (34) = Video\nAF21 (18) = Critical  | CS1 (8)   = Scavenger\nBE (0)   = Default best-effort</div><div class=\"kp\">&#x1F4A1; <strong>Priority</strong> = strict priority queuing (guaranteed low latency, for voice). <strong>Bandwidth</strong> = guaranteed minimum but can use more if available.</div>", "questions": [{"type": "type", "q": "Class-map VOICE:", "answer": ["class-map match-any VOICE", "class-map VOICE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Match DSCP EF:", "answer": ["match dscp ef"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Class-map VIDEO:", "answer": ["class-map match-any VIDEO", "class-map VIDEO"], "prompt": "Router(config)#"}, {"type": "type", "q": "Match DSCP AF41:", "answer": ["match dscp af41"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Policy-map WAN-QOS:", "answer": ["policy-map WAN-QOS"], "prompt": "Router(config)#"}, {"type": "type", "q": "Class VOICE:", "answer": ["class VOICE"], "prompt": "Router(config-pmap)#"}, {"type": "type", "q": "Strict priority 10%:", "answer": ["priority percent 10"], "prompt": "Router(config-pmap-c)#"}, {"type": "type", "q": "Class VIDEO:", "answer": ["class VIDEO"], "prompt": "Router(config-pmap)#"}, {"type": "type", "q": "Bandwidth 20%:", "answer": ["bandwidth percent 20"], "prompt": "Router(config-pmap-c)#"}, {"type": "type", "q": "Apply outbound Gi0/1:", "answer": ["service-policy output WAN-QOS"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Verify:", "answer": ["show policy-map interface", "sh policy-map int"], "prompt": "Router#"}]}]}, {"id": "drill_verify", "title": "Verification Command Mastery", "desc": "Every verify command across all technologies.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Verify Everything - Part 1", "content": "<h3>Technology Verification Commands</h3><p>Every technology has a \"show\" command to verify it's working. Knowing the right verify command saves hours of blind troubleshooting.</p><div class=\"cli\"><span class=\"k\">Routing:</span>\nshow ip ospf neighbor          OSPF adjacencies (FULL=good)\nshow ip eigrp neighbors        EIGRP peers (hold timer ticking?)\nshow ip bgp summary            BGP peers (Established=good)\nshow ip route                  Full routing table\n\n<span class=\"k\">Switching:</span>\nshow etherchannel summary      Port-channel status (P=bundled)\nshow spanning-tree             Root bridge, port states\nshow port-security             Violation counts per port\n\n<span class=\"k\">Services:</span>\nshow ip nat translations       Active NAT/PAT entries\nshow ip dhcp binding           DHCP leases\nshow access-lists              ACL hit counters\nshow standby brief             HSRP active/standby status</div><div class=\"kp\">&#x1F4A1; <strong>Run verification BEFORE making changes</strong> so you know the baseline. Then verify AFTER to confirm your change worked.</div>", "questions": [{"type": "type", "q": "OSPF neighbors:", "answer": ["show ip ospf neighbor", "sh ip ospf nei"], "prompt": "Router#"}, {"type": "type", "q": "EIGRP neighbors:", "answer": ["show ip eigrp neighbors", "sh ip eigrp nei"], "prompt": "Router#"}, {"type": "type", "q": "BGP summary:", "answer": ["show ip bgp summary", "sh ip bgp sum"], "prompt": "Router#"}, {"type": "type", "q": "HSRP status:", "answer": ["show standby brief", "sh standby brief"], "prompt": "Router#"}, {"type": "type", "q": "NAT translations:", "answer": ["show ip nat translations", "sh ip nat trans"], "prompt": "Router#"}, {"type": "type", "q": "ACL hit counts:", "answer": ["show access-lists", "sh access-lists"], "prompt": "Router#"}, {"type": "type", "q": "EtherChannel:", "answer": ["show etherchannel summary", "sh etherchannel sum"], "prompt": "Switch#"}, {"type": "type", "q": "STP status:", "answer": ["show spanning-tree", "sh spanning-tree"], "prompt": "Switch#"}, {"type": "type", "q": "Port security:", "answer": ["show port-security", "sh port-security"], "prompt": "Switch#"}, {"type": "type", "q": "DHCP bindings:", "answer": ["show ip dhcp binding", "sh ip dhcp binding"], "prompt": "Router#"}]}, {"title": "Verify Everything - Part 2", "content": "<h3>Advanced Verification Commands</h3><p>These verify commands cover security, VPN, monitoring, and automation technologies. You'll use these in production troubleshooting daily.</p><div class=\"cli\"><span class=\"k\">Security & VPN:</span>\nshow crypto isakmp sa           IPsec Phase 1 (QM_IDLE=good)\nshow crypto ipsec sa            IPsec Phase 2 (pkts encrypted)\nshow crypto session             All VPN sessions summary\nshow authentication sessions    802.1X auth states\n\n<span class=\"k\">Monitoring:</span>\nshow ntp status                 Clock synced? (synchronized=good)\nshow ip sla statistics          SLA probe results\nshow ip dhcp snooping binding   DHCP snooping table\nshow policy-map interface       QoS policy stats per-class\n\n<span class=\"k\">Discovery & Automation:</span>\nshow cdp neighbors              Connected Cisco devices\nshow netconf-yang sessions      Active NETCONF connections\n\n<span class=\"k\">Troubleshooting Process:</span>\n1. Verify (show commands)\n2. Diagnose (debug if needed)\n3. Fix (make config change)\n4. Verify again (confirm fix)\n5. Save (write memory!)</div>", "questions": [{"type": "type", "q": "IPsec Phase 1:", "answer": ["show crypto isakmp sa", "sh crypto isakmp sa"], "prompt": "Router#"}, {"type": "type", "q": "IPsec Phase 2:", "answer": ["show crypto ipsec sa", "sh crypto ipsec sa"], "prompt": "Router#"}, {"type": "type", "q": "NTP sync:", "answer": ["show ntp status", "sh ntp status"], "prompt": "Router#"}, {"type": "type", "q": "CDP neighbors:", "answer": ["show cdp neighbors", "sh cdp nei"], "prompt": "Switch#"}, {"type": "type", "q": "IP SLA results:", "answer": ["show ip sla statistics", "sh ip sla statistics"], "prompt": "Router#"}, {"type": "type", "q": "802.1X sessions:", "answer": ["show authentication sessions", "sh authentication sessions"], "prompt": "Switch#"}, {"type": "type", "q": "QoS on interface:", "answer": ["show policy-map interface", "sh policy-map int"], "prompt": "Router#"}, {"type": "type", "q": "DHCP snooping table:", "answer": ["show ip dhcp snooping binding", "sh ip dhcp snooping binding"], "prompt": "Switch#"}, {"type": "type", "q": "NETCONF sessions:", "answer": ["show netconf-yang sessions", "sh netconf-yang sessions"], "prompt": "Router#"}, {"type": "type", "q": "Crypto sessions:", "answer": ["show crypto session", "sh crypto session"], "prompt": "Router#"}]}]}, {"id": "drill_monitor", "title": "Monitoring & Logging Drills", "desc": "SNMP, syslog, NetFlow from scratch.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Full Monitoring Stack", "content": "<h3>Enterprise Monitoring Setup</h3><p>Production networks need three monitoring pillars: SNMP for device metrics, Syslog for event logging, and NTP for accurate timestamps. NetFlow adds traffic analysis.</p><div class=\"cli\"><span class=\"k\">NTP (do this FIRST ‚Äî timestamps need accurate time):</span>\nntp server 10.0.0.1             Point to NTP server\nservice timestamps log datetime msec  Timestamp all logs\n\n<span class=\"k\">Syslog (centralized logging):</span>\nlogging 10.0.0.50                    Syslog server IP\nlogging trap informational           Level 6 (0=emergency‚Üí7=debug)\n\n<span class=\"k\">SNMP (network monitoring):</span>\nsnmp-server community PUBLIC ro       Read-only community string\nsnmp-server location Server-Room      Device location\nsnmp-server contact admin@co.com      Contact info\nsnmp-server enable traps              Send alerts to NMS\n\n<span class=\"k\">NetFlow (traffic analysis):</span>\ninterface Gi0/0\n ip flow ingress                      Capture incoming flows\nip flow-export destination 10.0.0.50 9996  Send to collector\nip flow-export version 9              Use v9 (flexible templates)</div><div class=\"wb\">&#x26A0;&#xFE0F; <strong>Always set up NTP before syslog.</strong> Without accurate timestamps, your logs are useless for incident investigation.</div>", "questions": [{"type": "type", "q": "SNMP RO community 'public':", "answer": ["snmp-server community public ro"], "prompt": "Router(config)#"}, {"type": "type", "q": "SNMP location:", "answer": ["snmp-server location Server-Room"], "prompt": "Router(config)#"}, {"type": "type", "q": "SNMP contact:", "answer": ["snmp-server contact admin@company.com"], "prompt": "Router(config)#"}, {"type": "type", "q": "Enable traps:", "answer": ["snmp-server enable traps"], "prompt": "Router(config)#"}, {"type": "type", "q": "NTP server 10.0.0.1:", "answer": ["ntp server 10.0.0.1"], "prompt": "Router(config)#"}, {"type": "type", "q": "Syslog to 10.0.0.50:", "answer": ["logging 10.0.0.50"], "prompt": "Router(config)#"}, {"type": "type", "q": "Log timestamps:", "answer": ["service timestamps log datetime msec"], "prompt": "Router(config)#"}, {"type": "type", "q": "Logging level info:", "answer": ["logging trap informational"], "prompt": "Router(config)#"}, {"type": "type", "q": "NetFlow on interface:", "answer": ["ip flow ingress"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Export to collector:", "answer": ["ip flow-export destination 10.0.0.50 9996"], "prompt": "Router(config)#"}, {"type": "type", "q": "NetFlow version 9:", "answer": ["ip flow-export version 9"], "prompt": "Router(config)#"}, {"type": "type", "q": "Check NTP:", "answer": ["show ntp status", "sh ntp status"], "prompt": "Router#"}]}]}, {"id": "drill_zbf", "title": "Zone-Based Firewall Drill", "desc": "Full ZBF policy from scratch.", "icon": "üéØ", "tier": "Admin", "lessons": [{"title": "Complete ZBF Setup", "content": "<h3>Zone-Based Firewall</h3><p>ZBF replaces old CBAC. You create security zones, assign interfaces, then build policies controlling traffic flow BETWEEN zones. No policy = no traffic allowed.</p><div class=\"cli\"><span class=\"k\">ZBF Architecture:</span>\n1. Create zones (INSIDE, OUTSIDE, DMZ)\n2. Assign interfaces to zones\n3. Define what traffic to inspect (class-map)\n4. Define what to do with it (policy-map: inspect/drop/pass)\n5. Create zone-pairs (direction matters!)\n6. Apply policy to zone-pair\n\n<span class=\"k\">Key rules:</span>\n‚Ä¢ Traffic within same zone = allowed by default\n‚Ä¢ Traffic between zones = DENIED unless policy exists\n‚Ä¢ Zone-pair is directional: IN‚ÜíOUT ‚â† OUT‚ÜíIN\n‚Ä¢ \"inspect\" = stateful: allows return traffic automatically\n‚Ä¢ \"pass\" = stateless: no return traffic tracking\n‚Ä¢ Self-zone = traffic TO/FROM the router itself\n\n<span class=\"k\">Common design:</span>\nINSIDE ‚Üí OUTSIDE: inspect (users browse internet)\nOUTSIDE ‚Üí INSIDE: deny (block inbound by default)\nINSIDE ‚Üí DMZ: inspect (access internal servers)\nOUTSIDE ‚Üí DMZ: inspect specific ports only (web servers)</div>", "questions": [{"type": "type", "q": "Create INSIDE zone:", "answer": ["zone security INSIDE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Create OUTSIDE zone:", "answer": ["zone security OUTSIDE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Create DMZ zone:", "answer": ["zone security DMZ"], "prompt": "Router(config)#"}, {"type": "type", "q": "Inspect class-map:", "answer": ["class-map type inspect match-any ALLOWED"], "prompt": "Router(config)#"}, {"type": "type", "q": "Match HTTP:", "answer": ["match protocol http"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Match HTTPS:", "answer": ["match protocol https"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Match DNS:", "answer": ["match protocol dns"], "prompt": "Router(config-cmap)#"}, {"type": "type", "q": "Policy-map:", "answer": ["policy-map type inspect IN-TO-OUT"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply class:", "answer": ["class type inspect ALLOWED"], "prompt": "Router(config-pmap)#"}, {"type": "type", "q": "Inspect action:", "answer": ["inspect"], "prompt": "Router(config-pmap-c)#"}, {"type": "type", "q": "Zone-pair IN>OUT:", "answer": ["zone-pair security IN-TO-OUT source INSIDE destination OUTSIDE"], "prompt": "Router(config)#"}, {"type": "type", "q": "Apply policy to zone-pair:", "answer": ["service-policy type inspect IN-TO-OUT"], "prompt": "Router(config-sec-zone-pair)#"}, {"type": "type", "q": "Assign Gi0/0 to INSIDE:", "answer": ["zone-member security INSIDE"], "prompt": "Router(config-if)#"}, {"type": "type", "q": "Assign Gi0/1 to OUTSIDE:", "answer": ["zone-member security OUTSIDE"], "prompt": "Router(config-if)#"}]}]}];
const SCENARIOS=[{"title": "The Dead Interface", "situation": "Engineering VLAN users can't reach anything. Help desk is swamped.", "terminal": "Switch#show ip int br\nInterface     IP-Address    Status                Protocol\nVlan10        192.168.10.1  administratively down down\nGi0/1         unassigned    up                    up", "question": "What's the problem?", "options": ["Bad cable on Gi0/1", "VLAN 10 SVI is shut down - 'no shutdown' needed", "Wrong IP on VLAN 10", "OSPF not configured"], "answer": 1, "explain": "The SVI shows 'administratively down'. Someone shut it down. Fix: interface vlan 10 -> no shutdown."}, {"title": "Trunk Failure", "situation": "VLANs 10/20 work on Switch A but not on Switch B.", "terminal": "SwitchA#show int trunk\nPort  Mode  Encap   Status    Native\nGi0/1 on    802.1q  trunking  1\n\nSwitchB#show int trunk\n(no output)", "question": "Root cause?", "options": ["SwitchB Gi0/1 not configured as trunk", "Native VLAN mismatch", "VLANs don't exist on SwitchB", "STP blocking"], "answer": 0, "explain": "SwitchB shows no trunk. Fix: switchport mode trunk on SwitchB's Gi0/1."}, {"title": "OSPF Neighbors Won't Form", "situation": "RouterA and RouterB are directly connected. OSPF won't peer.", "terminal": "RouterA: OSPF Area 0, Hello 10s, Dead 40s\nRouterB: OSPF Area 1, Hello 10s, Dead 40s\n\nRouterA#show ip ospf neighbor\n(empty)", "question": "Why won't they form adjacency?", "options": ["Same Router IDs", "Different OSPF areas (0 vs 1)", "Hello timer mismatch", "Authentication mismatch"], "answer": 1, "explain": "OSPF neighbors MUST be in the same area on a shared link. Fix: change RouterB to area 0."}, {"title": "NAT Broken", "situation": "Users can't reach the internet. NAT table is empty.", "terminal": "Router#show ip nat statistics\nTotal active translations: 0\nOutside interfaces: Gi0/1\nInside interfaces: (none)\nHits: 0  Misses: 0", "question": "What's wrong?", "options": ["ACL not matching traffic", "No interface marked as 'ip nat inside'", "Missing overload keyword", "Wrong public IP"], "answer": 1, "explain": "Inside interfaces shows (none)! No interface has 'ip nat inside'. NAT needs both inside and outside."}, {"title": "Port Security Lockout", "situation": "User moved desks. New port's LED is amber. No connectivity.", "terminal": "Switch#show port-security int Fa0/5\nPort Status       : Secure-shutdown\nViolation Mode    : Shutdown\nMax MAC Addresses  : 1\nSticky MAC Addresses: 1 (00:1A:2B:3C:4D:5E)\nViolation Count   : 1", "question": "Diagnosis and fix?", "options": ["Bad cable - replace it", "Wrong VLAN assigned", "Port security triggered - new MAC. Clear sticky, bounce port", "STP blocking the port"], "answer": 2, "explain": "New laptop's MAC doesn't match the sticky entry. Fix: clear sticky MAC, shut/no shut the port."}, {"title": "DHCP Not Working", "situation": "New VLAN 30 users get 169.254.x.x addresses. DHCP server is on VLAN 1.", "terminal": "PC> ipconfig\nIP Address: 169.254.12.34\nSubnet: 255.255.0.0\nGateway: (blank)\n\nRouter#show ip int br\nVlan30  192.168.30.1  up  up", "question": "Why no DHCP?", "options": ["VLAN 30 doesn't exist", "Missing ip helper-address on VLAN 30 SVI", "DHCP pool not created", "Wrong subnet mask"], "answer": 1, "explain": "DHCP broadcasts don't cross subnets. Need 'ip helper-address [DHCP-server-IP]' on the VLAN 30 interface."}, {"title": "ACL Blocking Everything", "situation": "After applying an ACL, ALL traffic to the server is blocked. You only wanted to block Telnet.", "terminal": "Router#show access-lists\nExtended IP access list 100\n  10 deny tcp any host 10.0.0.5 eq 23 (42 matches)\n\nRouter#show ip int Gi0/0\n  Outgoing access list is 100", "question": "What went wrong?", "options": ["ACL applied in wrong direction", "Implicit deny-all at end - missing 'permit ip any any'", "Wrong port number", "ACL on wrong interface"], "answer": 1, "explain": "ACL only has a deny rule. The implicit 'deny ip any any' at the end blocks everything else. Need to add 'permit ip any any'."}, {"title": "Duplicate Router IDs", "situation": "OSPF keeps flapping. Two routers are fighting.", "terminal": "RouterA#show ip ospf\n  Router ID: 1.1.1.1\n%OSPF-4-DUP_RTRID: Detected duplicate router-id 1.1.1.1\n\nRouterB#show ip ospf\n  Router ID: 1.1.1.1", "question": "Fix?", "options": ["Change OSPF process number", "Change one router's router-id to be unique", "Reset OSPF timers", "Change area assignments"], "answer": 1, "explain": "Each OSPF router must have a unique router-id. Change one and do 'clear ip ospf process'."}, {"title": "EtherChannel Mismatch", "situation": "Port-channel won't come up between two switches.", "terminal": "SwitchA: Gi0/1-2 mode active (LACP)\nSwitchB: Gi0/1-2 mode desirable (PAgP)\n\nSwitchA#show etherchannel summary\nGroup  Port-channel  Protocol  Ports\n1      Po1(SD)       LACP      Gi0/1(s) Gi0/2(s)", "question": "Why won't the channel form?", "options": ["Speed mismatch", "Protocol mismatch - LACP vs PAgP", "Trunk mismatch", "VLAN mismatch"], "answer": 1, "explain": "LACP and PAgP are incompatible! Both sides must use the same protocol. Change one side."}, {"title": "STP Root Bridge Wrong", "situation": "Your access switch became root bridge. Traffic is taking suboptimal paths.", "terminal": "Switch#show spanning-tree\nRoot ID:  Priority 32769\n          Address  0050.7966.AAAA\n          This bridge is the root\n\nBridge ID: Priority 32769\n           Address  0050.7966.AAAA", "question": "How to fix this properly?", "options": ["Disable STP", "Set the core switch as root with 'spanning-tree vlan 1 root primary'", "Change MAC addresses", "Increase this switch's priority"], "answer": 1, "explain": "Set the proper core switch as root using 'spanning-tree vlan [id] root primary'. This lowers its priority to win the election."}, {"title": "DHCP Starvation", "desc": "Users report no IP addresses. Pool shows exhausted.", "steps": ["Check pool: show ip dhcp pool", "Check bindings: show ip dhcp binding", "Check snooping: show ip dhcp snooping binding", "Find rogue: show mac address-table (unusual MAC count on one port)", "Enable DHCP snooping on access ports", "Limit rate: ip dhcp snooping limit rate 10"], "answer": "Enable DHCP snooping and rate limiting on access ports to prevent starvation attack."}, {"title": "BGP Neighbor Down", "desc": "eBGP peer shows Idle state.", "steps": ["Check: show ip bgp summary (State=Idle)", "Verify connectivity: ping peer IP", "Check ACLs: show access-lists (TCP 179 blocked?)", "Check AS number: show run | section router bgp", "Verify neighbor IP matches peer's interface IP", "Check route to peer: show ip route [peer-ip]"], "answer": "TCP port 179 was blocked by an ACL. Added 'permit tcp host x.x.x.x host y.y.y.y eq 179' to fix."}, {"title": "VPN Tunnel Down", "desc": "IPsec tunnel was working, now Phase 1 shows MM_NO_STATE.", "steps": ["show crypto isakmp sa (MM_NO_STATE)", "show crypto ipsec sa (0 pkts encrypted)", "Check IKE policy match: show crypto isakmp policy", "Check pre-shared key: show run | include isakmp key", "Check interesting traffic ACL: show access-lists", "Test reachability to peer: ping [peer-public-ip]"], "answer": "Pre-shared key was changed on one side. Matching the keys on both routers restored the tunnel."}, {"title": "HSRP Split Brain", "desc": "Both routers think they're Active.", "steps": ["show standby brief (both Active!)", "Check L2 between them: show cdp neighbors", "Check VLAN: show interfaces trunk", "Check HSRP hellos: debug standby", "Verify same group/VIP on both", "Check for ACL blocking HSRP (224.0.0.2)"], "answer": "Trunk between switches was pruning the VLAN, so HSRP hellos couldn't reach the other router. Added VLAN to trunk allowed list."}, {"title": "Asymmetric Routing NAT Failure", "desc": "Internal users can browse some sites but not others. NAT translations show incomplete.", "steps": ["show ip nat translations", "show ip nat statistics (misses?)", "Check routes: traffic leaving one path, returning another?", "Verify ip nat inside/outside on ALL paths", "Check if return traffic hits correct NAT router", "Consider adding 'ip nat inside source route-map' for policy NAT"], "answer": "Return traffic was coming through the backup router which didn't have the NAT translation. Fixed by ensuring symmetric routing or replicating NAT on both paths."}];
const ARENA_Q=[{"q": "What mode does Router> indicate?", "o": ["Privileged EXEC", "User EXEC", "Global Config", "ROM Monitor"], "a": 1}, {"q": "What does 'copy run start' do?", "o": ["Copies startup to running", "Saves running-config to NVRAM", "Starts a copy job", "Copies from TFTP"], "a": 1}, {"q": "SSH uses what port?", "o": ["21", "22", "23", "443"], "a": 1}, {"q": "Telnet uses what port?", "o": ["21", "22", "23", "25"], "a": 2}, {"q": "OSPF 'FULL' state means?", "o": ["Initializing", "Partially synced", "Fully adjacent neighbor", "Loading database"], "a": 2}, {"q": "Wildcard mask for exactly one host?", "o": ["255.255.255.255", "0.0.0.0", "0.0.0.1", "255.255.255.0"], "a": 1}, {"q": "AD of a static route?", "o": ["0", "1", "5", "90"], "a": 1}, {"q": "AD of OSPF?", "o": ["90", "100", "110", "120"], "a": 2}, {"q": "What replaced ARP in IPv6?", "o": ["NDP", "DHCPv6", "ICMPv6 Echo", "SLAAC"], "a": 0}, {"q": "STP prevents what?", "o": ["IP conflicts", "Layer 2 loops/broadcast storms", "Routing loops", "VLAN mismatch"], "a": 1}, {"q": "Default OSPF hello interval (broadcast)?", "o": ["5 sec", "10 sec", "30 sec", "60 sec"], "a": 1}, {"q": "What does 'ip helper-address' do?", "o": ["Assigns helper IP", "Relays DHCP broadcasts to remote server", "Sets default gateway", "Configures DNS"], "a": 1}, {"q": "Max 802.1Q VLANs?", "o": ["256", "1005", "4094", "65535"], "a": 2}, {"q": "Switch operates at what OSI layer?", "o": ["Layer 1", "Layer 2", "Layer 3", "Layer 4"], "a": 1}, {"q": "Router operates at what OSI layer?", "o": ["Layer 1", "Layer 2", "Layer 3", "Layer 4"], "a": 2}, {"q": "/30 subnet gives how many usable hosts?", "o": ["2", "4", "6", "8"], "a": 0}, {"q": "LACP is which standard?", "o": ["Cisco proprietary", "IEEE 802.3ad", "IEEE 802.1Q", "RFC 2328"], "a": 1}, {"q": "PAgP is which standard?", "o": ["IEEE", "Cisco proprietary", "IETF", "Open standard"], "a": 1}, {"q": "HSRP default priority?", "o": ["50", "100", "110", "255"], "a": 1}, {"q": "BPDU Guard does what?", "o": ["Blocks packets", "Err-disables port receiving BPDUs", "Guards root bridge", "Prevents storms"], "a": 1}, {"q": "Erase startup config?", "o": ["delete startup", "write erase", "clear nvram", "format flash"], "a": 1}, {"q": "TACACS+ uses which port?", "o": ["1812", "1645", "49", "389"], "a": 2}, {"q": "DSCP EF is for what traffic?", "o": ["Email", "Voice", "Video", "Web"], "a": 1}, {"q": "NETCONF transport protocol?", "o": ["HTTP", "SSH (port 830)", "HTTPS", "TCP 49"], "a": 1}, {"q": "SNMPv3 advantage over v2c?", "o": ["Faster", "Auth + encryption", "More OIDs", "IPv6 support"], "a": 1}, {"q": "What does '!' mean in ping output?", "o": ["Failure", "Success", "Timeout", "Unreachable"], "a": 1}, {"q": "What does '.' mean in ping output?", "o": ["Success", "Timeout", "DNS fail", "MTU exceeded"], "a": 1}, {"q": "169.254.x.x addresses indicate?", "o": ["VPN", "APIPA - no DHCP", "Multicast", "IPv6 tunnel"], "a": 1}, {"q": "Config-register 0x2142 does what?", "o": ["Factory reset", "Skip startup-config on boot", "Enable password recovery mode", "Boot to ROMMON"], "a": 1}, {"q": "'do' keyword in config mode does what?", "o": ["Undo last command", "Run privileged commands from config", "Delete line", "Enable debug"], "a": 1}, {"q": "Default STP priority?", "o": ["4096", "24576", "32768", "61440"], "a": 2}, {"q": "Which is NOT a private IP range?", "o": ["10.0.0.0/8", "172.32.0.0/12", "192.168.0.0/16", "172.16.0.0/12"], "a": 1}, {"q": "DNS uses which port?", "o": ["25", "53", "67", "80"], "a": 1}, {"q": "DHCP server port?", "o": ["53", "67", "68", "69"], "a": 1}, {"q": "TFTP uses which port?", "o": ["20", "21", "22", "69"], "a": 3}, {"q": "Syslog uses which port?", "o": ["161", "162", "514", "5514"], "a": 2}, {"q": "EIGRP multicast address?", "a": "224.0.0.10", "t": "type"}, {"q": "OSPF multicast DR/BDR?", "a": "224.0.0.6", "t": "type"}, {"q": "OSPF multicast all routers?", "a": "224.0.0.5", "t": "type"}, {"q": "BGP TCP port?", "a": "179", "t": "type"}, {"q": "TACACS+ port?", "a": "49", "t": "type"}, {"q": "RADIUS auth port?", "a": "1812", "t": "type"}, {"q": "NETCONF port?", "a": "830", "t": "type"}, {"q": "CAPWAP data port?", "a": "5247", "t": "type"}, {"q": "NTP port?", "a": "123", "t": "type"}, {"q": "LDAPS port?", "a": "636", "t": "type"}, {"q": "IMAP port?", "a": "143", "t": "type"}, {"q": "POP3 port?", "a": "110", "t": "type"}, {"q": "Default OSPF cost for 100M link (ref BW 100)?", "a": "1", "t": "type"}, {"q": "STP default priority?", "a": "32768", "t": "type"}, {"q": "HSRP default priority?", "a": "100", "t": "type"}, {"q": "GRE overhead in bytes?", "a": "24", "t": "type"}, {"q": "IPsec ESP protocol number?", "a": "50", "t": "type"}, {"q": "IPsec AH protocol number?", "a": "51", "t": "type"}, {"q": "Password recovery register?", "a": "0x2142", "t": "type"}, {"q": "Normal boot register?", "a": "0x2102", "t": "type"}, {"q": "eBGP Administrative Distance?", "a": "20", "t": "type"}, {"q": "iBGP Administrative Distance?", "a": "200", "t": "type"}, {"q": "EIGRP AD (internal)?", "a": "90", "t": "type"}, {"q": "RIP AD?", "a": "120", "t": "type"}, {"q": "Wildcard for /26?", "a": "0.0.0.63", "t": "type"}, {"q": "Wildcard for /28?", "a": "0.0.0.15", "t": "type"}, {"q": "Hosts in /24?", "a": "254", "t": "type"}, {"q": "Hosts in /30?", "a": "2", "t": "type"}, {"q": "Hosts in /27?", "a": "30", "t": "type"}, {"q": "802.11ax = WiFi __?", "a": "6", "t": "type"}, {"q": "Command to save config (shortest)?", "a": "wr", "t": "type"}, {"q": "Enter privileged mode?", "a": "enable", "t": "type"}, {"q": "Enter global config?", "a": "configure terminal", "t": "type"}, {"q": "Enable port-security?", "a": "switchport port-security", "t": "type"}, {"q": "View all VLANs?", "a": "show vlan brief", "t": "type"}, {"q": "View trunk ports?", "a": "show interfaces trunk", "t": "type"}, {"q": "Set trunk mode?", "a": "switchport mode trunk", "t": "type"}, {"q": "View MAC table?", "a": "show mac address-table", "t": "type"}, {"q": "Enable SSH v2?", "a": "ip ssh version 2", "t": "type"}, {"q": "Generate RSA keys?", "a": "crypto key generate rsa modulus 2048", "t": "type"}, {"q": "Enable IPv6?", "a": "ipv6 unicast-routing", "t": "type"}, {"q": "Enable AAA?", "a": "aaa new-model", "t": "type"}, {"q": "Enable DHCP snooping?", "a": "ip dhcp snooping", "t": "type"}, {"q": "Enable PortFast?", "a": "spanning-tree portfast", "t": "type"}, {"q": "Enable BPDU Guard?", "a": "spanning-tree bpduguard enable", "t": "type"}, {"q": "Encrypt passwords?", "a": "service password-encryption", "t": "type"}, {"q": "Erase startup config?", "a": "write erase", "t": "type"}, {"q": "Stop all debugging?", "a": "undebug all", "t": "type"}, {"q": "OSPF: advertise default route?", "a": "default-information originate", "t": "type"}, {"q": "View routing protocols?", "a": "show ip protocols", "t": "type"}, {"q": "SNMP Trap port?", "a": "162", "t": "type"}, {"q": "RADIUS accounting port?", "a": "1813", "t": "type"}, {"q": "802.1Q native VLAN: security concern when?", "a": "When native VLAN matches a user VLAN", "t": "choice"}, {"q": "Max Cat5e speed?", "a": "1 Gbps", "t": "choice"}, {"q": "WiFi 5 standard?", "a": "802.11ac", "t": "choice"}, {"q": "OSPF area 0 is called?", "a": "Backbone", "t": "choice"}, {"q": "PPP or HDLC: which is Cisco default serial?", "a": "HDLC", "t": "choice"}, {"q": "EIGRP: classful by default, fix with?", "a": "no auto-summary", "t": "type"}, {"q": "View flash contents?", "a": "show flash:", "t": "type"}, {"q": "Restore boot register?", "a": "config-register 0x2102", "t": "type"}, {"q": "Mask for /22?", "a": "255.255.252.0", "t": "type"}, {"q": "Mask for /23?", "a": "255.255.254.0", "t": "type"}, {"q": "Wildcard for /22?", "a": "0.0.3.255", "t": "type"}, {"q": "Wildcard for /23?", "a": "0.0.1.255", "t": "type"}, {"q": "Hosts in /26?", "a": "62", "t": "type"}, {"q": "Hosts in /28?", "a": "14", "t": "type"}, {"q": "Hosts in /25?", "a": "126", "t": "type"}, {"q": "Hosts in /29?", "a": "6", "t": "type"}, {"q": "Block size for /26?", "a": "64", "t": "type"}, {"q": "Block size for /28?", "a": "16", "t": "type"}, {"q": "Block size for /27?", "a": "32", "t": "type"}, {"q": "Block size for /29?", "a": "8", "t": "type"}, {"q": "Type: view running-config", "a": "show running-config", "t": "type"}, {"q": "Type: view interface IPs", "a": "show ip interface brief", "t": "type"}, {"q": "Type: enter config mode", "a": "configure terminal", "t": "type"}, {"q": "Type: save config", "a": "copy running-config startup-config", "t": "type"}, {"q": "Type: create VLAN 100", "a": "vlan 100", "t": "type"}, {"q": "Type: set access VLAN 10", "a": "switchport access vlan 10", "t": "type"}, {"q": "Type: set trunk mode", "a": "switchport mode trunk", "t": "type"}, {"q": "Type: assign IP 10.0.0.1/24", "a": "ip address 10.0.0.1 255.255.255.0", "t": "type"}, {"q": "Type: bring interface up", "a": "no shutdown", "t": "type"}, {"q": "Type: set enable secret Cisco", "a": "enable secret Cisco", "t": "type"}, {"q": "Type: view OSPF neighbors", "a": "show ip ospf neighbor", "t": "type"}, {"q": "Type: view BGP summary", "a": "show ip bgp summary", "t": "type"}, {"q": "Type: enable DHCP snooping", "a": "ip dhcp snooping", "t": "type"}, {"q": "Type: default route via 10.0.0.1", "a": "ip route 0.0.0.0 0.0.0.0 10.0.0.1", "t": "type"}, {"q": "Type: OSPF process 1", "a": "router ospf 1", "t": "type"}, {"q": "Type: EIGRP AS 100", "a": "router eigrp 100", "t": "type"}, {"q": "Type: enable port security", "a": "switchport port-security", "t": "type"}, {"q": "Type: sticky MAC learning", "a": "switchport port-security mac-address sticky", "t": "type"}, {"q": "Type: view spanning-tree", "a": "show spanning-tree", "t": "type"}, {"q": "Type: enable rapid PVST", "a": "spanning-tree mode rapid-pvst", "t": "type"}, {"q": "Type: view NAT translations", "a": "show ip nat translations", "t": "type"}, {"q": "Type: mark interface NAT inside", "a": "ip nat inside", "t": "type"}, {"q": "Type: set NTP server", "a": "ntp server 10.0.0.1", "t": "type"}, {"q": "Type: send logs to server", "a": "logging 10.0.0.50", "t": "type"}, {"q": "Type: view EIGRP topology", "a": "show ip eigrp topology", "t": "type"}, {"q": "Type: check VTP status", "a": "show vtp status", "t": "type"}, {"q": "SMTP port?", "a": "25", "t": "type"}, {"q": "POP3S port?", "a": "995", "t": "type"}, {"q": "IMAPS port?", "a": "993", "t": "type"}, {"q": "HTTP alt port?", "a": "8080", "t": "type"}, {"q": "MySQL port?", "a": "3306", "t": "type"}, {"q": "MSSQL port?", "a": "1433", "t": "type"}, {"q": "GRE protocol number?", "a": "47", "t": "type"}, {"q": "OSPF protocol number?", "a": "89", "t": "type"}, {"q": "Type: view ARP cache", "a": "show ip arp", "t": "type"}, {"q": "Type: view MAC table", "a": "show mac address-table", "t": "type"}, {"q": "Type: clear ARP cache", "a": "clear ip arp", "t": "type"}, {"q": "Type: set domain name", "a": "ip domain-name corp.local", "t": "type"}, {"q": "Type: generate RSA 2048", "a": "crypto key generate rsa modulus 2048", "t": "type"}, {"q": "Type: SSH only on VTY", "a": "transport input ssh", "t": "type"}, {"q": "Type: login local", "a": "login local", "t": "type"}, {"q": "Type: logging synchronous", "a": "logging synchronous", "t": "type"}, {"q": "Type: encrypt passwords", "a": "service password-encryption", "t": "type"}, {"q": "Type: verify SSH status", "a": "show ip ssh", "t": "type"}, {"q": "Type: DHCP pool MYPOOL", "a": "ip dhcp pool MYPOOL", "t": "type"}, {"q": "Type: DHCP default-router", "a": "default-router 192.168.1.1", "t": "type"}, {"q": "Type: DHCP DNS server", "a": "dns-server 8.8.8.8", "t": "type"}, {"q": "Type: helper-address", "a": "ip helper-address 10.0.0.50", "t": "type"}, {"q": "Type: view DHCP bindings", "a": "show ip dhcp binding", "t": "type"}, {"q": "Type: EtherChannel summary", "a": "show etherchannel summary", "t": "type"}, {"q": "Type: LACP active group 1", "a": "channel-group 1 mode active", "t": "type"}, {"q": "Type: disable DTP", "a": "switchport nonegotiate", "t": "type"}, {"q": "Type: encap dot1q 10", "a": "encapsulation dot1q 10", "t": "type"}, {"q": "Type: OSPF passive interface", "a": "passive-interface default", "t": "type"}, {"q": "Type: OSPF ref bandwidth", "a": "auto-cost reference-bandwidth 10000", "t": "type"}, {"q": "Type: EIGRP no auto-summary", "a": "no auto-summary", "t": "type"}, {"q": "Type: BGP neighbor command", "a": "neighbor 10.0.0.2 remote-as 65002", "t": "type"}, {"q": "Type: BGP network advertise", "a": "network 192.168.1.0 mask 255.255.255.0", "t": "type"}, {"q": "Type: check CPU", "a": "show processes cpu", "t": "type"}, {"q": "Type: check memory", "a": "show processes memory", "t": "type"}, {"q": "Type: view flash", "a": "show flash:", "t": "type"}, {"q": "Type: backup to TFTP", "a": "copy running-config tftp:", "t": "type"}, {"q": "Type: download from TFTP", "a": "copy tftp: flash:", "t": "type"}, {"q": "Type: ISAKMP Phase 1 check", "a": "show crypto isakmp sa", "t": "type"}, {"q": "Type: IPsec Phase 2 check", "a": "show crypto ipsec sa", "t": "type"}, {"q": "Type: zone security INSIDE", "a": "zone security INSIDE", "t": "type"}, {"q": "Type: zone member", "a": "zone-member security INSIDE", "t": "type"}, {"q": "Type: 802.1X enable", "a": "dot1x system-auth-control", "t": "type"}, {"q": "Type: NETCONF enable", "a": "netconf-yang", "t": "type"}, {"q": "Type: RESTCONF enable", "a": "restconf", "t": "type"}, {"q": "Type: IP SLA check", "a": "show ip sla statistics", "t": "type"}, {"q": "Type: SNMP community RO", "a": "snmp-server community PUBLIC ro", "t": "type"}, {"q": "Type: storm-control", "a": "storm-control broadcast level 20", "t": "type"}, {"q": "Type: reload device", "a": "reload", "t": "type"}, {"q": "Type: erase config", "a": "write erase", "t": "type"}, {"q": "Type: err-disable recovery", "a": "errdisable recovery cause psecure-violation", "t": "type"}, {"q": "Type: HSRP virtual IP", "a": "standby 1 ip 192.168.1.1", "t": "type"}, {"q": "Type: HSRP preempt", "a": "standby 1 preempt", "t": "type"}, {"q": "Type: tunnel destination", "a": "tunnel destination 203.0.113.5", "t": "type"}, {"q": "Type: create Loopback0", "a": "interface Loopback0", "t": "type"}, {"q": "Type: filter show run", "a": "show run | include interface", "t": "type"}, {"q": "Type: ping from source", "a": "ping 10.0.0.1 source Loopback0", "t": "type"}, {"q": "Type: traceroute", "a": "traceroute 172.16.1.1", "t": "type"}, {"q": "Type: debug OSPF", "a": "debug ip ospf hello", "t": "type"}, {"q": "Type: stop debugging", "a": "undebug all", "t": "type"}, {"q": "OSPF multicast ALL routers?", "a": "224.0.0.5", "t": "type"}, {"q": "OSPF multicast DR/BDR?", "a": "224.0.0.6", "t": "type"}, {"q": "PoE++ (802.3bt) max watts?", "a": "100", "t": "type"}, {"q": "SSH default key size?", "a": "1024", "t": "type"}, {"q": "Type: show CDP detail", "a": "show cdp neighbors detail", "t": "type"}, {"q": "Type: enable LLDP", "a": "lldp run", "t": "type"}, {"q": "Type: disable CDP per-port", "a": "no cdp enable", "t": "type"}, {"q": "Type: view LLDP neighbors", "a": "show lldp neighbors", "t": "type"}, {"q": "Type: NAT clear all", "a": "clear ip nat translation *", "t": "type"}, {"q": "Type: show NAT stats", "a": "show ip nat statistics", "t": "type"}, {"q": "Type: ACL view", "a": "show access-lists", "t": "type"}, {"q": "Type: deny host 10.0.0.5", "a": "access-list 10 deny host 10.0.0.5", "t": "type"}, {"q": "Type: permit any", "a": "access-list 10 permit any", "t": "type"}, {"q": "Type: apply ACL inbound", "a": "ip access-group 10 in", "t": "type"}, {"q": "Type: named ACL extended", "a": "ip access-list extended MYACL", "t": "type"}, {"q": "Type: deny telnet all", "a": "deny tcp any any eq 23", "t": "type"}, {"q": "Type: permit IP any any", "a": "permit ip any any", "t": "type"}, {"q": "Type: set clock timezone", "a": "clock timezone EST -5", "t": "type"}, {"q": "Type: view err-disabled", "a": "show interfaces status err-disabled", "t": "type"}, {"q": "Type: view DHCP snooping", "a": "show ip dhcp snooping binding", "t": "type"}, {"q": "Type: DAI enable VLAN 10", "a": "ip arp inspection vlan 10", "t": "type"}, {"q": "Type: rate limit DHCP", "a": "ip dhcp snooping limit rate 15", "t": "type"}, {"q": "Type: exclude DHCP range", "a": "ip dhcp excluded-address 192.168.1.1 192.168.1.10", "t": "type"}, {"q": "Type: view DHCP conflicts", "a": "show ip dhcp conflict", "t": "type"}, {"q": "Type: trunk allowed add", "a": "switchport trunk allowed vlan add 30", "t": "type"}, {"q": "Type: show VTP status", "a": "show vtp status", "t": "type"}, {"q": "Type: VTP transparent", "a": "vtp mode transparent", "t": "type"}, {"q": "Type: show int trunk", "a": "show interfaces trunk", "t": "type"}, {"q": "Type: shut interface", "a": "shutdown", "t": "type"}, {"q": "Type: delete VLAN 50", "a": "no vlan 50", "t": "type"}, {"q": "Type: view routing table", "a": "show ip route", "t": "type"}, {"q": "Type: show connected routes", "a": "show ip route connected", "t": "type"}, {"q": "Type: show OSPF routes", "a": "show ip route ospf", "t": "type"}, {"q": "Type: show static routes", "a": "show ip route static", "t": "type"}, {"q": "Type: view EIGRP routes", "a": "show ip route eigrp", "t": "type"}, {"q": "Type: exec timeout 5", "a": "exec-timeout 5 0", "t": "type"}, {"q": "LDAP port?", "a": "389", "t": "type"}, {"q": "RADIUS auth port?", "a": "1812", "t": "type"}, {"q": "SNMP trap port?", "a": "162", "t": "type"}, {"q": "Syslog port?", "a": "514", "t": "type"}];
const CMD_REF=[{"c": "enable", "d": "Enter Privileged EXEC mode", "t": "Navigation"}, {"c": "configure terminal", "d": "Enter Global Configuration", "t": "Navigation"}, {"c": "exit", "d": "Back one mode level", "t": "Navigation"}, {"c": "end", "d": "Return to Privileged EXEC", "t": "Navigation"}, {"c": "hostname [name]", "d": "Set device hostname", "t": "Setup"}, {"c": "banner motd [delim]", "d": "Set MOTD banner", "t": "Setup"}, {"c": "enable secret [pass]", "d": "Encrypted enable password (MD5)", "t": "Security"}, {"c": "service password-encryption", "d": "Encrypt plaintext passwords", "t": "Security"}, {"c": "username [name] secret [pass]", "d": "Create local user", "t": "Security"}, {"c": "transport input ssh", "d": "SSH-only on VTY lines", "t": "Security"}, {"c": "crypto key generate rsa", "d": "Generate RSA keys for SSH", "t": "Security"}, {"c": "ip ssh version 2", "d": "Force SSH v2", "t": "Security"}, {"c": "logging synchronous", "d": "Prevent log message interruptions", "t": "Setup"}, {"c": "exec-timeout [min] [sec]", "d": "Set inactivity timeout", "t": "Setup"}, {"c": "show running-config", "d": "Active configuration", "t": "Show"}, {"c": "show startup-config", "d": "Saved configuration", "t": "Show"}, {"c": "copy running-config startup-config", "d": "Save config to NVRAM", "t": "FileMgmt"}, {"c": "write memory / wr", "d": "Save config (shorthand)", "t": "FileMgmt"}, {"c": "write erase", "d": "Erase startup config", "t": "FileMgmt"}, {"c": "copy tftp: flash:", "d": "Download IOS from TFTP", "t": "FileMgmt"}, {"c": "interface [type] [num]", "d": "Enter interface config", "t": "Interfaces"}, {"c": "ip address [ip] [mask]", "d": "Assign IPv4 address", "t": "Interfaces"}, {"c": "no shutdown", "d": "Enable interface", "t": "Interfaces"}, {"c": "description [text]", "d": "Interface description", "t": "Interfaces"}, {"c": "show ip interface brief", "d": "All interfaces overview", "t": "Show"}, {"c": "show interfaces", "d": "Detailed interface stats", "t": "Show"}, {"c": "show interfaces status", "d": "Port status/speed/VLAN", "t": "Show"}, {"c": "vlan [id]", "d": "Create VLAN", "t": "VLANs"}, {"c": "switchport mode access", "d": "Set as access port", "t": "VLANs"}, {"c": "switchport access vlan [id]", "d": "Assign port to VLAN", "t": "VLANs"}, {"c": "switchport mode trunk", "d": "Set as trunk port", "t": "VLANs"}, {"c": "switchport trunk allowed vlan", "d": "Restrict VLANs on trunk", "t": "VLANs"}, {"c": "show vlan brief", "d": "VLAN assignments", "t": "Show"}, {"c": "show interfaces trunk", "d": "Trunk status", "t": "Show"}, {"c": "encapsulation dot1q [vlan]", "d": "802.1Q on sub-interface", "t": "VLANs"}, {"c": "ip route [net] [mask] [hop]", "d": "Static route", "t": "Routing"}, {"c": "show ip route", "d": "Routing table", "t": "Show"}, {"c": "router ospf [id]", "d": "Start OSPF process", "t": "OSPF"}, {"c": "network [ip] [wc] area [id]", "d": "OSPF network statement", "t": "OSPF"}, {"c": "passive-interface [int]", "d": "Suppress OSPF hellos", "t": "OSPF"}, {"c": "show ip ospf neighbor", "d": "OSPF neighbor table", "t": "Show"}, {"c": "access-list [n] permit/deny", "d": "Create numbered ACL", "t": "ACLs"}, {"c": "ip access-list extended [name]", "d": "Create named ACL", "t": "ACLs"}, {"c": "ip access-group [acl] in|out", "d": "Apply ACL to interface", "t": "ACLs"}, {"c": "show access-lists", "d": "All ACLs + hit counts", "t": "Show"}, {"c": "ip nat inside / outside", "d": "NAT interface direction", "t": "NAT"}, {"c": "ip nat inside source list ... overload", "d": "Configure PAT", "t": "NAT"}, {"c": "show ip nat translations", "d": "NAT table", "t": "Show"}, {"c": "switchport port-security", "d": "Enable port security", "t": "Security"}, {"c": "switchport port-security mac-address sticky", "d": "Auto-learn MACs", "t": "Security"}, {"c": "spanning-tree portfast", "d": "Skip STP on access port", "t": "STP"}, {"c": "spanning-tree bpduguard enable", "d": "Err-disable on BPDU", "t": "STP"}, {"c": "spanning-tree vlan [id] root primary", "d": "Force root bridge", "t": "STP"}, {"c": "show spanning-tree", "d": "STP status", "t": "Show"}, {"c": "channel-group [n] mode active", "d": "LACP EtherChannel", "t": "EtherChannel"}, {"c": "show etherchannel summary", "d": "Port-channel status", "t": "Show"}, {"c": "ip dhcp pool [name]", "d": "Create DHCP pool", "t": "Services"}, {"c": "ip dhcp excluded-address", "d": "Exclude DHCP range", "t": "Services"}, {"c": "ip helper-address [ip]", "d": "DHCP relay", "t": "Services"}, {"c": "show ip dhcp binding", "d": "DHCP leases", "t": "Show"}, {"c": "ntp server [ip]", "d": "Set NTP server", "t": "Services"}, {"c": "logging [ip]", "d": "Set syslog server", "t": "Services"}, {"c": "show cdp neighbors", "d": "Cisco neighbor discovery", "t": "Show"}, {"c": "show version", "d": "IOS/uptime/hardware", "t": "Show"}, {"c": "show ip arp", "d": "ARP cache", "t": "Show"}, {"c": "show mac address-table", "d": "MAC-to-port map", "t": "Show"}, {"c": "ping [ip]", "d": "ICMP connectivity test", "t": "Troubleshoot"}, {"c": "traceroute [ip]", "d": "Trace path to dest", "t": "Troubleshoot"}, {"c": "debug [feature]", "d": "Real-time debug (caution!)", "t": "Troubleshoot"}, {"c": "undebug all", "d": "Stop all debugging", "t": "Troubleshoot"}, {"c": "show processes cpu", "d": "CPU utilization", "t": "Show"}, {"c": "ipv6 unicast-routing", "d": "Enable IPv6 forwarding", "t": "IPv6"}, {"c": "ipv6 address [addr]/[prefix]", "d": "Assign IPv6 address", "t": "IPv6"}, {"c": "show ipv6 interface brief", "d": "IPv6 interface summary", "t": "Show"}, {"c": "standby [grp] ip [vip]", "d": "HSRP virtual IP", "t": "FHRP"}, {"c": "show standby brief", "d": "HSRP status", "t": "Show"}, {"c": "snmp-server community [str] ro|rw", "d": "SNMP community", "t": "Monitoring"}, {"c": "aaa new-model", "d": "Enable AAA", "t": "Security"}, {"c": "service-policy output [name]", "d": "Apply QoS policy", "t": "QoS"}, {"cmd": "router eigrp [as]", "desc": "Enter EIGRP config", "mode": "config"}, {"cmd": "variance [multiplier]", "desc": "Enable unequal-cost load balancing (EIGRP)", "mode": "config-router"}, {"cmd": "show ip eigrp neighbors", "desc": "EIGRP neighbor table", "mode": "exec"}, {"cmd": "show ip eigrp topology", "desc": "EIGRP topology table", "mode": "exec"}, {"cmd": "show ip bgp summary", "desc": "BGP neighbor summary", "mode": "exec"}, {"cmd": "show ip bgp", "desc": "BGP routing table", "mode": "exec"}, {"cmd": "router bgp [as]", "desc": "Enter BGP config", "mode": "config"}, {"cmd": "neighbor [ip] remote-as [as]", "desc": "Configure BGP neighbor", "mode": "config-router"}, {"cmd": "zone security [name]", "desc": "Create security zone", "mode": "config"}, {"cmd": "zone-member security [name]", "desc": "Assign interface to zone", "mode": "config-if"}, {"cmd": "crypto isakmp policy [num]", "desc": "Configure IKE Phase 1", "mode": "config"}, {"cmd": "crypto map [name] [seq] ipsec-isakmp", "desc": "Create crypto map", "mode": "config"}, {"cmd": "show crypto isakmp sa", "desc": "IPsec Phase 1 status", "mode": "exec"}, {"cmd": "show crypto ipsec sa", "desc": "IPsec Phase 2 status", "mode": "exec"}, {"cmd": "ip sla [num]", "desc": "Create IP SLA probe", "mode": "config"}, {"cmd": "track [num] ip sla [sla] reachability", "desc": "Track SLA for failover", "mode": "config"}, {"cmd": "dot1x system-auth-control", "desc": "Enable 802.1X globally", "mode": "config"}, {"cmd": "authentication port-control auto", "desc": "Enable 802.1X on port", "mode": "config-if"}, {"cmd": "storm-control broadcast level [pct]", "desc": "Limit broadcast storms", "mode": "config-if"}, {"cmd": "redistribute [protocol] subnets", "desc": "Redistribute routes into OSPF", "mode": "config-router"}, {"cmd": "show authentication sessions", "desc": "View 802.1X auth sessions", "mode": "exec"}, {"cmd": "show ip sla statistics", "desc": "View SLA probe results", "mode": "exec"}];

const ACHV=[
{id:"fl",n:"First Steps",d:"Complete your first lesson",i:"\u{1F476}",ck:s=>s.lc>=1},
{id:"f5",n:"Getting Serious",d:"Complete 5 lessons",i:"\u{1F4DA}",ck:s=>s.lc>=5},
{id:"f10",n:"Dedicated Student",d:"Complete 10 lessons",i:"\u{1F393}",ck:s=>s.lc>=10},
{id:"s5",n:"On Fire",d:"5-answer streak",i:"\u{1F525}",ck:s=>s.bs>=5},
{id:"s10",n:"Unstoppable",d:"10-answer streak",i:"\u26A1",ck:s=>s.bs>=10},
{id:"s20",n:"Legendary",d:"20-answer streak",i:"\u{1F48E}",ck:s=>s.bs>=20},
{id:"a10",n:"Arena Warrior",d:"10 arena correct",i:"\u2694\uFE0F",ck:s=>s.ac>=10},
{id:"a50",n:"Arena Champion",d:"50 arena correct",i:"\u{1F3C5}",ck:s=>s.ac>=50},
{id:"t1",n:"Bug Hunter",d:"Solve a troubleshooting scenario",i:"\u{1F50D}",ck:s=>s.ss>=1},
{id:"ta",n:"Master Debugger",d:"Solve all scenarios",i:"\u{1F527}",ck:s=>s.ss>=5},
{id:"l5",n:"Rising Star",d:"Reach Level 5",i:"\u2B50",ck:s=>s.lv>=5},
{id:"l10",n:"Seasoned Pro",d:"Reach Level 10",i:"\u{1F31F}",ck:s=>s.lv>=10},
{id:"l20",n:"Network Sage",d:"Reach Level 20",i:"\u{1F9D9}",ck:s=>s.lv>=20},
{id:"pf",n:"Perfectionist",d:"100% on any quiz",i:"\u{1F4AF}",ck:s=>s.pq>=1}
];
const RANKS=[{l:1,n:"Cable Monkey",i:"\u{1F412}"},{l:3,n:"Packet Pusher",i:"\u{1F4E6}"},{l:5,n:"Wire Puller",i:"\u{1F50C}"},{l:8,n:"Port Sailor",i:"\u2693"},{l:11,n:"VLAN Viking",i:"\u{1F6E1}\uFE0F"},{l:14,n:"Subnet Soldier",i:"\u{1F396}\uFE0F"},{l:18,n:"Route Commander",i:"\u{1F9ED}"},{l:22,n:"Protocol Captain",i:"\u{1F468}\u200D\u2708\uFE0F"},{l:27,n:"ACL Enforcer",i:"\u{1F6A7}"},{l:32,n:"Firewall Marshal",i:"\u{1F525}"},{l:37,n:"Tunnel Master",i:"\u{1F6A7}"},{l:42,n:"Network Admiral",i:"\u2B50"},{l:48,n:"Cisco Overlord",i:"\u{1F451}"},{l:55,n:"CCIE Grandmaster",i:"\u{1F48E}"},{l:65,n:"Legendary Architect",i:"\u{1F3DB}\uFE0F"}];

function $(id){return document.getElementById(id)}
function getRank(l){let r=RANKS[0];for(const x of RANKS)if(l>=x.l)r=x;return r}
function xpFor(l){return Math.floor(80*Math.pow(1.18,l-1))}
function getTL(){let t=0;MODULES.forEach(m=>t+=m.lessons.length);return t}

const SK="cisco_cli_v3";
let S={started:false,lv:1,xp:0,str:0,bs:0,lc:0,ac:0,at:0,ss:0,pq:0,tc:0,ta:0,mp:{},ld:{},sd:{},cm:{},av:[]};
let qS={},aS={},tS={in:false,idx:0,ans:false};

function load(){try{const d=localStorage.getItem(SK);if(d){Object.assign(S,JSON.parse(d));return true}}catch(e){}return false}
function save(){try{localStorage.setItem(SK,JSON.stringify(S))}catch(e){}}

function addXP(a,x,y){
  S.xp+=a;
  if(x!==undefined){const e=document.createElement("div");e.className="xp-float";e.textContent="+"+a+" XP";e.style.left=x+"px";e.style.top=y+"px";document.body.appendChild(e);setTimeout(()=>e.remove(),1500)}
  while(S.xp>=xpFor(S.lv)){S.xp-=xpFor(S.lv);S.lv++;showLU()}
  updateTB();save();
}
function showLU(){
  const r=getRank(S.lv),pr=getRank(S.lv-1);
  let h=`<p style="font-size:18px;margin:8px 0">Level <span style="color:var(--cy);font-family:Orbitron;font-weight:700">${S.lv}</span></p>`;
  if(r.n!==pr.n)h+=`<div style="color:var(--gd);font-family:Orbitron;font-size:16px;margin:8px 0">${r.i} ${r.n.toUpperCase()}</div>`;
  $("lmc").innerHTML=h;$("lm").classList.remove("hidden");
}
function checkAch(){ACHV.forEach(a=>{if(!S.av.includes(a.id)&&a.ck(S)){S.av.push(a.id);showAT(a)}});save()}
function showAT(a){
  const t=document.createElement("div");
  t.style.cssText="position:fixed;bottom:24px;right:24px;background:var(--bg2);border:1px solid var(--gd);border-radius:12px;padding:16px 24px;display:flex;align-items:center;gap:12px;z-index:600;animation:slideUp .4s;box-shadow:0 8px 32px rgba(255,193,7,.2)";
  t.innerHTML=`<span style="font-size:32px">${a.i}</span><div><div style="font-size:10px;color:var(--gd);text-transform:uppercase;letter-spacing:2px;font-family:Orbitron">Achievement Unlocked!</div><div style="font-size:15px;font-weight:600;margin-top:4px">${a.n}</div><div style="font-size:12px;color:var(--txd)">${a.d}</div></div>`;
  document.body.appendChild(t);setTimeout(()=>{t.style.opacity="0";t.style.transition="opacity .5s";setTimeout(()=>t.remove(),500)},4000);
}
function updateTB(){
  const r=getRank(S.lv);$("rb").textContent=r.i+" "+r.n.toUpperCase();$("ld").textContent=S.lv;$("xd").textContent=S.xp;
  const n=xpFor(S.lv);$("xn").textContent=n;$("xb").style.width=(S.xp/n*100)+"%";
  $("sd").textContent=S.str+(S.str>=3?"\u{1F525}":"");$("md").textContent=Object.values(S.cm||{}).filter(v=>v>=3).length;
}

function showScreen(name){
  document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));
  document.querySelectorAll(".nav-tab").forEach(t=>t.classList.remove("active"));
  const sc=$("s-"+name);if(sc)sc.classList.add("active");
  const tb=document.querySelector(`.nav-tab[data-screen="${name}"]`);if(tb)tb.classList.add("active");
  ({dashboard:renderDash,campaign:renderCamp,arena:renderArena,troubleshoot:renderTS,reference:renderRef,achievements:renderAchiev,settings:renderSet})[name]?.();
}

function renderDash(){
  const tl=getTL(),pct=tl>0?Math.round(S.lc/tl*100):0,acc=S.ta>0?Math.round(S.tc/S.ta*100):0,r=getRank(S.lv),mas=Object.values(S.cm||{}).filter(v=>v>=3).length;
  let nm=null;for(const m of MODULES){if((S.mp[m.id]||0)<m.lessons.length){nm=m;break}}
  $("s-dashboard").innerHTML=`<div class="dg"><div class="dc"><h3>Campaign</h3><div class="bn" style="color:var(--cy)">${pct}%</div><div class="st">${S.lc}/${tl} lessons</div><div style="margin-top:12px;height:8px;background:var(--bg);border-radius:4px;overflow:hidden"><div style="height:100%;width:${pct}%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:4px"></div></div></div><div class="dc"><h3>Rank</h3><div class="bn" style="color:var(--gd)">${r.i}</div><div class="st">${r.n} \u2014 Lv.${S.lv}</div></div><div class="dc"><h3>Accuracy</h3><div class="bn" style="color:${acc>=70?'var(--gn)':acc>=40?'var(--or)':'var(--rd)'}">${acc}%</div><div class="st">${S.tc}/${S.ta} correct</div></div><div class="dc"><h3>Best Streak</h3><div class="bn" style="color:var(--or)">${S.bs}\u{1F525}</div><div class="st">Current: ${S.str}</div></div><div class="dc"><h3>Commands</h3><div class="bn" style="color:var(--pu)">${mas}</div><div class="st">of ${CMD_REF.length} mastered</div></div><div class="dc"><h3>Achievements</h3><div class="bn" style="color:var(--gd)">${S.av.length}</div><div class="st">of ${ACHV.length} unlocked</div></div>${nm?`<div class="dc fw" style="border-color:var(--cy2);cursor:pointer" onclick="showScreen('campaign')"><h3>Continue Training</h3><div style="display:flex;align-items:center;gap:16px"><span style="font-size:36px">${nm.icon}</span><div><div style="font-size:18px;font-weight:600">${nm.title}</div><div class="st">${nm.desc}</div></div><button class="btn bp" style="margin-left:auto">Resume \u2192</button></div></div>`:`<div class="dc fw" style="border-color:var(--gn)"><h3 style="color:var(--gn)">\u{1F3C6} Campaign Complete!</h3><div class="st">Keep practicing in Arena and Troubleshooting.</div></div>`}</div>`;
}

function renderCamp(){
  let h='<h2 style="font-family:Orbitron;font-size:22px;margin-bottom:20px">\u{1F4E1} Training Campaign</h2><div style="display:flex;gap:8px;margin-bottom:16px;flex-wrap:wrap"><span style="background:rgba(0,229,255,.15);color:var(--cy);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">BEGINNER</span><span style="background:rgba(0,255,136,.15);color:var(--gn);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">INTERMEDIATE</span><span style="background:rgba(255,145,0,.15);color:var(--or);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">ADVANCED</span><span style="background:rgba(255,61,61,.15);color:var(--rd);padding:4px 12px;border-radius:4px;font-size:11px;font-family:Orbitron">ADMIN</span></div>';
  MODULES.forEach((m,i)=>{const p=S.mp[m.id]||0,t=m.lessons.length,done=p>=t,prev=i===0||(S.mp[MODULES[i-1].id]||0)>=MODULES[i-1].lessons.length,locked=!prev&&!done&&p===0,cur=prev&&!done,cls=done?"completed":cur?"current":locked?"locked":"";
  const tier=m.tier||"Beginner";const tc={"Beginner":"var(--cy)","Intermediate":"var(--gn)","Advanced":"var(--or)","Admin":"var(--rd)"}[tier]||"var(--cy)";
  h+=`<div class="mc ${cls}" style="border-right:3px solid ${tc}" onclick="${locked?'':`startMod('${m.id}')`}"><div class="mn">${done?'\u2713':i+1}</div><div style="flex:1"><div style="font-family:Orbitron;font-size:15px;font-weight:600">${m.icon} ${m.title}</div><div style="font-size:13px;color:var(--txd)">${m.desc}</div></div><div style="width:120px;height:6px;background:var(--bg);border-radius:3px;overflow:hidden"><div style="height:100%;width:${p/t*100}%;background:linear-gradient(90deg,var(--cy),var(--gn));border-radius:3px"></div></div><span style="font-family:'JetBrains Mono';font-size:12px;color:var(--txd);min-width:40px;text-align:right">${p}/${t}</span></div>`});
  $("s-campaign").innerHTML=h;
}

function startMod(id){const m=MODULES.find(x=>x.id===id);if(!m)return;startLesson(id,Math.min(S.mp[id]||0,m.lessons.length-1))}

function startLesson(mid,li){qS={mid,li,phase:"learn",qi:0,cor:0,tot:0,ans:false};renderLesson();document.querySelectorAll(".screen").forEach(s=>s.classList.remove("active"));$("s-lesson").classList.add("active")}

function renderLesson(){
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],sc=$("s-lesson");
  if(qS.phase==="learn"){sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="asu"><div class="lh"><div style="display:flex;align-items:center;gap:12px"><button class="btn bsm bs" onclick="showScreen('campaign')">\u2190 Back</button><div><h2>${m.icon} ${l.title}</h2><div style="font-size:13px;color:var(--txd)">${m.title} \u2014 Lesson ${qS.li+1}/${m.lessons.length}</div></div></div></div><div class="lcnt">${l.content}</div><div style="display:flex;justify-content:space-between;margin-top:20px">${qS.li>0?`<button class="btn bs" onclick="startLesson('${qS.mid}',${qS.li-1})">\u2190 Prev</button>`:'<div></div>'}<button class="btn bp blg" onclick="startQuiz()">\u26A1 Test Knowledge \u2192</button></div></div>`}
  else if(qS.phase==="quiz"){renderQQ()}else{renderLC()}
}
function startQuiz(){qS.phase="quiz";qS.qi=0;qS.cor=0;qS.tot=0;qS.ans=false;renderQQ()}

function renderQQ(){
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],q=l.questions[qS.qi],sc=$("s-lesson");
  if(!q){compQuiz();return}const K=["A","B","C","D"];let inp;
  if(q.type==="type"){inp=`<div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-top:16px"><p style="margin-bottom:12px">${q.q}</p><div class="tiw"><span class="tip">${q.prompt||'Router#'}</span><input type="text" class="tii" id="ta" placeholder="Type command..." autofocus onkeydown="if(event.key==='Enter')chkType()"></div><div id="tf" style="margin-top:12px"></div><button class="btn bp" style="margin-top:12px" onclick="chkType()" id="tsb">Submit</button></div>`}
  else{inp=`<div class="qo" id="qo">${q.options.map((o,i)=>`<div class="qopt" onclick="chkAns(${i},event)" data-idx="${i}"><div class="ok">${K[i]}</div><div>${o}</div></div>`).join('')}</div><div id="qf" style="margin-top:16px"></div>`}
  sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="afi"><div class="lh"><div style="display:flex;justify-content:space-between;align-items:center"><h2>\u{1F4DD} Knowledge Check</h2><div style="font-family:Orbitron;font-size:14px;padding:6px 16px;border-radius:20px;background:var(--bg3);border:1px solid var(--or);color:var(--or);${S.str>=5?'animation:streakFire 1s infinite':''}">${S.str}\u{1F525}</div></div><div style="display:flex;align-items:center;gap:12px;margin-top:12px"><div class="lpb"><div class="lpf" style="width:${qS.qi/l.questions.length*100}%"></div></div><span style="font-family:'JetBrains Mono';font-size:12px;color:var(--txd)">${qS.qi+1}/${l.questions.length}</span></div></div><div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:32px;margin-bottom:20px;text-align:center"><div style="font-size:11px;color:var(--pu);text-transform:uppercase;letter-spacing:2px;margin-bottom:16px;font-family:'JetBrains Mono'">${q.type==='type'?'\u2328\uFE0F TYPE-IN':'\u{1F3AF} MULTIPLE CHOICE'}</div><div style="font-size:17px;line-height:1.6">${q.q}</div></div>${inp}</div>`;
  if(q.type==="type")setTimeout(()=>$("ta")?.focus(),100);
}

function fb(cor,exp){return `<div style="padding:16px;background:${cor?'rgba(0,255,136,.1)':'rgba(255,61,61,.1)'};border-radius:8px;border:1px solid ${cor?'var(--gn)':'var(--rd)'}"><strong style="color:${cor?'var(--gn)':'var(--rd)'}">${cor?'\u2705 Correct!':'\u274C Not quite.'}</strong><p style="margin-top:8px;font-size:14px;color:var(--txd)">${exp||''}</p></div><button class="btn bp" style="margin-top:12px" onclick="nextQ()">Continue \u2192</button>`}

function chkAns(idx,ev){
  if(qS.ans)return;qS.ans=true;qS.tot++;S.ta++;
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],q=l.questions[qS.qi],cor=idx===q.answer;
  document.querySelectorAll(".qopt").forEach((o,i)=>{o.classList.add("disabled");if(i===q.answer)o.classList.add("correct");if(i===idx&&!cor)o.classList.add("wrong")});
  if(cor){qS.cor++;S.tc++;S.str++;if(S.str>S.bs)S.bs=S.str;const r=ev?.target?.getBoundingClientRect();addXP(15+Math.min(S.str*2,20),r?.x||400,r?.y||300)}else{S.str=0}
  $("qf").innerHTML=fb(cor,q.explain);updateTB();checkAch();
}

function chkType(){
  if(qS.ans)return;const inp=$("ta"),uv=inp.value.trim().toLowerCase();if(!uv)return;
  qS.ans=true;qS.tot++;S.ta++;
  const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li],q=l.questions[qS.qi];
  const ans=q.answer.map(a=>a.toLowerCase().trim()),cor=ans.some(a=>uv===a||uv.replace(/\s+/g,' ')===a.replace(/\s+/g,' '));
  if(cor){qS.cor++;S.tc++;S.str++;if(S.str>S.bs)S.bs=S.str;addXP(25+Math.min(S.str*3,30),400,300)}else{S.str=0}
  inp.disabled=true;inp.style.color=cor?"var(--gn)":"var(--rd)";$("tsb").style.display="none";
  let ex=q.explain||'';if(!cor)ex=`Accepted: <code style="color:var(--gn)">${q.answer.join('</code> or <code style="color:var(--gn)">')}</code>`;
  $("tf").innerHTML=fb(cor,ex);updateTB();checkAch();
}

function nextQ(){qS.qi++;qS.ans=false;const m=MODULES.find(x=>x.id===qS.mid),l=m.lessons[qS.li];if(qS.qi>=l.questions.length)compQuiz();else renderQQ()}

function compQuiz(){
  const k=`${qS.mid}_${qS.li}`,isNew=!S.ld[k];
  if(isNew){S.ld[k]=true;S.lc++;S.mp[qS.mid]=(S.mp[qS.mid]||0)+1;addXP(50)}
  const pct=qS.tot>0?Math.round(qS.cor/qS.tot*100):100;
  if(pct===100&&qS.tot>0){S.pq=(S.pq||0)+1;addXP(50)}
  qS.phase="complete";save();checkAch();renderLC();
}

function renderLC(){
  const m=MODULES.find(x=>x.id===qS.mid),pct=qS.tot>0?Math.round(qS.cor/qS.tot*100):100,hasN=qS.li<m.lessons.length-1;
  const bc=pct>=80?'var(--gn)':pct>=50?'var(--or)':'var(--rd)';
  $("s-lesson").innerHTML=`<div class="rp asu"><h2 style="font-family:Orbitron;font-size:24px;margin-bottom:8px">Lesson Complete!</h2><p style="color:var(--txd)">${m.lessons[qS.li].title}</p><div class="scr" style="border:3px solid ${bc}"><div class="pc" style="color:${bc}">${pct}%</div><div class="lb">SCORE</div></div><div class="sr"><div class="si"><div class="va" style="color:var(--gn)">${qS.cor}</div><div class="la">Correct</div></div><div class="si"><div class="va" style="color:var(--rd)">${qS.tot-qS.cor}</div><div class="la">Wrong</div></div><div class="si"><div class="va" style="color:var(--or)">${S.str}\u{1F525}</div><div class="la">Streak</div></div></div>${pct===100?'<p style="color:var(--gd);font-family:Orbitron;font-size:14px;margin:12px 0">\u{1F4AF} PERFECT! +50 Bonus XP</p>':''}<div style="display:flex;gap:12px;justify-content:center;margin-top:24px;flex-wrap:wrap"><button class="btn bs" onclick="startLesson('${qS.mid}',${qS.li})">\u{1F504} Review</button>${hasN?`<button class="btn bp blg" onclick="startLesson('${qS.mid}',${qS.li+1})">Next Lesson \u2192</button>`:`<button class="btn bg blg" onclick="showScreen('campaign')">\u{1F3C6} Back to Campaign</button>`}</div></div>`;
}

// ARENA
function renderArena(){
  const sc=$("s-arena");
  if(!aS.active){sc.innerHTML=`<div style="max-width:700px;margin:0 auto;text-align:center" class="asu"><h2 style="font-family:Orbitron;font-size:28px;margin-bottom:8px">\u2694\uFE0F Command Arena</h2><p style="color:var(--txd);margin-bottom:32px">Rapid-fire questions from all topics.</p><div class="dg" style="grid-template-columns:1fr 1fr;margin-bottom:32px"><div class="dc"><h3>Correct</h3><div class="bn" style="color:var(--gn)">${S.ac}</div></div><div class="dc"><h3>Accuracy</h3><div class="bn" style="color:var(--cy)">${S.at>0?Math.round(S.ac/S.at*100):0}%</div></div></div><button class="btn bp blg" onclick="startArena()">\u26A1 Enter Arena</button></div>`}else renderAQ();
}
function startArena(){
  const all=[...ARENA_Q];MODULES.forEach(m=>m.lessons.forEach(l=>l.questions.forEach(q=>{if(q.type==="choice")all.push({q:q.q,o:q.options,a:q.answer,e:q.explain})})));
  for(let i=all.length-1;i>0;i--){const j=Math.floor(Math.random()*(i+1));[all[i],all[j]]=[all[j],all[i]]}
  aS={active:true,qs:all,i:0,c:0,t:0,ans:false};renderAQ();
}
function renderAQ(){
  const sc=$("s-arena"),q=aS.qs[aS.i%aS.qs.length],K=["A","B","C","D"];
  sc.innerHTML=`<div style="max-width:800px;margin:0 auto" class="afi"><div style="display:flex;justify-content:space-between;align-items:center;margin-bottom:20px"><div><span style="font-family:Orbitron;font-size:14px;color:var(--txd)">ARENA</span><span style="font-family:'JetBrains Mono';font-size:14px;margin-left:12px">Q${aS.t+1}</span></div><div style="display:flex;gap:16px;align-items:center"><span style="font-family:'JetBrains Mono';font-size:13px"><span style="color:var(--gn)">${aS.c}\u2713</span> <span style="color:var(--rd)">${aS.t-aS.c}\u2717</span></span><div style="font-family:Orbitron;font-size:14px;padding:6px 16px;border-radius:20px;background:var(--bg3);border:1px solid var(--or);color:var(--or)">${S.str}\u{1F525}</div><button class="btn bsm bd" onclick="endArena()">End</button></div></div><div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:32px;margin-bottom:20px;text-align:center"><div style="font-size:18px;line-height:1.6">${q.q}</div></div><div class="qo" id="ao">${q.o.map((o,i)=>`<div class="qopt" onclick="chkArena(${i},event)" data-idx="${i}"><div class="ok">${K[i]}</div><div>${o}</div></div>`).join('')}</div><div id="af" style="margin-top:16px"></div></div>`;
}
function chkArena(idx,ev){
  if(aS.ans)return;aS.ans=true;aS.t++;S.at++;S.ta++;
  const q=aS.qs[aS.i%aS.qs.length],cor=idx===q.a;
  document.querySelectorAll("#ao .qopt").forEach((o,i)=>{o.classList.add("disabled");if(i===q.a)o.classList.add("correct");if(i===idx&&!cor)o.classList.add("wrong")});
  if(cor){aS.c++;S.ac++;S.tc++;S.str++;if(S.str>S.bs)S.bs=S.str;const r=ev?.target?.getBoundingClientRect();addXP(10+Math.min(S.str*2,20),r?.x||400,r?.y||300);S.cm[q.q.substring(0,40)]=(S.cm[q.q.substring(0,40)]||0)+1}else{S.str=0}
  $("af").innerHTML=`<div style="padding:12px;background:${cor?'rgba(0,255,136,.1)':'rgba(255,61,61,.1)'};border-radius:8px;border:1px solid ${cor?'var(--gn)':'var(--rd)'}"><strong style="color:${cor?'var(--gn)':'var(--rd)'}">${cor?'\u2705 Correct!':'\u274C Wrong.'}</strong>${q.e?`<span style="font-size:13px;color:var(--txd);margin-left:8px">${q.e}</span>`:''}</div><button class="btn bp" style="margin-top:12px" onclick="aS.i++;aS.ans=false;renderAQ()">Next \u2192</button>`;
  updateTB();save();checkAch();
}
function endArena(){
  const pct=aS.t>0?Math.round(aS.c/aS.t*100):0;aS.active=false;
  $("s-arena").innerHTML=`<div class="rp asu"><h2 style="font-family:Orbitron;font-size:24px">Arena Complete</h2><div class="scr" style="border:3px solid ${pct>=70?'var(--gn)':'var(--or)'}"><div class="pc" style="color:${pct>=70?'var(--gn)':'var(--or)'}">${pct}%</div><div class="lb">ACCURACY</div></div><div class="sr"><div class="si"><div class="va" style="color:var(--gn)">${aS.c}</div><div class="la">Correct</div></div><div class="si"><div class="va" style="color:var(--rd)">${aS.t-aS.c}</div><div class="la">Wrong</div></div><div class="si"><div class="va" style="color:var(--or)">${S.bs}\u{1F525}</div><div class="la">Best Streak</div></div></div><div style="display:flex;gap:12px;justify-content:center;margin-top:24px"><button class="btn bs" onclick="showScreen('dashboard')">Dashboard</button><button class="btn bp" onclick="startArena()">\u26A1 Again</button></div></div>`;save();
}

// TROUBLESHOOT
function renderTS(){
  const sc=$("s-troubleshoot");
  if(!tS.in){const sd=S.sd||{},cnt=Object.keys(sd).length;
  sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:8px">\u{1F527} Troubleshooting Lab</h2><p style="color:var(--txd);margin-bottom:24px">Solved: ${cnt}/${SCENARIOS.length}</p>${SCENARIOS.map((s,i)=>{const d=sd[i];return`<div class="mc ${d?'completed':''}" onclick="startSc(${i})"><div class="mn" style="font-size:14px">${d?'\u2713':i+1}</div><div style="flex:1"><div style="font-family:Orbitron;font-size:15px;font-weight:600">${s.title}</div><div style="font-size:13px;color:var(--txd)">${(s.situation||s.desc).substring(0,80)}...</div></div><span style="color:${d?'var(--gn)':'var(--txd)'};font-size:13px">${d?'Solved':'Unsolved'}</span></div>`}).join('')}</div>`}else renderSQ();
}
function startSc(i){tS={in:true,idx:i,ans:false};renderSQ()}
function renderSQ(){
  const sc=$("s-troubleshoot"),s=SCENARIOS[tS.idx],K=["A","B","C","D"];
  if(s.options){sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="asu"><button class="btn bsm bs" onclick="tS.in=false;renderTS()" style="margin-bottom:16px">\u2190 Back</button><div class="sb"><h3>\u{1F6A8} ${s.title}</h3><div style="font-size:15px;line-height:1.7;margin-bottom:16px">${s.situation}</div><div class="to">${s.terminal}</div></div><div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:32px;margin-bottom:20px;text-align:left"><div style="font-size:17px;line-height:1.6">${s.question}</div></div><div class="qo" id="so">${s.options.map((o,i)=>`<div class="qopt" onclick="chkSc(${i})" data-idx="${i}"><div class="ok">${K[i]}</div><div>${o}</div></div>`).join('')}</div><div id="sf" style="margin-top:16px"></div></div>`}
  else{sc.innerHTML=`<div style="max-width:900px;margin:0 auto" class="asu"><button class="btn bsm bs" onclick="tS.in=false;renderTS()" style="margin-bottom:16px">\u2190 Back</button><div class="sb"><h3>\u{1F6A8} ${s.title}</h3><div style="font-size:15px;line-height:1.7;margin-bottom:16px">${s.desc}</div></div><div style="background:var(--bg3);border:1px solid var(--br);border-radius:10px;padding:24px;margin-bottom:20px"><h4 style="font-family:Orbitron;font-size:15px;margin-bottom:12px">\u{1F50D} Troubleshooting Steps</h4>${s.steps.map((st,i)=>`<div style="display:flex;gap:12px;align-items:flex-start;margin-bottom:10px"><div style="min-width:28px;height:28px;background:var(--ac);color:#000;border-radius:50%;display:flex;align-items:center;justify-content:center;font-weight:700;font-size:13px">${i+1}</div><div class="to" style="flex:1;margin:0;padding:8px 12px">${st}</div></div>`).join('')}</div><div id="sf"><button class="btn bp" onclick="revealScAns(${tS.idx})">Reveal Solution</button></div><div id="sa" style="margin-top:16px"></div></div>`}
}
function revealScAns(idx){
  const s=SCENARIOS[idx];if(!S.sd)S.sd={};if(!S.sd[idx]){S.sd[idx]=true;S.ss=(S.ss||0)+1;S.ta++;S.tc++;addXP(75,400,300)}
  $("sf").style.display="none";
  $("sa").innerHTML=`<div style="padding:16px;background:rgba(0,255,136,.1);border-radius:8px;border:1px solid var(--gn)"><strong style="color:var(--gn)">\u2705 Solution</strong><p style="margin-top:8px;font-size:14px;color:var(--txd)">${s.answer}</p></div><div style="display:flex;gap:12px;margin-top:16px"><button class="btn bs" onclick="tS.in=false;renderTS()">Back</button>${idx<SCENARIOS.length-1?`<button class="btn bp" onclick="startSc(${idx+1})">Next \u2192</button>`:''}</div>`;
  updateTB();save();checkAch();
}
function chkSc(idx){
  if(tS.ans)return;tS.ans=true;S.ta++;
  const s=SCENARIOS[tS.idx],cor=idx===s.answer;
  document.querySelectorAll("#so .qopt").forEach((o,i)=>{o.classList.add("disabled");if(i===s.answer)o.classList.add("correct");if(i===idx&&!cor)o.classList.add("wrong")});
  if(cor){S.tc++;S.str++;if(S.str>S.bs)S.bs=S.str;if(!S.sd)S.sd={};if(!S.sd[tS.idx]){S.sd[tS.idx]=true;S.ss=(S.ss||0)+1;addXP(75,400,300)}}else{S.str=0}
  $("sf").innerHTML=`<div style="padding:16px;background:${cor?'rgba(0,255,136,.1)':'rgba(255,61,61,.1)'};border-radius:8px;border:1px solid ${cor?'var(--gn)':'var(--rd)'}"><strong style="color:${cor?'var(--gn)':'var(--rd)'}">${cor?'\u2705 Correct!':'\u274C Not quite.'}</strong><p style="margin-top:8px;font-size:14px;color:var(--txd)">${s.explain}</p></div><div style="display:flex;gap:12px;margin-top:16px"><button class="btn bs" onclick="tS.in=false;renderTS()">Back</button>${tS.idx<SCENARIOS.length-1?`<button class="btn bp" onclick="startSc(${tS.idx+1})">Next \u2192</button>`:''}</div>`;
  updateTB();save();checkAch();
}

// REFERENCE
const CC={'Navigation':'#00e5ff','Setup':'#b388ff','Security':'#ff3d3d','Show':'#00ff88','FileMgmt':'#ffd740','Interfaces':'#ff9100','VLANs':'#00bcd4','Routing':'#e040fb','OSPF':'#7c4dff','ACLs':'#ff5252','NAT':'#ffab40','Services':'#69f0ae','Troubleshoot':'#ffd740'};
function rCards(cmds){return cmds.map(c=>{const m=S.cm[c.c]||0,cl=CC[c.t]||'#888';return`<div class="rc"><div class="rcm">${c.c}</div><div class="rcd">${c.d}</div><div style="display:flex;justify-content:space-between;align-items:center;margin-top:8px"><span class="rcat" style="background:${cl}22;color:${cl};border:1px solid ${cl}44">${c.t}</span><div class="md2">${[1,2,3].map(i=>`<div class="mdd ${m>=i?'f':''}"></div>`).join('')}</div></div></div>`}).join('')}
let rcf='all';
function renderRef(){
  const cats=[...new Set(CMD_REF.map(c=>c.t))];
  $("s-reference").innerHTML=`<div class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:20px">\u{1F4D6} Command Reference</h2><div class="rfs"><input type="text" class="rfi" placeholder="\u{1F50D} Search commands..." oninput="fRef()" id="rsi"><div style="display:flex;gap:6px;flex-wrap:wrap"><button class="rfb active" onclick="fCat('all',this)">All</button>${cats.map(c=>`<button class="rfb" onclick="fCat('${c}',this)">${c}</button>`).join('')}</div></div><div class="rsg" id="rg">${rCards(CMD_REF)}</div></div>`;
}
function fCat(c,b){rcf=c;document.querySelectorAll('.rfb').forEach(x=>x.classList.remove('active'));b.classList.add('active');fRef()}
function fRef(){const t=($("rsi")?.value||'').toLowerCase();let f=CMD_REF;if(rcf!=='all')f=f.filter(c=>c.t===rcf);if(t)f=f.filter(c=>c.c.toLowerCase().includes(t)||c.d.toLowerCase().includes(t));$("rg").innerHTML=rCards(f)}

// ACHIEVEMENTS
function renderAchiev(){$("s-achievements").innerHTML=`<div class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:8px">\u{1F3C6} Achievements</h2><p style="color:var(--txd);margin-bottom:24px">${S.av.length}/${ACHV.length} unlocked</p><div class="ag">${ACHV.map(a=>{const e=S.av.includes(a.id);return`<div class="ac ${e?'earned':'locked'}"><div class="ai2">${a.i}</div><div><h4 style="font-size:14px;font-weight:600;margin-bottom:4px">${a.n}</h4><p style="font-size:12px;color:var(--txd)">${a.d}</p>${e?'<span style="font-size:11px;color:var(--gd)">\u2705 Unlocked</span>':'<span style="font-size:11px;color:var(--txd)">\u{1F512} Locked</span>'}</div></div>`}).join('')}</div></div>`}

// SETTINGS
function renderSet(){const r=getRank(S.lv);$("s-settings").innerHTML=`<div style="max-width:600px;margin:0 auto" class="asu"><h2 style="font-family:Orbitron;font-size:22px;margin-bottom:20px">\u2699\uFE0F Settings</h2><div class="ss"><h3>Profile</h3><p style="margin-bottom:8px">Rank: ${r.i} ${r.n}</p><p style="margin-bottom:8px">Level: ${S.lv}</p><p>Lessons: ${S.lc}/${getTL()}</p></div><div class="ss"><h3>Data</h3><p style="font-size:13px;color:var(--txd);margin-bottom:16px">Progress saves automatically.</p><button class="btn bd" onclick="if(confirm('\u26A0\uFE0F Delete ALL progress?')){localStorage.removeItem('${SK}');location.reload()}">\u{1F5D1}\uFE0F Reset</button></div><div class="ss"><h3>About</h3><p style="font-size:13px;color:var(--txd)">Cisco CLI Academy \u2014 Command Line Combat Training. Covers IOS navigation, device setup, VLANs, routing, OSPF, ACLs, NAT, security, troubleshooting. Open this file anytime to continue.</p></div><button class="btn bs" onclick="showScreen('dashboard')" style="margin-top:12px">\u2190 Back</button></div>`}

// KEYBOARD
document.addEventListener('keydown',e=>{if(e.target.tagName==='INPUT')return;const k=e.key.toUpperCase();if(['A','B','C','D'].includes(k)){const i=k.charCodeAt(0)-65;const o=document.querySelector(`.qopt[data-idx="${i}"]`);if(o&&!o.classList.contains('disabled'))o.click()}if(e.key==='Enter'){const b=document.querySelector('#qf .btn,#af .btn,#sf .btn,#tf .btn');if(b)b.click()}});

// INIT
function startNewGame(){S.started=true;save();$("ws").style.display="none";$("ma").style.display="block";updateTB();showScreen("dashboard")}
function init(){load();if(S.started){$("ws").style.display="none";$("ma").style.display="block";updateTB();showScreen("dashboard")}else{$("ws").style.display="flex";$("ma").style.display="none"}}
init();
</script></body></html>